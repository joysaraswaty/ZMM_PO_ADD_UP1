/**
* This file was auto-generated by SAP Web IDE build and includes all
* the source files required by SAPUI5 runtime for performance optimization.
* PLEASE DO NOT EDIT THIS FILE!! Changes will be overwritten the next time the build is run.
*/
jQuery.sap.registerPreloadedModules({
	"version": "2.0",
	"name": "PurchaseOrdersPurchaseOrders/Component-preload",
	"modules": {
		"PurchaseOrdersPurchaseOrders/Component.js": "sap.ui.define([\r\n\t\"sap/ui/core/UIComponent\",\r\n\t\"sap/ui/Device\",\r\n\t\"PurchaseOrdersPurchaseOrders/model/models\",\r\n\t\"PurchaseOrdersPurchaseOrders/AppInstance\"\r\n], function(UIComponent, Device, models, AppInstance) {\r\n\t\"use strict\";\r\n\t\r\n\treturn UIComponent.extend(\"PurchaseOrdersPurchaseOrders.Component\", {\r\n\t\t\"AppInstance\" : AppInstance,\r\n\t\tmetadata: {\r\n\t\t\tmanifest: \"json\",\r\n\t\t\tconfig : {\r\n\t\t\t\tfullWidth : true\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * The component is initialized by UI5 automatically during the startup of the app and calls the init method once.\r\n\t\t * @public\r\n\t\t * @override\r\n\t\t */\r\n\t\tinit: function() {\r\n\t\t\t// call the base component's init function\r\n\t\t\tUIComponent.prototype.init.apply(this, arguments);\r\n\r\n/*sap.m.InputBase.prototype.onsaptabnext = function(){\r\n    if(sap.m.InputBase.prototype.onsapenter){\r\n\t\tsap.m.InputBase.prototype.onsapenter.apply(this, arguments);\r\n    }\r\n};*/\r\n\r\n\r\n\r\n\t\t\t// set the device model\r\n\t\t\tthis.setModel(models.createDeviceModel(), \"device\");\r\n\t\t\t\r\n\t\t\tAppInstance.Initialize();\r\n\t\t\t\r\n\t\t\t// Initialize Router\r\n\t\t\tthis.getRouter().initialize();\r\n\t\t},\r\n\t\t\r\n\t\tdestroy : function() {\r\n\t\t\tconsole.log(\"Destroy called invoked !\");\r\n\t\t\tsap.ui.core.UIComponent.prototype.destroy.apply(this, arguments);\r\n\t\t\t//\r\n\t\t\t//AppInstance.__inputDocumentType.destroy();\r\n\t\t\t//AppInstance.__inputDocumentType = undefined ;\r\n\t\t}\r\n\t});\r\n});",
		"PurchaseOrdersPurchaseOrders/AppInstance.js": "sap.ui.define([\r\n\t\"sap/ui/core/UIComponent\",\r\n\t\"sap/ui/Device\",\r\n\t\"PurchaseOrdersPurchaseOrders/model/models\",\r\n\t\"sap/ui/core/routing/History\"\r\n\t\r\n], function(UIComponent, Device, models, History) {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\r\n\t\tlastFetchedItemIndexInCurrentPO_POItem : \"00000\" ,\r\n\t\t\r\n\t\tmodelGetPOs : undefined ,\r\n\t\tmodelGetPOs_Content : undefined,\r\n\t\t\r\n\t\tCurrentMODEL_Header : undefined,\r\n\t\tCurrentMODEL_Items : undefined,\r\n\t\t\r\n\t\tlastSelected_PONumber : \"\",\r\n\t\tlastSelected_POItem : \"\" ,\r\n\t\tlastSelected_ItemRowIndex : \"\" ,\r\n\t\tlastSelected_POAction : undefined ,\r\n\t\t// \"PO_ACTION__NEW\" , \"PO_ACTION__COPY\" , \"PO_ACTION_EDIT\"\r\n\t\t// following row added on 12-Dec-2017 due to approval status change enhacement\r\n\t\tlastSelected_POApprovalStatus : undefined ,\r\n\r\n\t\ttablePOs : undefined,\r\n\t\t\r\n\t\ttablePOItems : undefined ,\r\n\t\ttablePOAdress : undefined ,\r\n\t\ttablePOText : undefined,\r\n\t\ttablePOSubItems : undefined ,\r\n\t\ttableItemHistory : undefined ,\r\n\t\t// following one line added due to addition of the plant field in header 4 Dec 2017\r\n\t\ttablePOAddress : undefined ,\r\n\t\ttablePOAttachment : undefined ,\r\n\t\tdialogSubItems : undefined ,\r\n\t\tdialogItemHistory : undefined,\r\n\t\t\r\n\t\thandle_to_HandlePOView : undefined,    \r\n\t\t\r\n\t\t\r\n\t\t__inputPONumber : undefined ,\r\n\t\t__inputDocumentType : undefined,\r\n\t\t__inputCompanyCode : undefined,\r\n\t\t__inputPurchasingOrganization : undefined ,\r\n\t\t__inputSupplier : undefined,\r\n\t\t__inputPurchasingGroup : undefined,\r\n\t\t__inputTotalPOValue : undefined,\r\n\t\t__inputPaymentTerms : undefined,\r\n\t\t__inputCurrency : undefined,\r\n\t\t__inputRequisitioner : undefined ,\r\n\t\t__inputEmail : undefined,\r\n\t\t__inputApprover : undefined,\r\n\t\t/*following line changed due to addition of Header Text field in header 7 feb 2018*/\r\n\t\t__inputHeaderText : undefined,\r\n\t\t\r\n\t\tlastSelected_ForNewItem_UM_PoUnit : \"\",\r\n\t\tlastSelected_ForNewItem_UM_PoUnitText : \"\",\r\n\t\tlastSelected_ForNewItem_Plant_Plant : \"\",\r\n\t\tlastSelected_ForNewItem_Plant_PlantText : \"\",\r\n\t\t\r\n\t\t\r\n\t\tdefaultPlantAddres_Name : undefined ,\r\n\t\tdefaultPlantAddres_Street : undefined ,\r\n\t\tdefaultPlantAddres_StreetNo : undefined ,\r\n\t\tdefaultPlantAddres_PostlCod1 : undefined ,\r\n\t\tdefaultPlantAddres_City : undefined ,\r\n\t\tdefaultPlantAddres_Region : undefined ,\r\n\t\tdefaultPlantAddres_Country : undefined ,\r\n\t\t\r\n\t\t\r\n\t\tselectedDistributionIsQuantity : false ,\r\n\t\tselectedDistributionIsPercentage : false ,\r\n\t\t\r\n\r\n\t\tCurrentMODEL_SubItems : undefined ,\r\n\t\tCurrentMODEL_SubItems_Entries_ALL : undefined ,\r\n\t\tCurrentMODEL_SubItems_Entries_InsideDistribution : undefined ,\r\n\t\tCurrentMODEL_SubItems_Entries_OutsideDistribution : undefined ,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\tCurrentMODEL_SubItems_MaxDistrib_Quantity : undefined ,\r\n\t\tCurrentMODEL_SubItems_MaxDistrib_Percentage : 100 ,\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\tCurrentMODEL_ItemHistory : undefined ,\t\t\r\n\t\t\t\t\r\n\t\tselectedDistribution : undefined ,\t\t\r\n\t\t\t\t\r\n\t\t// openTextNav var is added so that back navigation will lead to openText app\r\n\t\topenTextNav : false ,\r\n\t\t\r\n\t\t// to support default text in German we need user language\r\n\t\tsCurrentLocale : undefined  ,\r\n\t\t\r\n\t\tInitialize : function () {\r\n\r\n\t\t},\r\n\r\n\t\tdisplayMessage : function(message) {\r\n\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\t       \t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t     (message), {\r\n\t\t\t\t\t          icon: sap.m.MessageBox.Icon.INFORMATION,\r\n\t\t\t\t\t          title: \"Message\",\r\n\t\t\t\t\t          actions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t          onClose: function(oAction) {\r\n\t\t\t\t\t          }\r\n\t\t\t\t\t      }\r\n\t\t\t\t\t    );\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\tdisplayValidationMessageToast : function ( message ) {\r\n\t\t\t\tsap.m.MessageToast.show(message, {\r\n\t\t\t    duration: 3000,                  // default\r\n\t\t\t    width: \"50em\",                   // default\r\n\t\t\t    my: \"center bottom\",             // default\r\n\t\t\t    at: \"center bottom\",             // default\r\n\t\t\t    of: window,                      // default\r\n\t\t\t    offset: \"0 0\",                   // default\r\n\t\t\t    collision: \"fit fit\",            // default\r\n\t\t\t    onClose: null,                   // default\r\n\t\t\t    autoClose: true,                 // default\r\n\t\t\t    animationTimingFunction: \"ease\", // default\r\n\t\t\t    animationDuration: 1000,         // default\r\n\t\t\t    closeOnBrowserNavigation: true   // default\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\tformatDateForSAP : function ( inputDate ) {\r\n\t\t\t\tvar day = inputDate.getDate().toString();\r\n\t\t\t\t\r\n\t\t\t\tif (day.length < 2) {\r\n\t\t\t\t\tday = \"0\"+day ;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar month = (inputDate.getMonth() + 1).toString();\r\n\t\t\t\tif (month.length < 2) {\r\n\t\t\t\t\tmonth = \"0\" + month;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar year = inputDate.getFullYear().toString();\r\n\t\t\t\t\r\n\t\t\t\treturn  year + \"-\" + month + \"-\" + day;\r\n\t\t},\r\n\t\t\r\n\t\t/*function to restrict upto 3 digits after decimal for Item vale filed in posting*/\r\n\t\t\tformat_3DigitsDecimalNumber: function(inputValue) {\r\n\t\t\tif ( (inputValue) && (inputValue !== \"\") && (inputValue !== undefined ))\r\n\t\t\t{\r\n\t\t\t\tinputValue = inputValue.toString();\r\n\t\t\t\tif (inputValue)\r\n\t\t\t\t\tif (inputValue.indexOf('.') != -1) {\r\n\t\t\t\t\t\tvar places = inputValue.length - inputValue.indexOf('.') - 1;\r\n\t\t\t\t\t\tif (places >= 3) {\r\n\t\t\t\t\t\t\tvar num = parseFloat(inputValue);\r\n\t\t\t\t\t\t\tif ( num % 1 > 0 )\r\n\t\t\t\t\t\t\t\tinputValue = num.toFixed(3);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tinputValue = parseInt(num);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t\t\treturn inputValue;\r\n\t\t\t},\r\n\t\t\r\n\t\tnavBack: function () {\r\n\t\t\t\tvar oHistory = History.getInstance();\r\n\t\t\t\tvar sPreviousHash = oHistory.getPreviousHash();\r\n\t\r\n\t\t\t\tif (sPreviousHash !== undefined) {\r\n\t\t\t\t\tif(this.openTextNav){\r\n\t\t\t\t\t\twindow.history.go(-2);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\twindow.history.go(-1);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar oRouter = sap.ui.core.UIComponent.getRouterFor(this);\r\n\t\t\t\t\t/*following line changed on 8 Nov 2017\r\n\t\t\t\t\toRouter.navTo(\"routeManagePOs\", true);*/\r\n\t\t\t\t\toRouter.navTo(\"targetManagePOs\", true);\r\n\t\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tvalidateDataBeforePOST : function () {\r\n\t\t\t\tif (\r\n\t\t\t\t\t(this.CurrentMODEL_Header.getProperty(\"/DocType\") === \"\") ||\r\n\t\t\t\t\t(this.CurrentMODEL_Header.getProperty(\"/DocTypetxt\") === \"\") ||\r\n\t\t\t\t\t(this.CurrentMODEL_Header.getProperty(\"/CompCode\") === \"\") ||\r\n\t\t\t\t\t(this.CurrentMODEL_Header.getProperty(\"/CompCodetxt\") === \"\") ||\r\n\t\t\t\t\t(this.CurrentMODEL_Header.getProperty(\"/PurchOrg\") === \"\") ||\r\n\t\t\t\t\t(this.CurrentMODEL_Header.getProperty(\"/PurchOrgtxt\") === \"\") ||\r\n\t\t\t\t\t(this.CurrentMODEL_Header.getProperty(\"/Vendor\") === \"\") ||\r\n\t\t\t\t\t(this.CurrentMODEL_Header.getProperty(\"/Vendorname\") === \"\") ||\r\n\t\t\t\t\t(this.CurrentMODEL_Header.getProperty(\"/PurGroup\") === \"\") ||\r\n\t\t\t\t\t(this.CurrentMODEL_Header.getProperty(\"/PurGrouptxt\") === \"\") ||\r\n\t\t\t\t\t(this.CurrentMODEL_Header.getProperty(\"/Currency\") === \"\") ||\r\n\t\t\t\t\t(this.CurrentMODEL_Header.getProperty(\"/PreqName\") === \"\") ||\r\n\t\t\t\t\t(this.CurrentMODEL_Header.getProperty(\"/PreqNametxt\") === \"\") ||\r\n\t\t\t\t\t(this.CurrentMODEL_Header.getProperty(\"/EMail\") === \"\") ||\r\n\t\t\t\t\r\n\t\t\t\t(\t((this.CurrentMODEL_Header.getProperty(\"/EMail\").slice(-8)).toUpperCase() !== \"@KAO.COM\") &&\r\n\t\t\t\t\t\t((this.CurrentMODEL_Header.getProperty(\"/EMail\").slice(-14)).toUpperCase() !== \"@KPSS-HAIR.COM\") &&\r\n\t\t\t\t\t\t\t((this.CurrentMODEL_Header.getProperty(\"/EMail\").slice(-17)).toUpperCase() !== \"@KPSS-HAIR.COM.HK\")\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\treturn 1;\r\n\t\t\t\tvar allItemFieldsOk = true ;\r\n\t\t\t\t\r\n\t\t\t\tthis.CurrentMODEL_Items.getData().results.forEach(function(item_element){\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t(item_element.Acctasscat === \"\") ||\r\n\t\t\t\t\t\t(item_element.ShortText === \"\") ||\r\n\t\t\t\t\t\t(item_element.MatlGroup === \"\") ||\r\n\t\t\t\t\t\t(item_element.Plant === \"\") ||\r\n\t\t\t\t\t\t(item_element.DeliveryDate === \"\") ||\r\n\t\t\t\t\t\t(item_element.Quantity === \"\") ||\r\n\t\t\t\t\t\t(item_element.NetPrice === \"\") ||\r\n\t\t\t\t\t\t(item_element.Currency === \"\") ||\r\n\t\t\t\t\t\t(item_element.PriceUnit === \"\") ||\r\n\t\t\t\t\t\t(item_element.GlAccount === \"\") ||\r\n\t\t\t\t\t\t(item_element.Costcenter === \"\")\r\n\t\t\t\t\t){\r\n\t\t\t\t\t\titem_element.valueStateFlag = true;\r\n\r\n\t\t\t\t\tallItemFieldsOk = false ;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.CurrentMODEL_Items.refresh();\r\n\t\t\t\t\r\n\t\t\t\t//Issue 48\r\n\t\t\t\tvar selectedDocType = this.CurrentMODEL_Header.getProperty(\"/DocType\");\r\n\t\t\t\tif (selectedDocType === \"NB2Z\" || selectedDocType === \"N2ZD\"\r\n\t\t\t\t\t|| selectedDocType === \"NB3Z\" || selectedDocType === \"NB2F\"\r\n\t\t\t\t){\r\n\t\t\t\t\tthis.CurrentMODEL_Items.getData().results.forEach(function(item_element){\r\n\t\t\t\t\t\tif(item_element.Orderid === \"\") {\r\n\t\t\t\t\t\t\t\tallItemFieldsOk = false ;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif(item_element.Costcenter === \"\"){\r\n\t\t\t\t\t\t\t\tif(selectedDocType === \"NB2F\"){\r\n\t\t\t\t\t\t\t\t\tallItemFieldsOk = true ;\t\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tallItemFieldsOk = false ;\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//Issue 48\r\n\t\t\t\t\t\t\r\n\t\t\t\tif (!allItemFieldsOk)\r\n\t\t\t\t\treturn 2 ;\r\n\r\n\t\t\t\t\treturn 0 ;\r\n\t\t}\r\n\t\r\n\t};\r\n});",
		"PurchaseOrdersPurchaseOrders/Grantfile.js": "module.exports = function(grunt){\n\n \n\ngrunt.loadNpmTasks('@sap/grunt-sapui5-bestpractice-build');\n//register the task\ngrunt.registerTask('default', ['clean','build']);\n\n \n\n};",
		"PurchaseOrdersPurchaseOrders/view/viewHandlePO.view.xml": "<mvc:View xmlns:mvc=\"sap.ui.core.mvc\" xmlns:c=\"sap.ui.core\" xmlns:l=\"sap.ui.layout\" xmlns:f=\"sap.ui.layout.form\"\r\n\txmlns:smartForm=\"sap.ui.comp.smartform\" xmlns:smartField=\"sap.ui.comp.smartfield\" xmlns=\"sap.m\" height=\"100%\" class=\"sapUiSizeCompact\"\r\n\tcontrollerName=\"PurchaseOrdersPurchaseOrders.controller.viewHandlePO\" \txmlns:u=\"sap.ui.unified\">\r\n\t<c:Fragment fragmentName=\"PurchaseOrdersPurchaseOrders.view.fragmentDistributionManagement\" type=\"XML\"/>\r\n\t<Page title=\"{i18n>LABEL_DETAIL_VIEW_TITLE}\" showHeader=\"true\" enableScrolling=\"true\" class=\"sapUiContentPadding\" showNavButton=\"false\">\r\n\t\t<content>\r\n\r\n\t\t\t<VBox>\r\n\t\t\t\t<f:SimpleForm id=\"formPOHeader\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanXL=\"4\" labelSpanL=\"5\" labelSpanM=\"4\" labelSpanS=\"12\"\r\n\t\t\t\t\tadjustLabelSpan=\"false\" emptySpanXL=\"0\" emptySpanL=\"1\" emptySpanM=\"0\" emptySpanS=\"0\" columnsXL=\"2\" columnsL=\"2\" columnsM=\"2\"\r\n\t\t\t\t\tsingleContainerFullSize=\"false\">\r\n\t\t\t\t\t<f:content>\r\n\t\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t\t<Title text=\"{i18n>LABEL_GENERAL_DATA}\" level=\"H5\" titleStyle=\"H5\"/>\r\n\t\t\t\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t\t<Label text=\"{i18n>LABEL_PO_NUM}\" design=\"Bold\"/>\r\n\t\t\t\t\t\t<Input id=\"inputPONumber\" editable=\"false\" value=\"{/PoNumber}\" class=\"sapUiTinyMarginBottom\"/>\r\n\t\t\t\t\t\t<Label text=\"{i18n>LABEL_PO_DOC_TYPE}\" required=\"true\"/>\r\n\t\t\t\t\t\t<Input id=\"inputDocumentType\" editable=\"true\"\r\n\t\t\t\t\t\t\tvalue=\"{ parts : [{ path : '/DocType' } , {path : '/DocTypetxt'}], formatter : '.formatIsEmptyHeaderValue'}\" showSuggestion=\"true\"\r\n\t\t\t\t\t\t\tshowValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__DocumentType\" change=\"fn_focusout__DocumentType\" class=\"sapUiTinyMarginBottom\"\r\n\t\t\t\t\t\t\tenabled=\"{ path : '/' , formatter : '.formatIsDocumentTypeFieldEnabled' }\"/>\r\n\t\t\t\t\t\t<Label text=\"{i18n>LABEL_COMP_CODE}\" required=\"true\"/>\r\n\t\t\t\t\t\t<Input id=\"inputCompanyCode\" editable=\"true\"\r\n\t\t\t\t\t\t\tvalue=\"{ parts : [{ path : '/CompCode' } , {path : '/CompCodetxt'}], formatter : '.formatIsEmptyHeaderValue'}\" showSuggestion=\"true\"\r\n\t\t\t\t\t\t\tshowValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__CompanyCode\" change=\"fn_focusout_CompanyCode\" class=\"sapUiTinyMarginBottom\"/>\r\n\t\t\t\t\t\t<Label text=\"{i18n>LABEL_PUR_ORG}\" required=\"true\"/>\r\n\t\t\t\t\t\t<Input id=\"inputPurchasingOrganization\" editable=\"true\"\r\n\t\t\t\t\t\t\tvalue=\"{ parts : [{ path : '/PurchOrg' } , {path : '/PurchOrgtxt'}], formatter : '.formatIsEmptyHeaderValue'}\" showSuggestion=\"true\"\r\n\t\t\t\t\t\t\tshowValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__PurchasingOrganization\" change=\"fn_focusout_PurchasingOrganization\"\r\n\t\t\t\t\t\t\tclass=\"sapUiTinyMarginBottom\"/>\r\n\t\t\t\t\t\t<Label text=\"{i18n>LABEL_SUPPLIER}\" required=\"true\"/>\r\n\t\t\t\t\t\t<Input id=\"inputSupplier\" editable=\"true\"\r\n\t\t\t\t\t\t\tvalue=\"{ parts : [{ path : '/Vendor' } , {path : '/Vendorname'}], formatter : '.formatIsEmptyHeaderValue'}\" showSuggestion=\"true\"\r\n\t\t\t\t\t\t\tshowValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__Supplier\" change=\"fn_focusout_Supplier\" class=\"sapUiTinyMarginBottom\"/>\r\n\t\t\t\t\t\t<Label text=\"{i18n>LABEL_PUR_GRP}\" required=\"true\"/>\r\n\t\t\t\t\t\t<Input id=\"inputPurchasingGroup\" editable=\"true\"\r\n\t\t\t\t\t\t\tvalue=\"{ parts : [{ path : '/PurGroup' } , {path : '/PurGrouptxt'}], formatter : '.formatIsEmptyHeaderValue'}\" showSuggestion=\"true\"\r\n\t\t\t\t\t\t\tshowValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__PurchasingGroup\" change=\"fn_focusout_PurchasingGroup\" class=\"sapUiTinyMarginBottom\"/>\r\n\t\t\t\t\t\t<Label text=\"{i18n>LABEL_PLANT}\" tooltip=\"Plant\" visible=\"true\"/>\r\n\t\t\t\t\t\t<Input id=\"plantHeader\"\r\n\t\t\t\t\t\t\tvalue=\"{parts : [{path : '/results/0/Plant'} , {path : '/results/0/Planttxt'} ], formatter : '.formatIsEmptyHeaderValue' }\"\r\n\t\t\t\t\t\t\tshowSuggestion=\"true\" showValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__Header_Plant\"/>\r\n\t\t\t\t\t\t<Label text=\"Label\" width=\"100%\" id=\"__label59\"/>\r\n\t\t\t\t\t\t<Label id=\"idInformationLabel\" text=\"{i18n>LABEL_INFORMATION}\" visible=\"false\"/>\r\n\t\t\t\t\t\t<Button id=\"idInformationButton\" text=\"\" icon=\"sap-icon://hint\" press=\"onInformationPress\" width=\"10%\" visible=\"false\" enabled=\"false\"/>\r\n\t\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t\t<Title text=\"\" level=\"H5\" titleStyle=\"H5\"/>\r\n\t\t\t\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t\t<Label text=\"{i18n>LABEL_TOTAL_PO_VALUE}\"/>\r\n\t\t\t\t\t\t<Input id=\"inputTotalPOValue\" editable=\"false\" value=\"{/TotalValue}\" class=\"sapUiTinyMarginBottom\"/>\r\n\t\t\t\t\t\t<Label text=\"{i18n>LABEL_PAYMENT_TERM}\" required=\"true\"/>\r\n\t\t\t\t\t\t<Input id=\"inputPaymentTerms\" editable=\"false\"\r\n\t\t\t\t\t\t\tvalue=\"{ parts : [{ path : '/Pmnttrms' } , {path : '/Pmnttrmstxt'}], formatter : '.formatIsEmptyHeaderValue'}\" showSuggestion=\"true\"\r\n\t\t\t\t\t\t\tshowValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__PaymentTerms\" class=\"sapUiTinyMarginBottom\"/>\r\n\t\t\t\t\t\t<Label text=\"{i18n>LABEL_CUR}\" required=\"true\"/>\r\n\t\t\t\t\t\t<Input id=\"inputCurrency\" editable=\"true\" value=\"{/Currency}\" showSuggestion=\"true\" showValueHelp=\"true\"\r\n\t\t\t\t\t\t\tvalueHelpRequest=\"fn_val_hlp_req__Currency\" change=\"fn_focusout_Currency\" class=\"sapUiTinyMarginBottom\"/>\r\n\t\t\t\t\t\t<Label text=\"{i18n>LABEL_REQUISITION}\" required=\"true\"/>\r\n\t\t\t\t\t\t<Input id=\"inputRequisitioner\" editable=\"true\"\r\n\t\t\t\t\t\t\tvalue=\"{ parts : [{ path : '/PreqName' } , {path : '/PreqNametxt'}], formatter : '.formatIsEmptyHeaderValue'}\" showSuggestion=\"true\"\r\n\t\t\t\t\t\t\tshowValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__Requisitioner\" change=\"fn_focusout_Requisitioner\" class=\"sapUiTinyMarginBottom\"/>\r\n\t\t\t\t\t\t<Label text=\"{i18n>LABEL_PO_CREATOR_EMAIL}\" required=\"true\"/>\r\n\t\t\t\t\t\t<Input id=\"inputEmail\" editable=\"true\" value=\"{/EMail}\" required=\"true\" liveChange=\"fn_val_hlp_req__EMail\" class=\"sapUiTinyMarginBottom\"\r\n\t\t\t\t\t\t\ttype=\"Email\"/>\r\n\t\t\t\t\t\t<Label text=\"{i18n>LABEL_APPROVER}\" required=\"false\"/>\r\n\t\t\t\t\t\t<Input id=\"inputApprover\" editable=\"false\" value=\"{/Input2}\" required=\"false\" class=\"sapUiTinyMarginBottom\"/>\r\n\t\t\t\t\t\t<Label text=\"{i18n>LABEL_HEADER_TEXT}\" required=\"false\"/>\r\n\t\t\t\t\t\t<Input id=\"HeaderText\" editable=\"true\" value=\"{/Input4}\" required=\"false\" class=\"sapUiTinyMarginBottom\" maxLength=\"30\"\r\n\t\t\t\t\t\t\tliveChange=\"fn_focusout_headerText\"/>\r\n\t\t\t\t\t\t<Label id=\"labelRevRej\" text=\"{i18n>LABEL_REV_REJ}\" required=\"false\" visible=\"false\"/>\r\n\t\t\t\t\t\t<CheckBox id=\"boxRrevRej\" name=\"RevRejBox\" visible=\"false\" selected=\"false\" class=\"sapUiTinyMarginBottom\"/>\r\n\t\t\t\t\t</f:content>\r\n\t\t\t\t</f:SimpleForm>\r\n\t\t\t</VBox>\r\n\t\t</content>\r\n\t\t<footer>\r\n\t\t\t<OverflowToolbar id=\"otbFooter\">\r\n\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t<Button text=\"{i18n>BUTTON_SUBMIT}\" id=\"buttonSubmit\" press=\"buttonSubmitPressed\"/>\r\n\t\t\t\t<Button text=\"{i18n>BUTTON_UPDATE}\" id=\"buttonUpdate\" press=\"buttonUpdatePressed\"/>\r\n\t\t\t\t<Button text=\"{i18n>BUTTON_CANCEL}\" press=\"navBackToPOsList\"/>\r\n\t\t\t</OverflowToolbar>\r\n\t\t</footer>\r\n\t\t<c:Fragment fragmentName=\"PurchaseOrdersPurchaseOrders.view.fragmentItemData\" type=\"XML\"/>\r\n\t\t<c:Fragment fragmentName=\"PurchaseOrdersPurchaseOrders.view.fragmentItemHistory\" type=\"XML\"/>\r\n\t</Page>\r\n</mvc:View>",
		"PurchaseOrdersPurchaseOrders/model/models.js": "sap.ui.define([\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/ui/Device\"\r\n], function(JSONModel, Device) {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\r\n\t\tcreateDeviceModel: function() {\r\n\t\t\tvar oModel = new JSONModel(Device);\r\n\t\t\toModel.setDefaultBindingMode(\"OneWay\");\r\n\t\t\treturn oModel;\r\n\t\t}\r\n\r\n\t};\r\n});",
		"PurchaseOrdersPurchaseOrders/controller/temporary.js": "//\t\t\tsap.ui.getCore().AppContext = new Object();\r\n\r\n\t\t//\tsap.ui.getCore().AppContext.MaxModelEntities = 150 ;\r\n\r\n\t\t\t\r\n\r\n\t\t//\tsap.ui.getCore().AppContext.serviceGetPOsURL = \"https://sgate.kaokonnections.com/sap/opu/odata/SAP/zodata_22256_get_po_list_srv\"\r\n\t\t//\tsap.ui.getCore().AppContext.modelGetPOs = new sap.ui.model.odata.v2.ODataModel(sap.ui.getCore().AppContext.serviceGetPOsURL);\r\n\t\t//\tsap.ui.getCore().AppContext.modelGetPOs_Content = undefined ;\r\n\t\t\t\r\n\t\t//\tsap.ui.getCore().AppContext.serviceTransferURL = \"https://sgate.kaokonnections.com/sap/opu/odata/sap/ZODATA_22256_PO_F4_FUNCTIONS_SRV\" ;\r\n\t\t//\tsap.ui.getCore().AppContext.modelTransfer = new sap.ui.model.odata.v2.ODataModel(sap.ui.getCore().AppContext.serviceTransferURL,{\r\n\t\t//\t\tsizeLimit : 65536,\r\n\t\t//\t\tuseBatch : false\r\n\t\t//\t}); \r\n\t\t\t\r\n\t\t//\tsap.ui.getCore().AppContext.servicePOItemsDetailsURL = \"https://sgate.kaokonnections.com/sap/opu/odata/sap/ZODATA_22256_PO_CR_CH_SERVICE_SRV\" ;\r\n\t\t//\tsap.ui.getCore().AppContext.modelPOItemsDetails = new sap.ui.model.odata.v2.ODataModel(sap.ui.getCore().AppContext.servicePOItemsDetailsURL);\r\n\t\t\t\r\n\r\n\t\t//\tsap.ui.getCore().AppContext.servicePOPOST = \"https://sgate.kaokonnections.com/sap/opu/odata/SAP/ZODATA_22256_PO_POSTING_SRV\"\r\n\t\t//\tsap.ui.getCore().AppContext.modelPOPOST = new sap.ui.model.odata.v2.ODataModel(sap.ui.getCore().AppContext.servicePOPOST,{\r\n\t\t//\t\tuseBatch : false,\r\n\t\t//\t\tjson : true\r\n\t\t//\t});\r\n\t\t\t\r\n\r\n\t\t\t\t//sap.ui.getCore().AppContext.CurrentMODEL_Header = undefined ;\r\n\t\t\t\t//sap.ui.getCore().AppContext.CurrentMODEL_Items = undefined ;\r\n\t\t\t\t\r\n\t\t//\t\tsap.ui.getCore().AppContext.CurrentMODEL_SubItems = undefined ;\r\n\t\t//\t\t\tsap.ui.getCore().AppContext.CurrentMODEL_SubItems_Entries_ALL = undefined ;\r\n\t\t//\t\t\tsap.ui.getCore().AppContext.CurrentMODEL_SubItems_Entries_InsideDistribution = undefined ;\r\n\t\t//\t\t\tsap.ui.getCore().AppContext.CurrentMODEL_SubItems_Entries_OutsideDistribution = undefined ;\r\n\t\t\t\t\t\r\n\t\t\t//\t\tsap.ui.getCore().AppContext.CurrentMODEL_SubItems_Entries_OutsideDistribution = undefined ;\r\n\t\t\t\t\t\r\n\t\t\t\t//\tsap.ui.getCore().AppContext.CurrentMODEL_SubItems_MaxDistrib_Quantity = undefined ;\r\n\t\t\t//\t\tsap.ui.getCore().AppContext.CurrentMODEL_SubItems_MaxDistrib_Percentage = 100 ;\r\n\t\t\t\t\r\n\t\t//\t\tsap.ui.getCore().AppContext.CurrentMODEL_Address = undefined ;\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t//\tsap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___HEADER = undefined ;\r\n\t\t\t\r\n\r\n\t\t\t// sap.ui.getCore().AppContext.jsonPOSubItems_JSONContent = undefined ;\r\n\t\t// sap.ui.getCore().AppContext.jsonPOSubItems_Model = undefined ;\r\n\t\t\t\r\n\t\t//\tsap.ui.getCore().AppContext.jsonPOAddress_JSONContent = undefined ;\r\n\t\t//\tsap.ui.getCore().AppContext.jsonPOAddress_Model = undefined ;\r\n\t\t\t\r\n\t\t\t\t// sap.ui.getCore().AppContext.tablePOs = undefined ;\r\n\t\t\t\r\n\t\t\t\t//sap.ui.getCore().AppContext.tablePOItems = undefined ;\r\n\t\t\t\t//sap.ui.getCore().AppContext.tablePOAdress = undefined ;\r\n\t\t\t\t//sap.ui.getCore().AppContext.tablePOSubItems = undefined ;\r\n\t\t\t\t\r\n\t\t\t\t//\tsap.ui.getCore().AppContext.dialogSubItems = undefined ;\r\n\t\t\t\t\r\n\t\t\t\t//sap.ui.getCore().AppContext.selectedDistributionIsQuantity = false ;\r\n\t\t\t\t//sap.ui.getCore().AppContext.selectedDistributionIsPercentage = false ;\r\n\t\t\t\t\r\n\t\t\t\t//sap.ui.getCore().AppContext.lastSelected_PONumber = \"\" ;\r\n\t\t\t\t//sap.ui.getCore().AppContext.lastSelected_POItem = \"\" ;\r\n\t\t\t\t//sap.ui.getCore().AppContext.lastSelected_ItemRowIndex = \"\" ;\r\n\t\t\t\t//sap.ui.getCore().AppContext.lastSelected_POAction = undefined ; // \"PO_ACTION__NEW\" , \"PO_ACTION__COPY\" , \"PO_ACTION_EDIT\"\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t//sap.ui.getCore().AppContext.defaultPlantAddres_Name = undefined ;\r\n\t\t\t\t//sap.ui.getCore().AppContext.defaultPlantAddres_Street = undefined ;\r\n\t\t\t\t//sap.ui.getCore().AppContext.defaultPlantAddres_StreetNo = undefined ;\r\n\t\t\t\t//sap.ui.getCore().AppContext.defaultPlantAddres_PostlCod1 = undefined ;\r\n\t\t\t\t//sap.ui.getCore().AppContext.defaultPlantAddres_City = undefined ;\r\n\t\t\t\t//sap.ui.getCore().AppContext.defaultPlantAddres_Region = undefined ;\r\n\t\t\t\t//sap.ui.getCore().AppContext.defaultPlantAddres_Country = undefined ;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/JSON_Objects.js\"></script>\r\n\t\t\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/ShowMessage.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/ShowToast.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/SubItems.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/GetItemsTableElementByIndex.js\"></script>\r\n\t\t\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/FETCH_PoHeader.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/FETCH_PoItems.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/FETCH_PoAddress.js\"></script>\r\n\t\t\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/SumUPTotalPOValue.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/customControls/customTableActionButton.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/customControls/calculableInput.js\"></script>\r\n\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/customControls/customAssistedInput.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/customControls/customAssistedInputsbyField/assistedInput_AccountAssignment.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/customControls/customAssistedInputsbyField/assistedInput_ItemCategory.js\"></script>\t\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/customControls/customAssistedInputsbyField/assistedInput_MaterialGroup.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/customControls/customAssistedInputsbyField/assistedInput_Plant.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/customControls/customAssistedInputsbyField/assistedInput_UnitOfMeasure.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/customControls/customAssistedInputsbyField/assistedInput_Order.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/customControls/customAssistedInputsbyField/assistedInput_Account.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/customControls/customAssistedInputsbyField/assistedInput_CostCenter.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"controller/js/customControls/customAssistedInputsbyField/assistedInput_MultipleAccounts.js\"></script>",
		"PurchaseOrdersPurchaseOrders/controller/js/GetItemsTableElementByIndex.js": "sap.ui.getCore().AppContext.GetItemsTableElementByIndex = function( rowIndex , colIndex ) {\r\n \treturn sap.ui.getCore().AppContext.tablePOItems.getRows()[rowIndex].getCells()[colIndex] ;\r\n } ;",
		"PurchaseOrdersPurchaseOrders/controller/js/customControls/customAssistedInput.js": "sap.ui.getCore().AppContext.CreateCustomAssistedInput = function ( initialValue, placeHolder, serviceName , filtersInput , datasetBinding , fieldBindingKey , fieldBindingText, dialogTitle , selectionMadeFunction ) {\r\n\r\n\tvar __parentRowIndex = undefined ;\r\n\tvar __selectedHelperValue = undefined ;\r\n\r\n\t var assistedInput = new sap.m.Input({\r\n                      type: sap.m.InputType.Text,\r\n                      placeholder: placeHolder,\r\n                      value : \"\",\r\n                      showSuggestion: true,\r\n                      suggestionItems: {\r\n                        path: \"/results\",\r\n                        template: new sap.ui.core.Item({\r\n                          text: fieldBindingKey\r\n                        })\r\n                      },\r\n                      showValueHelp: true,\r\n                      valueHelpRequest: function (oEvent) {\r\n                      \t\r\n                      \t__parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n                      \t\r\n                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(datasetBinding,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tfilters : filtersInput,\r\n\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\r\n\t\t\t\t\t\t        \t\t\tvar selectDialog = sap.ui.getCore().AppContext.valueHelpSelectDialog__AccountAssesment = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t        \t\t\t\t\ttitle: dialogTitle,\r\n\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt((oevent.mParameters.selectedContexts[0].sPath).replace(\"/results/\",\"\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__selectedHelperValue = helperModel.getProperty(\"/results/\"+index+\"/\"+fieldBindingKey );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//assistedInput.setValueState(_val);\r\n\t\t\t\t\t\t                            \tselectionMadeFunction(__parentRowIndex,__selectedHelperValue);\r\n\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t                          });\r\n\t\t\t\t\t                          \r\n\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{\"+fieldBindingKey+\"}\"\r\n\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n                      }\r\n\t });\r\n\r\n\t\treturn assistedInput;\r\n\t\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/customControls/customTableActionButton.js": "sap.ui.getCore().AppContext.CreateCustomTableActionButton = function ( deletion_flag ) {\r\n\t\r\n\t//var buttonIcon = (deletion_flag === \"X\") ? 'sap-icon://sys-cancel-2' : 'sap-icon://edit' ;\r\n\treturn new sap.m.Button({ style: sap.m.ButtonType.Default, icon: 'sap-icon://sys-cancel-2' }) ;\r\n\r\n} ;",
		"PurchaseOrdersPurchaseOrders/view/fragmentItemHistory.fragment.xml": "<c:FragmentDefinition\r\n\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\txmlns:c=\"sap.ui.core\"\r\n\txmlns:m=\"sap.m\"\r\n\txmlns=\"sap.ui.table\">\r\n \r\n\t<m:Dialog id = \"dialogItemHistory\" title=\"{i18n>TABLE_ITHIS}\" >\r\n\t\t\r\n\t\t<m:content>\r\n\t\t\t\t<Table\r\n\t\t\t\t\tid=\"tableItemHistory\"\r\n\t\t\t\t\trows=\"{/results}\"\r\n\t\t\t\t\tselectionMode=\"None\"\r\n\t\t\t\t\tvisibleRowCount=\"0\"\r\n\t\t\t\t\tariaLabelledBy=\"title\">\r\n\t\t\t\t\t\t<columns>\r\n\t\t\t\r\n\t\t\t\t\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_ITHIS_COLUMN_DOC_TYPE}\" tooltip = \"Document Type\"/>\r\n\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t<m:Input value = \"{Ddtext}\" enabled = \"false\"/>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_ITHIS_COLUMN_DOC_NO}\" tooltip = \"Document Number\"/>\r\n\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t<m:Input value = \"{Belnr}\" enabled = \"false\"/>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_ITHIS_COLUMN_MOVE_TYPE}\" tooltip = \"Movement Type\"/>\r\n\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t<m:Input value = \"{Bwart}\" enabled = \"false\"/>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_ITHIS_COLUMN_DOC_DATE}\" tooltip = \"Document Date\"/>\r\n\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t\t<m:DatePicker valueFormat=\"MM.dd.yyyy\" value = \"{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpath: 'Budat',\r\n\t\t\t\t\t\t\t\t\t\t\t\tformatter : '.formatDate'\r\n\t\t\t\t\t\t\t\t\t\t\t}\" enabled =\"false\" />\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_ITHIS_COLUMN_QUANTITY}\" tooltip = \"Quantity\"/>\r\n\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t<m:Input value = \"{Menge}\" enabled = \"false\"/>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_ITHIS_COLUMN_VALUE}\" tooltip = \"Value\"/>\r\n\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t<m:Input value = \"{Dmbtr}\" enabled = \"false\"/>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_ITHIS_COLUMN_CURRENCY}\" tooltip = \"Currency\"/>\r\n\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t<m:Input value = \"{Waers}\" enabled = \"false\"/>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_ITHIS_COLUMN_PAYMENT}\" tooltip = \"Payment\"/>\r\n\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t<m:Input value = \"{Input1}\" enabled = \"false\"/>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_ITHIS_COLUMN_REVERSAL}\" tooltip = \"Reversal\"/>\r\n\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t<m:Input value = \"{Input4}\" enabled = \"false\"/>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t</Table>\r\n\r\n\t\t</m:content>\r\n\r\n\t\t<m:endButton>\r\n\t\t \t<m:Button text = \"{i18n>BUTTON_CLOSE}  \" press=\"closeItemHistoryDialog\" />\r\n\t\t</m:endButton>\r\n\t\t\r\n\t</m:Dialog>\r\n</c:FragmentDefinition>",
		"PurchaseOrdersPurchaseOrders/view/fragmentItemData_ItemText.fragment.xml": "<c:FragmentDefinition\r\n\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\txmlns:c=\"sap.ui.core\"\r\n\txmlns:m=\"sap.m\"\r\n\txmlns=\"sap.ui.table\">\r\n\t\r\n\r\n\t\t\t<Table\r\n\t\t\t\tid=\"tablePOText\"\r\n\t\t\t\tselectionMode=\"None\"\r\n\t\t\t\tvisibleRowCount=\"0\"\r\n\t\t\t\r\n\t\t\r\n\t\t\t\tariaLabelledBy=\"title\">\r\n\t\t\t\t\r\n\t\t<columns>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<Column width=\"5em\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_DAddr_COLUMN_ITEMNO}\" tooltip = \"Item No\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value = \"{PoItem}\" enabled = \"false\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t\r\n\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_ITEMTEXT_COLUMN_NAME}\" tooltip = \"Name\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t<m:TextArea id=\"textArea\" value=\"{itemTextTab}\" class=\"tableTextAreaElement\"\r\n\t\t\tplaceholder=\"Enter text here ...\" growing=\"true\" growingMaxLines=\"5\" rows=\"5\" width=\"60%\" change=\"onTextAreaChange\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t</columns>\r\n\t</Table>\r\n\t\r\n</c:FragmentDefinition>",
		"PurchaseOrdersPurchaseOrders/view/fragmentInformation.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\r\n\t\r\n\t<Dialog id=\"informationDialog\" title=\"{i18n>itemTextInformationDialog}\">\r\n\t\r\n\t\t<List items=\"{ path: 'information>/ITEMS' }\"\r\n\t\tclass=\"sapUiResponsiveMargin\"\r\nwidth=\"auto\"\r\n              \r\n\t\t>\r\n\t\t\t<StandardListItem title=\"{information>ITEMTEXT}\" class=\"listItemInformation\" selected=\"false\" />\r\n\t\t</List>\r\n\r\n\t\t<beginButton>\r\n\t\t\t<Button text=\"{i18n>dialogCloseButtonText}\" press=\"onInformationCloseDialog\"/>\r\n\t\t</beginButton>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"PurchaseOrdersPurchaseOrders/view/fragmentItemData.fragment.xml": "<c:FragmentDefinition\r\n\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\txmlns:c=\"sap.ui.core\"\r\n\txmlns=\"sap.m\"\r\n>\r\n\t\r\n\t<Panel id=\"panelItemData\">\r\n\r\n            <Toolbar>\r\n                <Text text=\"{i18n>TABLE_ITEM_DATA}\" tooltip=\"Item Data\" class=\"sapMH4FontSize\"/>\r\n            </Toolbar>\r\n        \r\n        <IconTabBar\r\n            class=\"sapUiResponsiveContentPadding\"\r\n            id=\"tabBar_ItemData\"\r\n            expanded=\"true\"\r\n            select=\"toggleButtonPressed\"\r\n            applyContentPadding=\"false\"\r\n            selectedKey=\"general\">\r\n        \t\r\n        \t<items>\r\n        \t\t\r\n\t\t\t\t<IconTabFilter\r\n\t\t\t\t\tid=\"toggleItemData_General\"\r\n\t\t\t\t\ttext=\"{i18n>TABLE_GEN_DATA}\"\r\n\t\t\t\t\ttooltip=\"General Data\"\r\n\t\t\t\t\tkey=\"general\">\r\n\t\t\t\t\t<c:Fragment id=\"fragmentItemData_GeneralData\" fragmentName=\"PurchaseOrdersPurchaseOrders.view.fragmentItemData_GeneralData\" type=\"XML\" />\r\n\t\t\t\t</IconTabFilter>\r\n\t\t\t\t\r\n\t\t\t\t<IconTabFilter\r\n\t\t\t\t\tid=\"toggleItemData_DeliveryAddress\"\r\n\t\t\t\t\ttext=\"{i18n>TABLE_DAddr}\"\r\n\t\t\t\t\ttooltip=\"Delivery Address\"\r\n\t\t\t\t\tkey=\"address\">\r\n\t\t\t\t\t<c:Fragment id=\"fragmentItemData_DeliveryAddress\" fragmentName=\"PurchaseOrdersPurchaseOrders.view.fragmentItemData_DeliveryAddress\" type=\"XML\" />\r\n\t\t\t\t</IconTabFilter>\r\n\t\t\t\t<IconTabFilter\r\n\t\t\t\t\tid=\"toggleItemData_ItemDetails\"\r\n\t\t\t\t\ttext=\"{i18n>TABLE_ITEM_TEXT}\"\r\n\t\t\t\t\ttooltip=\"Item text\"\r\n\t\t\t\t\tkey=\"itemtext\">\r\n\t\t\t\t\t<c:Fragment id=\"fragmentItemData_ItemText\" fragmentName=\"PurchaseOrdersPurchaseOrders.view.fragmentItemData_ItemText\" type=\"XML\" />\r\n\t\t\t\t</IconTabFilter>\r\n\t\t<IconTabFilter\r\n\t\t\t\t\tid=\"toggleItemData_Attachment\"\r\n\t\t\t\t\ttext=\"{i18n>TABLE_Attachment}\"\r\n\t\t\t\t\ttooltip=\"Attachment\"\r\n\t\t\t\t\tkey=\"attachment\">\r\n\t\t\t\t\t<c:Fragment id=\"fragmentItemData_Attachment\" fragmentName=\"PurchaseOrdersPurchaseOrders.view.fragmentItemData_Attachment\" type=\"XML\" />\r\n\t\t\t\t</IconTabFilter>\r\n\t\t\t\t\r\n            </items>\r\n              \r\n        </IconTabBar>\r\n        \r\n    </Panel>\r\n\t\t\r\n</c:FragmentDefinition>",
		"PurchaseOrdersPurchaseOrders/view/fragmentItemData_GeneralData.fragment.xml": "<c:FragmentDefinition xmlns:mvc=\"sap.ui.core.mvc\" xmlns:c=\"sap.ui.core\" xmlns:m=\"sap.m\" xmlns=\"sap.ui.table\">\r\n\t\r\n\r\n\t\t\t<Table id=\"tablePOItems\" selectionMode=\"None\" visibleRowCount=\"0\" rowHeight=\"10\" ariaLabelledBy=\"title\">\r\n\r\n\r\n\t\t<columns>\r\n\t\t\t<Column width=\"1%\">\r\n\t\t\t\t\t<m:Label text=\"\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Button icon=\"{= ${DeleteInd} === 'L' ? 'sap-icon://activate' : 'sap-icon://delete' }\" press=\"button_pressed_Items_Delete\" class=\"sapUiSizeCompact\"/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<Column width=\"3%\" visible=\"true\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_ITEM_NUM}\" tooltip=\"PO Item Number\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value=\"{PoItem}\" editable=\"false\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<!--account assignment and item category column are hidden only the logic for these fields still needed as per issue 48 -->\r\n\t\t\t<Column width=\"0px\" visible=\"true\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_ACC_ASIGN}\" tooltip=\"Account Assignment\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value=\"{Acctasscat}\" showSuggestion=\"true\" showValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__Items_AccountAssignment\" enabled=\"{=  (!(${DeleteInd} === 'L')) &amp;&amp; (! ( (${Input1} === 'NB3') || (${Input1} === 'NB2') || (${Input1} === 'NB2D') || (${Input1} === 'NB2Z') || (${Input1} === 'N2ZD') || (${Input1} === 'NB3Z') || (${Input1} === 'NB2F') ) )}\"/>\r\n\t\t\t\t\t\t<!--here Input1 is used for DocType-->\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<Column width=\"0px\" visible=\"true\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_ITEM_CAT}\" tooltip=\"Item Category\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value=\"{ItemCat}\" showSuggestion=\"true\" showValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__Items_ItemCategory\" enabled=\"false\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<Column width=\"10%\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_SHORT_TEXT}\" tooltip=\"Short Text\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value=\"{ShortText}\" maxLength=\"40\" liveChange=\"fn_val_hlp_req__Items_ShortText\" enabled=\"{= !(${DeleteInd} === 'L')}\"\r\n\t\t\t\t\t\tvalueState=\"{=((${ShortText}.trim().length === 0 &amp;&amp; ${valueStateFlag})  &amp;&amp; !(${DeleteInd} === 'L'))? 'Error' : 'None'}\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<Column width=\"7.5%\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_MAT_GRP}\" tooltip=\"Material Group\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value=\"{MatlGroup}\" showSuggestion=\"true\" showValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__Items_MaterialGroup\" enabled=\"{= !(${DeleteInd} === 'L')}\" change=\"fn_focusout_MaterialGroup\"\r\n\t\t\t\t\t\tvalueState=\"{= ((${MatlGroup}.length === 0 &amp;&amp; ${valueStateFlag})  &amp;&amp; !(${DeleteInd} === 'L'))? 'Error' : 'None'}\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t\r\n\t\t\t<Column width=\"0px\" visible=\"true\">\r\n\t\t\t\t\t<m:Label text=\"Plant\" tooltip=\"Plant\" visible=\"true\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value=\"{Plant}\" visible=\"true\" showSuggestion=\"true\" showValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__Items_Plant\" enabled=\"{= !(${DeleteInd} === 'L')}\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t\r\n\t\t\t<Column width=\"9%\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_DELV_DATE}\" tooltip=\"Delivery Date\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:DatePicker valueFormat=\"MM.dd.yyyy\" value=\"{          path: 'DeliveryDate',          formatter : '.formatDate'         }\" change=\"deliveryDateChange\" enabled=\"{= !(${DeleteInd} === 'L')}\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<Column width=\"6%\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_QUANTITY}\" tooltip=\"Quantity\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value=\"{ path: 'Quantity' , formatter : '.format_2DigitsDecimalNumber'}\" liveChange=\"fn_Items_Quantity_Change\" enabled=\"{= !(((${Acctasscat} === 'L') &amp;&amp; (${ItemCat} === 'B')) || ((${Acctasscat} === 'K') &amp;&amp; (${ItemCat} === '9'))  ||  ((${Acctasscat} === 'F') &amp;&amp; (${ItemCat} === '9'))  || ((${Acctasscat} === 'K') &amp;&amp; (${ItemCat} === 'D'))  || ((${Acctasscat} === 'F') &amp;&amp; (${ItemCat} === 'D')) || (${DeleteInd} === 'L') || (${Distribkey} !== '0') || (${Input1} === 'N2ZD') || (${Input1} === 'NB3Z'))  }\"\r\n\t\t\t\t\t\tvalueState=\"{= ((${Quantity}.length === 0 &amp;&amp; ${valueStateFlag}) &amp;&amp; !(((${Acctasscat} === 'L') &amp;&amp; (${ItemCat} === 'B')) || ((${Acctasscat} === 'K') &amp;&amp; (${ItemCat} === '9'))  ||  ((${Acctasscat} === 'F') &amp;&amp; (${ItemCat} === '9'))  || ((${Acctasscat} === 'K') &amp;&amp; (${ItemCat} === 'D'))  || ((${Acctasscat} === 'F') &amp;&amp; (${ItemCat} === 'D')) || (${DeleteInd} === 'L') || (${Distribkey} !== '0') || (${Input1} === 'N2ZD') || (${Input1} === 'NB3Z')) )? 'Error' : 'None'}\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<Column width=\"5%\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_UM}\" tooltip=\"Unit of Measure\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value=\"{PoUnit}\" showSuggestion=\"true\" showValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__Items_UnitOfMeasure\" enabled=\"{= !(((${Acctasscat} === 'L') &amp;&amp; (${ItemCat} === 'B')) || ((${Acctasscat} === 'K') &amp;&amp; (${ItemCat} === '9'))  || ((${Acctasscat} === 'F') &amp;&amp; (${ItemCat} === '9'))  || ((${Acctasscat} === 'K') &amp;&amp; (${ItemCat} === 'D'))  || ((${Acctasscat} === 'F') &amp;&amp; (${ItemCat} === 'D')) || (${DeleteInd} === 'L') || (${Input1} === 'N2ZD') || (${Input1} === 'NB3Z') ) }\" \r\n\t\t\t\t\t\tvalueState=\"{= ((${PoUnit}.length === 0 &amp;&amp; ${valueStateFlag}) &amp;&amp; !(((${Acctasscat} === 'L') &amp;&amp; (${ItemCat} === 'B')) || ((${Acctasscat} === 'K') &amp;&amp; (${ItemCat} === '9'))  || ((${Acctasscat} === 'F') &amp;&amp; (${ItemCat} === '9'))  || ((${Acctasscat} === 'K') &amp;&amp; (${ItemCat} === 'D'))  || ((${Acctasscat} === 'F') &amp;&amp; (${ItemCat} === 'D')) || (${DeleteInd} === 'L') || (${Input1} === 'N2ZD') || (${Input1} === 'NB3Z') ))? 'Error' : 'None'}\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<Column width=\"6%\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_NET_PRICE}\" tooltip=\"Net Price\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value=\"{ path: 'NetPrice' , formatter : '.format_2DigitsDecimalNumber'}\" liveChange=\"fn_Items_NetPrice_Change\" enabled=\"{= !(((${Acctasscat} === 'L') &amp;&amp; (${ItemCat} === 'B')) || ((${Acctasscat} === 'K') &amp;&amp; (${ItemCat} === '9')) || ((${Acctasscat} === 'F') &amp;&amp; (${ItemCat} === '9')) || ((${Acctasscat} === 'K') &amp;&amp; (${ItemCat} === 'D')) || ((${Acctasscat} === 'F') &amp;&amp; (${ItemCat} === 'D')) ||(${DeleteInd} === 'L') || (${Input1} === 'N2ZD') || (${Input1} === 'NB3Z') ) }\"\r\n\t\t\t\t\t\t \tvalueState=\"{= ((${NetPrice}.length === 0 &amp;&amp; ${valueStateFlag}) &amp;&amp; !(((${Acctasscat} === 'L') &amp;&amp; (${ItemCat} === 'B')) || ((${Acctasscat} === 'K') &amp;&amp; (${ItemCat} === '9')) || ((${Acctasscat} === 'F') &amp;&amp; (${ItemCat} === '9')) || ((${Acctasscat} === 'K') &amp;&amp; (${ItemCat} === 'D')) || ((${Acctasscat} === 'F') &amp;&amp; (${ItemCat} === 'D')) ||(${DeleteInd} === 'L') || (${Input1} === 'N2ZD') || (${Input1} === 'NB3Z') ))? 'Error' : 'None'}\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t\r\n\t\t\t<Column width=\"0px\" visible=\"true\">\r\n\t\t\t\t\t<m:Label text=\"Curr\" visible=\"true\" tooltip=\"Currency\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Text text=\"{Currency}\" visible=\"false\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<Column width=\"3em\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_NET_PRICE}\" tooltip=\"Price Unit\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value=\"{ path: 'PriceUnit' , formatter : '.format_2DigitsDecimalNumber' }\" liveChange=\"fn_Items_Per_Change\" enabled=\"{= !(${DeleteInd} === 'L')}\"\r\n\t\t\t\t\t\t\t valueState=\"{= ((${PriceUnit}.length === 0 &amp;&amp; ${valueStateFlag}) &amp;&amp; !(${DeleteInd} === 'L'))? 'Error' : 'None'}\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<Column width=\"6.5em\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_ORDER}\" tooltip=\"Order\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value=\"{= (${Acctasscat} === 'F')|| (${Input1} === 'NB2Z') || (${Input1} === 'N2ZD') || (${Input1} === 'NB3Z') || (${Input1} === 'NB2F') ? ${Orderid} : '' }\" showSuggestion=\"true\" showValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__Items_Order\" enabled=\"{= ( ( (${Acctasscat} === 'F') || (${Input1} === 'NB2Z') || (${Input1} === 'N2ZD') || (${Input1} === 'NB3Z') || (${Input1} === 'NB2F')  ) &amp;&amp; (${Distribkey} === '0')) &amp;&amp; !(${DeleteInd} === 'L')}\" change=\"fn_focusout__ItemsOrder\"\r\n\t\t\t\t\t\tvalueState=\"{= (${Orderid}.length === 0 &amp;&amp; ${valueStateFlag}) &amp;&amp; ((((${Acctasscat} === 'F') || (${Input1} === 'NB2Z') || (${Input1} === 'N2ZD') || (${Input1} === 'NB3Z') || (${Input1} === 'NB2F')) &amp;&amp; (${Distribkey} === '0')) &amp;&amp; !(${DeleteInd} === 'L'))? 'Error' : 'None'}\"/>\r\n\t\t\t\t\t\t<!--<m:Input value=\"{= (${Acctasscat} === 'F')|| (${InpuDocType} === 'NB2Z') || (${InpuDocType} === 'N2ZD') || (${InpuDocType} === 'NB3Z') || (${InpuDocType} === 'NB2F') ? ${Orderid} : '' }\" showSuggestion=\"true\" showValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__Items_Order\" enabled=\"{= ( ( (${Acctasscat} === 'F') || (${InpuDocType} === 'NB2Z') || (${InpuDocType} === 'N2ZD') || (${InpuDocType} === 'NB3Z') || (${InpuDocType} === 'NB2F')  ) &amp;&amp; (${Distribkey} === '0')) &amp;&amp; !(${DeleteInd} === 'L')}\" change=\"fn_focusout__ItemsOrder\"/>-->\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<Column width=\"5em\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_ITEM_VALUE}\" tooltip=\"Item Value\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Text text=\"{ path: 'ItemValue', type: 'sap.ui.model.type.Float', formatOptions: { maxFractionDigits: 2 }}\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t\r\n\t\t\t<Column width=\"8.5%\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_GL_ACC}\" tooltip=\"G/L Account\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value=\"{GlAccount}\" showSuggestion=\"true\" showValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__Items_Account\" enabled=\"{= (${Distribkey} === '0') &amp;&amp; !(${DeleteInd} === 'L')}\" change=\"fn_focusout_GLAccount\"\r\n\t\t\t\t\t\t valueState=\"{= (${GlAccount}.length === 0 &amp;&amp; ${valueStateFlag}) &amp;&amp; ((${Distribkey} === '0') &amp;&amp; !(${DeleteInd} === 'L'))? 'Error' : 'None'}\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<!--<Column width=\"5.5em\">-->\r\n\t\t\t<Column width=\"10%\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_COST_CENTER}\" tooltip=\"Cost Center\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value=\"{= (${Acctasscat} === 'K') || (${Acctasscat} === 'L') || (${Input1} === 'NB2Z') || (${Input1} === 'N2ZD') || (${Input1} === 'NB2F') || (${Input1} === 'NB3Z')  ? ${Costcenter} : '' }\" showSuggestion=\"true\" showValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__Items_CostCenter\" enabled=\"{= ((${Acctasscat} === 'K') || (${Acctasscat} === 'L') || (${Input1} === 'NB2Z') || (${Input1} === 'N2ZD') || (${Input1} === 'NB3Z')  ) &amp;&amp; (${Distribkey} === '0') &amp;&amp; !(${DeleteInd} === 'L')}\" change=\"fn_focusout__CostCenter\"\r\n\t\t\t\t\t\tvalueState=\"{= (${Costcenter}.length === 0 &amp;&amp; ${valueStateFlag}) &amp;&amp; (((${Acctasscat} === 'K') || (${Acctasscat} === 'L') || (${Input1} === 'NB2Z') || (${Input1} === 'N2ZD') || (${Input1} === 'NB3Z')  ) &amp;&amp; (${Distribkey} === '0') &amp;&amp; !(${DeleteInd} === 'L'))? 'Error' : 'None'}\"/>\r\n\t\t\t\t\t\t<!--<m:Input value=\"{= (${Acctasscat} === 'K') || (${Acctasscat} === 'L') || (${InpuDocType} === 'NB2Z') || (${InpuDocType} === 'N2ZD') || (${InpuDocType} === 'NB3Z')  ? ${Costcenter} : '' }\" showSuggestion=\"true\" showValueHelp=\"true\" valueHelpRequest=\"fn_val_hlp_req__Items_CostCenter\" enabled=\"{= ((${Acctasscat} === 'K') || (${Acctasscat} === 'L') || (${InpuDocType} === 'NB2Z') || (${InpuDocType} === 'N2ZD') || (${InpuDocType} === 'NB3Z')  ) &amp;&amp; (${Distribkey} === '0') &amp;&amp; !(${DeleteInd} === 'L')}\" change=\"fn_focusout__CostCenter\"/>-->\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\r\n\t\t\t<Column width=\"6em\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_DISTRIBUTION}\" tooltip=\"Distribution\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<!--<m:ComboBox id=\"comboSelectDistribution\" selectedKey=\"{Distribkey}\" selectionChange=\"fn_val_hlp_req__Items_Distribution\" enabled=\"{= !((${DeleteInd} === 'L') || (${ItemCat} === 'D') || (${ItemCat} === 'B')) }\">-->\r\n\t\t\t\t\t\t<m:ComboBox id=\"comboSelectDistribution\" selectedKey=\"{Distribkey}\" selectionChange=\"fn_val_hlp_req__Items_Distribution\" enabled=\"false\">\r\n\t\t\t\t\t\t\t<m:items>\r\n\t\t\t\t\t\t\t\t<c:Item key=\"0\" text=\"Single\"/>\r\n\t\t\t\t\t\t\t\t<c:Item key=\"1\" text=\"Quantity\"/>\r\n\t\t\t\t\t\t\t\t<c:Item key=\"2\" text=\"Percentage\"/>\r\n\t\t\t\t\t\t\t</m:items>\r\n\t\t\t\t\t\t</m:ComboBox>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\r\n\t\t\t<Column width=\"2.5em\">\r\n\t\t\t\t\t<m:Label text=\"\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Button icon=\"sap-icon://menu\" press=\"openDistributionManagementDialog\" class=\"sapUiSizeCompact\" enabled=\"{= !(${DeleteInd} === 'L')}\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<Column width=\"6%\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_GEN_COLUMN_LIMIT}\" tooltip=\"Limit\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value=\"{ path: 'Limit', formatter : '.format_2DigitsDecimalNumber' }\" liveChange=\"fn_Items_Limit_Change\" enabled=\"{= (((${ItemCat} === 'B') || (${ItemCat} === 'D') || (${ItemCat} === '9'))  &amp;&amp; !(${DeleteInd} === 'L'))}\"\r\n\t\t\t\t\t\t\tvalueState=\"{= ((${Limit}.length === 0 &amp;&amp; ${valueStateFlag}) &amp;&amp; (((${ItemCat} === 'B') || (${ItemCat} === 'D') || (${ItemCat} === '9'))  &amp;&amp; !(${DeleteInd} === 'L')))? 'Error' : 'None'}\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t</columns>\r\n\t\t\r\n\t</Table>\r\n\t\r\n\t<m:Button icon=\"sap-icon://sys-add\" press=\"buttonNewItemPressed\"/>\r\n\t\r\n</c:FragmentDefinition>",
		"PurchaseOrdersPurchaseOrders/view/viewApplicationMain.view.xml": "<mvc:View\r\n\tcontrollerName=\"PurchaseOrdersPurchaseOrders.controller.viewApplicationMain\"\r\n\txmlns:html=\"http://www.w3.org/1999/xhtml\"\r\n\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\txmlns=\"sap.m\"\r\n\tdisplayBlock=\"true\">\r\n\t<App id=\"app\"><pages/></App>\r\n</mvc:View>",
		"PurchaseOrdersPurchaseOrders/view/fragmentItemData_Attachment.fragment.xml": "<c:FragmentDefinition\r\n\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\txmlns:c=\"sap.ui.core\"\r\n\txmlns=\"sap.m\"\r\n\txmlns:l=\"sap.ui.layout\"\r\n\txmlns:u=\"sap.ui.unified\"\r\n\tclass=\"viewPadding\">\r\n\t\r\n<u:FileUploader \r\n           id=\"fileUploader\" \r\n           name=\"myFileUpload\" \r\n           tooltip=\"{i18n>UploadUrFile}\" \r\n           uploadComplete=\"handleUploadComplete\"                                                                                    \r\n          change=\"handleValueChange\" \r\n          width=\"400px\"\r\n          sendXHR=\"true\"\r\n          uploadUrl=\"/sap/opu/odata/sap/ZODATA_22256_PO_CR_CH_SERVICE_SRV/ZtgetattachmentSet/\"\r\n          typeMissmatch=\"handleTypeMissmatch\" \r\n          style=\"Emphasized\" \r\n          fileType=\"txt,jpg,doc,xls,ppt,docx,xlsx,pptx,pdf,gif,png\"                                                                                    \r\n          placeholder=\"{i18n>TABLE_CHOOSE_FILE}\" >\r\n          \t<!--<u:parameters>\r\n\t\t\t\t\t<u:FileUploaderParameter\r\n\t\t\t\t\t\tname=\"Filename\"\r\n\t\t\t\t\t\tvalue=\"filename\"/>\r\n\t\t\t\t\t<u:FileUploaderParameter\r\n\t\t\t\t\t\tname=\"PoNumber\"\r\n\t\t\t\t\t\tvalue=\"sPoNumber\"/>\r\n\t\t\t\t</u:parameters>\r\n\t\t\t\t<u:headerParameters>\r\n\t\t\t\t\t<u:FileUploaderParameter\r\n\t\t\t\t\t\tname=\"slug\"\r\n\t\t\t\t\t\tvalue=\"oSlugData\"/>\r\n\t\t\t\t\t<u:FileUploaderParameter\r\n\t\t\t\t\t\tname=\"x-csrf-token\"\r\n\t\t\t\t\t\tvalue=\"token\"/>\r\n\t\t\t\t</u:headerParameters>-->\r\n\t\t\t\t</u:FileUploader>\r\n  \r\n                                                                                           \r\n <Label width= \"10px\" text=\"\"/>                                                                                  \r\n<Button  text=\"{i18n>TABLE_ATTACHMENT_UPLOAD_AND_SAVE}\" width=\"20%\" press=\"handleUploadPress\"/> \r\n\r\n\r\n\t\t\t\r\n\r\n\t\t<List\r\n\t\tid=\"list\"\r\n\t\tmode=\"Delete\"\r\n\t\tdelete=\"handleDelete\"\r\n\t\tenableBusyIndicator=\"true\"\r\n\t\t\theaderText=\"{i18n>TABLE_PRODUCTS}\"\r\n\t\tgrowing=\"true\"\r\n\t\titems=\"{\r\n\t\t\tpath: '/attachmentData'\r\n\t\t}\" >\r\n\t\t\t\r\n\t\t<ObjectListItem\r\n\t\r\n\t\t\ttitle=\"{FileName}\"\r\n\t\t  type=\"Active\"\r\n\t\t press=\"onListItemPress\"/>\r\n\t\t\t\r\n\t\t\r\n\t</List>                                                   \r\n\r\n\t\t\t\r\n\r\n\t<!--\t\t</content>-->\r\n\t<!--</Dialog>-->\r\n\t\r\n\t\r\n</c:FragmentDefinition>",
		"PurchaseOrdersPurchaseOrders/view/fragmentDistributionManagement.fragment.xml": "<c:FragmentDefinition\r\n\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\txmlns:c=\"sap.ui.core\"\r\n\txmlns:m=\"sap.m\"\r\n\txmlns=\"sap.ui.table\">\r\n \r\n\t<m:Dialog id = \"dialogSubItems\" title=\"Distribution Management for PO Item\" >\r\n\t\t\r\n\t\t<m:content>\r\n\t\t\t\t<Table\r\n\t\t\t\t\tid=\"tablePOSubItems\"\r\n\t\t\t\t\tselectionMode=\"None\"\r\n\t\t\t\t\tvisibleRowCount=\"0\"\r\n\t\t\t\t\tariaLabelledBy=\"title\">\r\n\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Column width = \"3em\" >\r\n\t\t\t\t\t\t\t\t<m:Label text=\"\" />\r\n\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t<m:Button icon = \"sap-icon://sys-cancel-2\" press = \"button_pressed_SubItems_Delete\"/>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"Quantity\" tooltip = \"Quantity\"/>\r\n\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t<m:Input value=\"{ path: 'QUANTITY', type : 'sap.ui.model.type.Integer' }\" liveChange = \"fn_SubItems_Quantity_Change\"\r\n\t\t\t\t\t\t\t\t\t\tenabled = \"{\r\n\t\t\t\t\t\t\t\t\t\t\tpath : '/',\r\n\t\t\t\t\t\t\t\t\t\t\tformatter : '.fn_IsSubItemsColumnEnabled_Quantity'}\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"Percentage\" tooltip = \"Percentage\"/>\r\n\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t<m:Input value = \"{DISTR_PERC}\" type = \"Number\" liveChange = \"fn_SubItems_Percentage_Change\"\r\n\t\t\t\t\t\t\t\t\t\tenabled = \"{\r\n\t\t\t\t\t\t\t\t\t\t\tpath : '/',\r\n\t\t\t\t\t\t\t\t\t\t\tformatter : '.fn_IsSubItemsColumnEnabled_Percentage'}\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"G/L Account\" tooltip = \"G/L Account\"/>\r\n\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t<m:Input value = \"{GL_ACCOUNT}\" showSuggestion =\"true\" showValueHelp = \"true\" valueHelpRequest = \"fn_val_hlp_req__SubItems_Account\"\r\n\t\t\t\t\t\t\t\t\t\tchange = \"fn_focusout_Distribution__Account\"/>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"Cost Center\" tooltip = \"Cost Center\"/>\r\n\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t<m:Input value = \"{COSTCENTER}\" showSuggestion =\"true\" showValueHelp = \"true\" valueHelpRequest = \"fn_val_hlp_req__SubItems_CostCenter\"\r\n\t\t\t\t\t\t\t\t\t\t\tenabled = \"{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpath : '/',\r\n\t\t\t\t\t\t\t\t\t\t\t\tformatter : '.fn_IsSubItemsColumnEnabled_CostCenter'}\"\r\n\t\t\t\t\t\t\t\t\t\t\tchange = \"fn_focusout_Distribution__CostCenter\"/>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t\t\t\t\t<m:Label text=\"Order\" tooltip = \"Order\"/>\r\n\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t<m:Input value = \"{ORDERID}\" showSuggestion =\"true\" showValueHelp = \"true\" valueHelpRequest = \"fn_val_hlp_req__SubItems_Order\"\r\n\t\t\t\t\t\t\t\t\t\t\tenabled = \"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath : '/',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tformatter : '.fn_IsSubItemsColumnEnabled_Order'}\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<m:Button icon=\"sap-icon://sys-add\" press=\"buttonNewSubItemPressed\"/>\r\n\r\n\t\t</m:content>\r\n\t\t<m:beginButton>\r\n\t\t \t<m:Button icon=\"sap-icon://accept\" press=\"closeDistributionManagementDialog_Save\" />\r\n\t\t</m:beginButton>\r\n\t\t<m:endButton>\r\n\t\t \t<m:Button icon=\"sap-icon://decline\" press=\"closeDistributionManagementDialog_Cancel\" />\r\n\t\t</m:endButton>\r\n\t\t\r\n\t</m:Dialog>\r\n</c:FragmentDefinition>",
		"PurchaseOrdersPurchaseOrders/view/viewManagePOs.view.xml": "<mvc:View controllerName=\"PurchaseOrdersPurchaseOrders.controller.viewManagePOs\" xmlns=\"sap.ui.table\" xmlns:mvc=\"sap.ui.core.mvc\"\r\n\txmlns:u=\"sap.ui.unified\" xmlns:c=\"sap.ui.core\" xmlns:m=\"sap.m\" xmlns:l=\"sap.ui.layout\">\r\n\t<m:Page title=\"{i18n>title}\" showHeader=\"true\" enableScrolling=\"true\" class=\"sapUiContentPadding\" showNavButton=\"false\">\r\n\t\t<m:content>\r\n\t\t\t<m:VBox>\r\n\t\t\t\t\r\n\t\t\t\t<m:Toolbar/>\r\n\t\t\t\t<Table id=\"tableManagePOs\" rows=\"{/results}\" selectionMode=\"Single\" enableCellFilter=\"true\" class=\"sapUiSizeCompact\"\r\n\t\t\t\t\tvisibleRowCountMode=\"Fixed\" rowHeight=\"45\">\r\n\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t<Column filterProperty=\"PoNumber\" width=\"6em\">\r\n\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_PO_COLUMN_PONUMBER_TEXT}\" tooltip=\"Po Number\"/>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<m:Text text=\"{PoNumber}\" wrapping=\"false\"/>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t<Column filterProperty=\"Vendorname\" width=\"16%\">\r\n\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_PO_COLUMN_SUPPLIER_TEXT}\" tooltip=\"Supplier\"/>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<m:Text text=\"{Vendorname} ({Vendor})\" wrapping=\"false\"/>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t<Column filterProperty=\"PurGrouptxt\" visible=\"false\">\r\n\t\t\t\t\t\t\t<m:Label text=\"Purchasing Group\" tooltip=\"Purchasing Group\"/>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<m:Text text=\"{PurGrouptxt} ({PurGroup})\" wrapping=\"false\"/>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t<Column filterProperty=\"HeaderText\" width=\"18%\">\r\n\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_PO_COLUMN_HEADER_TEXT}\" tooltip=\"Header Text\"/>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<m:Text text=\"{HeaderText}\" wrapping=\"false\"/>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t<Column filterProperty=\"CompCodetxt\">\r\n\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_PO_COLUMN_COMP_CODE_TEXT}\" tooltip=\"Company Code\"/>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<m:Text text=\"{CompCodetxt} ({CompCode})\" wrapping=\"false\"/>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t<Column filterProperty=\"StatusText\">\r\n\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_PO_COLUMN_APPROVE_STAT_TEXT}\" tooltip=\"Approval Status\"/>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<m:Text text=\"{StatusText}\" wrapping=\"false\"/>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t<Column id=\"userCol\" filterProperty=\"CreatedBy\">\r\n\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_PO_COLUMN_CREATE_ID_TEXT}\" tooltip=\"Created By\"/>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<m:Text text=\"{CreatedBy}\" wrapping=\"false\"/>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t<Column id=\"agentCol\" filterProperty=\"Agent\">\r\n\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_PO_COLUMN_CREATE_ID_TEXT}\" tooltip=\"Agent\"/>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<m:Text text=\"{Agent}\" wrapping=\"false\"/>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t<Column hAlign=\"End\" filterProperty=\"NetValue\">\r\n\t\t\t\t\t\t\t<m:Label text=\"{i18n>TABLE_PO_COLUMN_APROVE_VALUE_TEXT}\" tooltip=\"Approved Value\"/>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<m:Text\r\n\t\t\t\t\t\t\t\t\ttext=\"{path:'NetValue', type:'sap.ui.model.type.Float', formatOptions :{maxFractionDigits:2, minFractionDigits:2, maxIntegerDigits:10, minIntegerDigits:1}}\"\r\n\t\t\t\t\t\t\t\t\twrapping=\"false\"/>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t<Column width=\"3em\">\r\n\t\t\t\t\t\t\t<m:Button icon=\"sap-icon://clear-filter\" press=\"clearAllFilters\"/>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<m:Button icon=\"sap-icon://navigation-right-arrow\" press=\"runNavigationToEditPO\" class=\"sapUiSizeCompact\"/>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t</columns>\r\n\t\t\t\t</Table>\r\n\t\t\t</m:VBox>\r\n\t\t</m:content>\r\n\t\t<m:footer>\r\n\t\t\t<m:OverflowToolbar id=\"otbFooter\">\r\n\t\t\t\t<m:ToolbarSpacer/>\r\n\t\t\t\t<m:Button text=\"\" icon=\"sap-icon://media-rewind\"/>\r\n\t\t\t\t<m:Label text=\"First | Last\"/>\r\n\t\t\t\t<m:Button text=\"\" icon=\"sap-icon://media-forward\"/>\r\n\t\t\t\t<m:ToolbarSpacer/>\r\n\t\t\t\t<m:Button text=\"{i18n>BUTTON_COPY}\" press=\"runNavigationToCopyPO\"/>\r\n\t\t\t\t<m:OverflowToolbarButton text=\"Add\" icon=\"sap-icon://add\" press=\"runNavigationToNewPO\"/>\r\n\t\t\t</m:OverflowToolbar>\r\n\t\t</m:footer>\r\n\t</m:Page>\r\n</mvc:View>",
		"PurchaseOrdersPurchaseOrders/view/fragmentItemData_DeliveryAddress.fragment.xml": "<c:FragmentDefinition\r\n\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\txmlns:c=\"sap.ui.core\"\r\n\txmlns:m=\"sap.m\"\r\n\txmlns=\"sap.ui.table\">\r\n\t\r\n\r\n\t\t\t<Table\r\n\t\t\t\tid=\"tablePOAddress\"\r\n\t\t\t\tselectionMode=\"None\"\r\n\t\t\t\tvisibleRowCount=\"0\"\r\n\t\t\t\trowHeight=\"10\"\r\n\t\t\t\tariaLabelledBy=\"title\">\r\n\t\t\t\t\r\n\t\t<columns>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<Column width=\"5em\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_DAddr_COLUMN_ITEMNO}\" tooltip = \"Item No\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value = \"{PoItem}\" enabled = \"false\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t\r\n\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_DAddr_COLUMN_NAME}\" tooltip = \"Name\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value = \"{Name}\" enabled =\"{= !(${DeleteInd} === 'L')}\" liveChange = \"fn_liveChange_Address__Name\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t\r\n\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_DAddr_COLUMN_STREET}\" tooltip = \"Street\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value = \"{Street}\" enabled =\"{= !(${DeleteInd} === 'L')}\" liveChange = \"fn_liveChange_Address__Street\" />\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t\r\n\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" visible=\"false\">\r\n\t\t\t\t\t<m:Label text=\"Street No\" tooltip = \"Street No\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value = \"{StreetNo}\" enabled =\"{= !(${DeleteInd} === 'L')}\" liveChange = \"fn_liveChange_Address__StreetNo\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t\r\n\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_DAddr_COLUMN_POSTAL_CODE}\" tooltip = \"Postal Code\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value = \"{PostlCod1}\" enabled =\"{= !(${DeleteInd} === 'L')}\" liveChange = \"fn_liveChange_Address__PostalCode\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t\r\n\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_DAddr_COLUMN_CITY}\" tooltip = \"City\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value = \"{City}\" enabled =\"{= !(${DeleteInd} === 'L')}\" liveChange = \"fn_liveChange_Address__City\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t\r\n\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" visible=\"false\" >\r\n\t\t\t\t\t<m:Label text=\"Region\" tooltip = \"Region\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value = \"{Region}\" enabled =\"{= !(${DeleteInd} === 'L')}\" liveChange = \"fn_liveChange_Address__Region\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t\r\n\t\t\t<Column flexible=\"true\" resizable=\"true\" autoResizable = \"true\" width = \"auto\" >\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_DAddr_COLUMN_COUNTRY}\" tooltip = \"Country\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Input value = \"{Country}\" enabled =\"{= !(${DeleteInd} === 'L')}\" liveChange = \"fn_liveChange_Address__Country\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<Column flexible=\"true\" width = \"5em\">\r\n\t\t\t\t\t<m:Label text=\"{i18n>TABLE_DAddr_COLUMN_COMPLETED}\" tooltip = \"Delivery Completed\"/>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:CheckBox selected=\"{\r\n\t\t\t\t\t\t\t\t\t\t      path : 'Delivcompleted',\r\n\t\t\t\t\t\t\t\t\t\t      type : 'sap.ui.model.type.Boolean' ,\r\n\t\t\t\t\t\t\t\t\t\t      formatter: '.formatBoolean'\r\n\t\t\t\t\t\t\t\t\t\t      }\"\r\n\t\t\t\t\t\t\t\t\tenabled = \"{\r\n\t\t\t\t\t\t\t\t\t\t\tpath : '/',\r\n\t\t\t\t\t\t\t\t\t\t\tformatter : '.isFinalDeliveryEnabled'}\"\r\n\t\t\t\t\t\t\t\t\tselect = \"fn_val_hlp_req_Items_FinalInvoice\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</Column>\r\n\t\t\t<Column width=\"3em\">\r\n\t\t\t\t\t<m:Label text=\"\" />\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Button icon = 'sap-icon://copy' class = \"sapUiSizeCompact\" enabled =\"{= !(${DeleteInd} === 'L')}\" press = \"buttonCopyAddressPressed\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<Column width=\"3em\">\r\n\t\t\t\t\t<m:Label text=\"\" />\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Button icon = 'sap-icon://redo' class = \"sapUiSizeCompact\" enabled =\"{= !(${DeleteInd} === 'L')}\" press = \"buttonUndoAddressPressed\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t<Column width=\"3em\">\r\n\t\t\t\t\t<m:Label text=\"\" />\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<m:Button icon = 'sap-icon://history' class = \"sapUiSizeCompact\" enabled =\"{= !(${DeleteInd} === 'L')}\" press = \"openItemHistoryDialog\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t</Column>\r\n\t\t\t\r\n\t\t\t\r\n\t\t</columns>\r\n\t</Table>\r\n\t\r\n</c:FragmentDefinition>",
		"PurchaseOrdersPurchaseOrders/controller/js/customControls/calculableInput.js": "sap.ui.getCore().AppContext.calculableInput = function ( initialValue, selectionMadeFunction ) {\r\n\r\n\tvar __parentRowIndex = undefined ;\r\n\r\n\tvar calculableInput = new sap.m.Input({\r\n\t\tvalue : initialValue\r\n\t});\r\n\t\r\n\tcalculableInput.attachLiveChange(function(oEvent) {\r\n\t\t__parentRowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\tselectionMadeFunction(__parentRowIndex);\r\n\t});\r\n\t\r\n\r\n\treturn calculableInput ;\r\n\t\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/customControls/customAssistedInputsbyField/assistedInput_Account.js": "sap.ui.getCore().AppContext.assistedInput_Account = function ( selectionMadeFunction ) {\r\n\r\n\tvar __parentRowIndex = undefined ;\r\n\tvar __selectedHelperValue = undefined ;\r\n\r\n\t var assistedInput = new sap.m.Input({\r\n                      type: sap.m.InputType.Text,\r\n                      value : \"\",\r\n                      showSuggestion: true,\r\n                      suggestionItems: {\r\n                        path: \"/results\",\r\n                        template: new sap.ui.core.Item({\r\n                          text: \"GlAccount\"\r\n                        })\r\n                      },\r\n                      showValueHelp: true,\r\n                      valueHelpRequest: function (oEvent) {\r\n                      \t\r\n                      \t__parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n                      \t\r\n                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetglaccountSet\",\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tfilters : [new sap.ui.model.Filter(\"Ktopl\", sap.ui.model.FilterOperator.EQ, \"0010\"),\r\n\t\t\t\t\t\t\t\t\t\tnew sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\")],\r\n\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\r\n\t\t\t\t\t\t        \t\t\tvar selectDialog = sap.ui.getCore().AppContext.valueHelpSelectDialog__AccountAssesment = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Order\",\r\n\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt((oevent.mParameters.selectedContexts[0].sPath).replace(\"/results/\",\"\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__selectedHelperValue = helperModel.getProperty(\"/results/\"+index+\"/\"+\"GlAccount\" );\r\n\t\t\t\t\t\t                            \tselectionMadeFunction(__parentRowIndex,__selectedHelperValue);\r\n\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t                          });\r\n\t\t\t\t\t                          \r\n\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{GlAccount} ({GlAccounttxt})\"\r\n\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n                      }\r\n\t });\r\n\r\n\t\treturn assistedInput;\r\n\t\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/customControls/customAssistedInputsbyField/assistedInput_ItemCategory.js": "sap.ui.getCore().AppContext.assistedInput_ItemCategory = function ( selectionMadeFunction ) {\r\n\r\n\tvar __parentRowIndex = undefined ;\r\n\tvar __selectedHelperValue = undefined ;\r\n\r\n\t var assistedInput = new sap.m.Input({\r\n                      type: sap.m.InputType.Text,\r\n                      value : \"\",\r\n                      showSuggestion: true,\r\n                      suggestionItems: {\r\n                        path: \"/results\",\r\n                        template: new sap.ui.core.Item({\r\n                          text: \"Acctasscat\"\r\n                        })\r\n                      },\r\n                      showValueHelp: true,\r\n                      valueHelpRequest: function (oEvent) {\r\n                      \t\r\n                      \t__parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n                      \t\r\n                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetitemcatSet\",\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tfilters : [new sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.EQ, \"NB\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t   new sap.ui.model.Filter(\"Acctasscat\", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().AppContext.GetItemsTableElementByIndex(__parentRowIndex,1).getValue()),\r\n\t\t\t\t\t\t\t\t\t\t\t\t   new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\")],\r\n\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\r\n\t\t\t\t\t\t        \t\t\tvar selectDialog = sap.ui.getCore().AppContext.valueHelpSelectDialog__AccountAssesment = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Account Assignment\",\r\n\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt((oevent.mParameters.selectedContexts[0].sPath).replace(\"/results/\",\"\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__selectedHelperValue = helperModel.getProperty(\"/results/\"+index+\"/\"+\"ItemCat\" );\r\n\t\t\t\t\t\t                            \tselectionMadeFunction(__parentRowIndex,__selectedHelperValue);\r\n\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t                          });\r\n\t\t\t\t\t                          \r\n\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{ItemCat} ({Ptext})\"\r\n\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n                      }\r\n\t });\r\n\r\n\t\treturn assistedInput;\r\n\t\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/customControls/customAssistedInputsbyField/assistedInput_MultipleAccounts.js": "sap.ui.getCore().AppContext.assistedInput_MultipleAccounts = function ( selectionMadeFunction ) {\r\n\r\n\tvar __parentRowIndex = undefined ;\r\n\tvar __selectedHelperValue = undefined ;\r\n\r\n\t var assistedInput = new sap.m.Input({\r\n                      type: sap.m.InputType.Text,\r\n                      value : \"\",\r\n                      showSuggestion: true,\r\n                      suggestionItems: {\r\n                        path: \"/results\",\r\n                        template: new sap.ui.core.Item({\r\n                          text: \"Vrtkz\"\r\n                        })\r\n                      },\r\n                      showValueHelp: true,\r\n                      valueHelpRequest: function (oEvent) {\r\n                      \t\r\n                      \t__parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n                      \t\r\n                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetmultipleSet\",\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tfilters : [],\r\n\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\r\n\t\t\t\t\t\t        \t\t\tvar selectDialog = sap.ui.getCore().AppContext.valueHelpSelectDialog__AccountAssesment = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Cost Center\",\r\n\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt((oevent.mParameters.selectedContexts[0].sPath).replace(\"/results/\",\"\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__selectedHelperValue = helperModel.getProperty(\"/results/\"+index+\"/\"+\"Vrtkz\" );\r\n\t\t\t\t\t\t                            \tselectionMadeFunction(__parentRowIndex,__selectedHelperValue);\r\n\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t                          });\r\n\t\t\t\t\t                          \r\n\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{Vrtkz} ({Distrib})\"\r\n\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n                      }\r\n\t });\r\n\r\n\t\treturn assistedInput;\r\n\t\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/customControls/customAssistedInputsbyField/assistedInput_AccountAssignment.js": "sap.ui.getCore().AppContext.assistedInput_AccountAssignment = function ( selectionMadeFunction ) {\r\n\r\n\tvar __parentRowIndex = undefined ;\r\n\tvar __selectedHelperValue = undefined ;\r\n\r\n\t var assistedInput = new sap.m.Input({\r\n                      type: sap.m.InputType.Text,\r\n                      showSuggestion: true,\r\n                      suggestionItems: {\r\n                        path: \"/results\",\r\n                        template: new sap.ui.core.Item({\r\n                          text: \"{ACCTASSCAT}\"\r\n                        })\r\n                      },\r\n                      showValueHelp: true,\r\n                      \r\n                      valueHelpRequest: function (oEvent) {\r\n                      \t\r\n                      \t__parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n\r\n                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetacctassSet\",\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tfilters : [new sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.EQ, \"NB\")],\r\n\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\r\n\t\t\t\t\t\t        \t\t\tvar selectDialog = sap.ui.getCore().AppContext.valueHelpSelectDialog__AccountAssesment = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Account Assignment\",\r\n\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt((oevent.mParameters.selectedContexts[0].sPath).replace(\"/results/\",\"\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__selectedHelperValue = helperModel.getProperty(\"/results/\"+index+\"/\"+\"Acctasscat\" );\r\n\t\t\t\t\t\t                            \tselectionMadeFunction(__parentRowIndex,__selectedHelperValue);\r\n\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t                          });\r\n\t\t\t\t\t                          \r\n\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{Acctasscat} ({Acct asscattxt})\"\r\n\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n                      }\r\n\t });\r\n\t\t\r\n\t\treturn assistedInput;\r\n\t\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/customControls/customAssistedInputsbyField/assistedInput_Plant.js": "sap.ui.getCore().AppContext.assistedInput_Plant = function ( selectionMadeFunction ) {\r\n\r\n\tvar __parentRowIndex = undefined ;\r\n\tvar __selectedHelperValue = undefined ;\r\n\r\n\t var assistedInput = new sap.m.Input({\r\n                      type: sap.m.InputType.Text,\r\n                      value : \"\",\r\n                      showSuggestion: true,\r\n                      suggestionItems: {\r\n                        path: \"/results\",\r\n                        template: new sap.ui.core.Item({\r\n                          text: \"Plant\"\r\n                        })\r\n                      },\r\n                      showValueHelp: true,\r\n                      valueHelpRequest: function (oEvent) {\r\n                      \t\r\n                      \t__parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n                      \t\r\n                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetplantSet\",\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tfilters : [new sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.EQ, \"1000\")],\r\n\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\r\n\t\t\t\t\t\t        \t\t\tvar selectDialog = sap.ui.getCore().AppContext.valueHelpSelectDialog__AccountAssesment = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Material Group\",\r\n\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt((oevent.mParameters.selectedContexts[0].sPath).replace(\"/results/\",\"\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__selectedHelperValue = helperModel.getProperty(\"/results/\"+index+\"/\"+\"Plant\" );\r\n\t\t\t\t\t\t                            \tselectionMadeFunction(__parentRowIndex,__selectedHelperValue);\r\n\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t                          });\r\n\t\t\t\t\t                          \r\n\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{Plant} ({Name1})\"\r\n\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n                      }\r\n\t });\r\n\r\n\t\treturn assistedInput;\r\n\t\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/customControls/customAssistedInputsbyField/assistedInput_MaterialGroup.js": "sap.ui.getCore().AppContext.assistedInput_MaterialGroup = function ( selectionMadeFunction ) {\r\n\r\n\tvar __parentRowIndex = undefined ;\r\n\tvar __selectedHelperValue = undefined ;\r\n\r\n\t var assistedInput = new sap.m.Input({\r\n                      type: sap.m.InputType.Text,\r\n                      value : \"\",\r\n                      showSuggestion: true,\r\n                      suggestionItems: {\r\n                        path: \"/results\",\r\n                        template: new sap.ui.core.Item({\r\n                          text: \"MatlGroup\"\r\n                        })\r\n                      },\r\n                      showValueHelp: true,\r\n                      valueHelpRequest: function (oEvent) {\r\n                      \t\r\n                      \t__parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n                      \t\r\n                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetmatlgroupSet\",\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tfilters : [new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\")],\r\n\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\r\n\t\t\t\t\t\t        \t\t\tvar selectDialog = sap.ui.getCore().AppContext.valueHelpSelectDialog__AccountAssesment = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Material Group\",\r\n\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt((oevent.mParameters.selectedContexts[0].sPath).replace(\"/results/\",\"\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__selectedHelperValue = helperModel.getProperty(\"/results/\"+index+\"/\"+\"MatlGroup\" );\r\n\t\t\t\t\t\t                            \tselectionMadeFunction(__parentRowIndex,__selectedHelperValue);\r\n\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t                          });\r\n\t\t\t\t\t                          \r\n\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{MatlGroup} ({MatlGrouptxt})\"\r\n\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n                      }\r\n\t });\r\n\r\n\t\treturn assistedInput;\r\n\t\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/customControls/customAssistedInputsbyField/assistedInput_Order.js": "sap.ui.getCore().AppContext.assistedInput_Order = function ( selectionMadeFunction ) {\r\n\r\n\tvar __parentRowIndex = undefined ;\r\n\tvar __selectedHelperValue = undefined ;\r\n\r\n\t var assistedInput = new sap.m.Input({\r\n                      type: sap.m.InputType.Text,\r\n                      value : \"\",\r\n                      showSuggestion: true,\r\n                      suggestionItems: {\r\n                        path: \"/results\",\r\n                        template: new sap.ui.core.Item({\r\n                          text: \"Orderid\"\r\n                        })\r\n                      },\r\n                      showValueHelp: true,\r\n                      valueHelpRequest: function (oEvent) {\r\n                      \t\r\n                      \t__parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n                      \t\r\n                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetorderSet\",\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tfilters : [new sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.EQ, \"1000\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t   new sap.ui.model.Filter(\"Kokrs\", sap.ui.model.FilterOperator.EQ, \"1000\")],\r\n\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\r\n\t\t\t\t\t\t        \t\t\tvar selectDialog = sap.ui.getCore().AppContext.valueHelpSelectDialog__AccountAssesment = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Order\",\r\n\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt((oevent.mParameters.selectedContexts[0].sPath).replace(\"/results/\",\"\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__selectedHelperValue = helperModel.getProperty(\"/results/\"+index+\"/\"+\"Orderid\" );\r\n\t\t\t\t\t\t                            \tselectionMadeFunction(__parentRowIndex,__selectedHelperValue);\r\n\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t                          });\r\n\t\t\t\t\t                          \r\n\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{Orderid}\"\r\n\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n                      }\r\n\t });\r\n\r\n\t\treturn assistedInput;\r\n\t\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/customControls/customAssistedInputsbyField/assistedInput_UnitOfMeasure.js": "sap.ui.getCore().AppContext.assistedInput_UnitOfMeasure = function ( selectionMadeFunction ) {\r\n\r\n\tvar __parentRowIndex = undefined ;\r\n\tvar __selectedHelperValue = undefined ;\r\n\r\n\t var assistedInput = new sap.m.Input({\r\n                      type: sap.m.InputType.Text,\r\n                      value : \"\",\r\n                      showSuggestion: true,\r\n                      suggestionItems: {\r\n                        path: \"/results\",\r\n                        template: new sap.ui.core.Item({\r\n                          text: \"PoUnit\"\r\n                        })\r\n                      },\r\n                      showValueHelp: true,\r\n                      valueHelpRequest: function (oEvent) {\r\n                      \t\r\n                      \t__parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n                      \t\r\n                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetpounitSet\",\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tfilters : [new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\")],\r\n\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\r\n\t\t\t\t\t\t        \t\t\tvar selectDialog = sap.ui.getCore().AppContext.valueHelpSelectDialog__AccountAssesment = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Material Group\",\r\n\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt((oevent.mParameters.selectedContexts[0].sPath).replace(\"/results/\",\"\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__selectedHelperValue = helperModel.getProperty(\"/results/\"+index+\"/\"+\"PoUnit\" );\r\n\t\t\t\t\t\t                            \tselectionMadeFunction(__parentRowIndex,__selectedHelperValue);\r\n\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t                          });\r\n\t\t\t\t\t                          \r\n\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{PoUnit} ({Msehl})\"\r\n\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n                      }\r\n\t });\r\n\r\n\t\treturn assistedInput;\r\n\t\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/customControls/customAssistedInputsbyField/assistedInput_CostCenter.js": "sap.ui.getCore().AppContext.assistedInput_CostCenter = function ( selectionMadeFunction ) {\r\n\r\n\tvar __parentRowIndex = undefined ;\r\n\tvar __selectedHelperValue = undefined ;\r\n\r\n\t var assistedInput = new sap.m.Input({\r\n                      type: sap.m.InputType.Text,\r\n                      value : \"\",\r\n                      showSuggestion: true,\r\n                      suggestionItems: {\r\n                        path: \"/results\",\r\n                        template: new sap.ui.core.Item({\r\n                          text: \"Costcenter\"\r\n                        })\r\n                      },\r\n                      showValueHelp: true,\r\n                      valueHelpRequest: function (oEvent) {\r\n                      \t\r\n                      \t__parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n                      \t\r\n                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetcostcenterSet\",\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tfilters : [new sap.ui.model.Filter(\"Kokrs\", sap.ui.model.FilterOperator.EQ, \"1000\"),\r\n\t\t\t\t\t\t\t\t\t\tnew sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\")],\r\n\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\r\n\t\t\t\t\t\t        \t\t\tvar selectDialog = sap.ui.getCore().AppContext.valueHelpSelectDialog__AccountAssesment = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Cost Center\",\r\n\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt((oevent.mParameters.selectedContexts[0].sPath).replace(\"/results/\",\"\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__selectedHelperValue = helperModel.getProperty(\"/results/\"+index+\"/\"+\"Costcenter\" );\r\n\t\t\t\t\t\t                            \tselectionMadeFunction(__parentRowIndex,__selectedHelperValue);\r\n\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t                          });\r\n\t\t\t\t\t                          \r\n\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{Costcenter} ({Costcentertxt})\"\r\n\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n                      }\r\n\t });\r\n\r\n\t\treturn assistedInput;\r\n\t\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/SubItems.js": "sap.ui.getCore().AppContext.dialogSubItemsTriggered = function ( poNumber , poItem , idDistribution , quantity) {\r\n\r\n\t\t\tvar __poNumber = poNumber ;\r\n\t\t\tvar __poItem = poItem ;\r\n\t\t\tvar __idDistribution = idDistribution ;\r\n\t\t\tvar __quantity = quantity ;\r\n\t\t\t\r\n\t\t\tvar columnQuantityEnabled = undefined ;\r\n\t\t\tvar columnPercentageEnabled = undefined ;\r\n\t\t\t\r\n\r\n\t\t\tswitch(__idDistribution) {\r\n\t\t\t    case \"\":\r\n\t\t\t        //code block\r\n\t\t\t        break;\r\n\t\t\t    case \"1\":\r\n\t\t\t        columnQuantityEnabled = true ;\r\n\t\t\t        columnPercentageEnabled = false ;\r\n\t\t\t        break;\r\n\t\t\t    case \"2\":\r\n\t\t\t        columnQuantityEnabled = false ;\r\n\t\t\t        columnPercentageEnabled = true ;\r\n\t\t\t    \tbreak;\r\n\t\t\t    default:\r\n\t\t\t        break;\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\t// FOARTE IMPORTANT : Conditie de no action daca idDistribution == 0 - !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n\t\t\t//  - !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n\t\t\t//  - !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tsap.ui.getCore().AppContext.tableSubItems = new sap.ui.table.Table({\r\n\t\t\t\t\t\tselectionMode : sap.ui.table.SelectionMode.None }\r\n\t\t\t\t\t);\r\n\t\t\t\t\t\r\n\t\t\tsap.ui.getCore().AppContext.tableSubItems.addColumn(new sap.ui.table.Column({\r\n\t\t\t\t\t    label: '',\r\n\t\t\t\t\t    width: '10%',\r\n\t\t\t\t\t    template: new  sap.ui.commons.layout.HorizontalLayout({\r\n\t\t\t\t\t      content: [\r\n\t\t\t\t\t        new sap.ui.commons.Button({\r\n\t\t\t\t\t          style: sap.ui.commons.ButtonStyle.Reject,\r\n\t\t\t\t\t          icon: 'sap-icon://delete',\r\n\t\t\t\t\t          \r\n\t\t\t\t\t          press : function (oEvent) {\r\n\t\t\t\t\t    \t\r\n\t\t\t\t\t    \t \t\t\t// var mData = sap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS___MODEL.getData();\r\n\t\t\t\t\t    \t \t\t\t// mData.results.splice(oEvent.getSource().getParent().getIndex(),1) ;\r\n\t\t\t\t\t    \t \t\t\t// sap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS___MODEL.setData(mData);\r\n\t\t\t\t\t    \t \t\t\t// sap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS___MODEL.getData().refresh();\r\n\t\t\t\t\t\t\t\t\t\t// sap.ui.getCore().AppContext.tablePOItems.setVisibleRowCount(sap.ui.getCore().AppContext.tablePOItems.getVisibleRowCount()-1);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t    \t\t\t}\r\n\t\t\t\t\t          \r\n\t\t\t\t\t        })\r\n\t\t\t\t\t      ]\r\n\t\t\t\t\t    })\r\n\t\t\t\t\t  }));\r\n\t\t\t\t\t\t\t\t  \r\n\t\t\tsap.ui.getCore().AppContext.tableSubItems.addColumn(new sap.ui.table.Column({\r\n\t\t\t                     label : new sap.ui.commons.Label({ text : \"Quantity\" , tooltip : \"Quantity\" }),\r\n\t\t\t                     template : new sap.m.Input({ value : \"{Quantity}\" , enabled : columnQuantityEnabled }),\r\n\t\t\t                     width : \"18%\"\r\n\t\t\t              }));\r\n\t\t\t              \r\n\t\t\tsap.ui.getCore().AppContext.tableSubItems.addColumn(new sap.ui.table.Column({\r\n\t\t\t                     label : new sap.ui.commons.Label({ text : \"Percentage\" , tooltip : \"Percentage\" }),\r\n\t\t\t                     template : new sap.m.Input({ value : \"{DistrPerc}\" , enabled : columnPercentageEnabled}),\r\n\t\t\t                     width : \"18%\"\r\n\t\t\t              }));          \r\n\t\t\t         \r\n\t\t\tsap.ui.getCore().AppContext.tableSubItems.addColumn(new sap.ui.table.Column({\r\n\t\t\t                     label : new sap.ui.commons.Label({ text : \"G/L Account\" , tooltip : \"G/L Account\" }),\r\n\t\t\t                     template : new sap.m.Input({ value : \"{GlAccount}\"}),\r\n\t\t\t                     width : \"18%\"\r\n\t\t\t              }));\r\n\t\r\n\t\r\n\t\t\tsap.ui.getCore().AppContext.tableSubItems.addColumn(new sap.ui.table.Column({\r\n\t\t\t                     label : new sap.ui.commons.Label({ text : \"Cost Center\" , tooltip : \"Cost Center\" }),\r\n\t\t\t                     template : new sap.m.Input({ value : \"{Costcenter}\"}),\r\n\t\t\t                     width : \"18%\"\r\n\t\t\t              }));  \r\n\t\t\t              \r\n\t\t\t              \r\n\t\t\tsap.ui.getCore().AppContext.tableSubItems.addColumn(new sap.ui.table.Column({\r\n\t\t\t                     label : new sap.ui.commons.Label({ text : \"Order\" , tooltip : \"Order\" }),\r\n\t\t\t                     template : new sap.m.Input({ value : \"{Orderid}\"}),\r\n\t\t\t                     width : \"18%\"\r\n\t\t\t              }));                \r\n\r\n\r\n\t\t\t\r\n\t\t\tsap.ui.getCore().AppContext.modelPOItemsDetails.read(\"/ZtgetpoaccountSet\",\r\n\t\t\t{\r\n\t\t\t\tfilters : [ new sap.ui.model.Filter(\"PoNumber\", sap.ui.model.FilterOperator.EQ, __poNumber),\r\n\t\t\t\t\t\t\tnew sap.ui.model.Filter(\"PoItem\", sap.ui.model.FilterOperator.EQ, __poItem)] ,\r\n\t\t\t\t\r\n\t\t\t \tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\r\n// TRE SA FACI CEVA CU UN JSON LOCAL AICI !!!\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tsap.ui.getCore().AppContext.jsonPOSubItems_JSONContent = oData ;\r\n\t\t\t\t\t\r\n\t\t\t \t\tsap.ui.getCore().AppContext.jsonPOSubItems_Model = new sap.ui.model.json.JSONModel();\r\n\t        \t\tsap.ui.getCore().AppContext.jsonPOSubItems_Model.setData(oData);\r\n\r\n\t\t\t\t\tsap.ui.getCore().AppContext.tableSubItems.setModel(sap.ui.getCore().AppContext.jsonPOSubItems_Model);\r\n\r\n\t\t\t\t\tsap.ui.getCore().AppContext.tableSubItems.bindRows({ path : \"/results\" });\r\n\t\t\t\t\tsap.ui.getCore().AppContext.tableSubItems.setVisibleRowCount(sap.ui.getCore().AppContext.tableSubItems.getBinding().getLength()) ;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t  \r\n\t\t\t\tif (!sap.ui.getCore().AppContext.dialogSubItems) {\r\n\t\t\t\t\t sap.ui.getCore().AppContext.dialogSubItems = new sap.m.Dialog({\r\n\t\t\t\t\t\ttitle: 'Available SubItems',\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcontent: [sap.ui.getCore().AppContext.tableSubItems,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnew sap.m.Button({\r\n\t\t\t\t\t\t\ticon : \"sap-icon://sys-add\",\r\n\t\t\t\t\t\t\ttext: '',\r\n\t\t\t\t\t\t\tpress: function () {\r\n\t\t\t\t\t\t\t\t\t// Execute Add New Subitem\r\n\t\t\t\t\t\t\t\t\tvar aData = sap.ui.getCore().AppContext.jsonPOSubItems_Model.getProperty(\"/results\");\r\n\t\t\t\t\t\t\t\t\tvar newRow = {};\r\n\t\t\t\t\t\t\t\t\taData.push(newRow);\r\n\t\t\t\t\t\t\t\t\tsap.ui.getCore().AppContext.jsonPOSubItems_Model.setProperty(\"/results\", aData);\r\n\t\t\t\t\t \t\t\t\tsap.ui.getCore().AppContext.tableSubItems.bindRows({path: \"/results\"} );\r\n\t\t\t\t\t \t\t\t\tsap.ui.getCore().AppContext.tableSubItems.setVisibleRowCount(sap.ui.getCore().AppContext.tableSubItems.getVisibleRowCount()+1);\r\n\t\t\t\t\t \t\t\t\t\r\n\t\t\t\t\t \t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})],\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbeginButton: new sap.m.Button({\r\n\t\t\t\t\t\t\ttext: 'Save Changes',\r\n\t\t\t\t\t\t\tpress: function () {\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().AppContext.dialogSubItems.close();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t});\r\n\t \r\n\t\t\t\t\tsap.ui.getCore().AppContext.handle_to_HandlePOView.addDependent(sap.ui.getCore().AppContext.dialogSubItems);\r\n\t\t\t\t}\r\n\t \r\n\t\t\t\tsap.ui.getCore().AppContext.dialogSubItems.open();\r\n\t\t  \r\n\t\t\t\t\t\t\t\t  \r\n\t\t\t\t },\r\n\t\t\t\t \terror : function(error) {\r\n\t\t       \t\talert(error.message);\r\n\t\t\t\t \t}\r\n\t\t\t\t });\r\n\t\t\t\t\r\n\t\t sap.ui.getCore().AppContext.handle_to_HandlePOView.dialogSubItemsTriggered = this ;\t\r\n\t\t\t\t\t\r\n} ;",
		"PurchaseOrdersPurchaseOrders/controller/js/FETCH_PoItems.js": "sap.ui.getCore().AppContext.FETCH_PoItems = function () {\r\n\r\n\r\n// \t\t\t\tif ( sap.ui.getCore().AppContext.lastSelected_POAction === \"PO_ACTION__NEW\" ) {\r\n// \t\t\t\t\tsap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS.setData( { results : [] } );\r\n// \t\t\t\t\tsap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS.updateBindings();\r\n// \t\t\t\t\tSetUpModel();\r\n// \t\t\t\t\tSetUpFields();\r\n// \t\t\t\t}\r\n\t\t\t\t\r\n// \t\t\t\telse {\r\n\t\t\t\t\t\t\r\n// \t\t\t\t\t\t// If thre's no new PO creation ... fetching data for existing PO and populating fields\r\n// \t\t\t\t\t\tsap.ui.getCore().AppContext.modelPOItemsDetails.read(\"/ZtgetpoitemSet\",\r\n// \t\t\t\t\t\t\t\t\t\t\t{\r\n// \t\t\t\t\t\t\t\t\t\t\t\tfilters : [ new sap.ui.model.Filter(\"PoNumber\", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().AppContext.lastSelected_PONumber) ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n// \t\t\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tsap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS = oData;\r\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tSetUpModel();\r\n// \t\t\t\t\t\t\t\t\t\t\t\t\t\tSetUpFields();\r\n// \t\t\t\t\t\t\t\t\t\t\t\t},\r\n// \t\t\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n// \t\t\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n// \t\t\t\t\t\t\t\t\t\t\t\t}\r\n// \t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\r\n// \t\t\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n// function SetUpModel() {\r\n// \t\tsap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS___MODEL = new sap.ui.model.json.JSONModel();\r\n// \t\tsap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS___MODEL.setData(sap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS);             \r\n// \t\tsap.ui.getCore().AppContext.tablePOItems.setModel(sap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS___MODEL);\r\n// } ;\r\n\r\nfunction SetUpFields() {\r\n\r\nsap.ui.getCore().AppContext.tablePOItems.unbindRows();\r\nsap.ui.getCore().AppContext.tablePOItems.setModel();\r\n\r\n\r\n\t\t\tsap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({ width: '6%',\r\n\t\t\t\t\t    template: new sap.m.Button({ style: sap.m.ButtonType.Default, icon: 'sap-icon://sys-cancel-2', press : function (oEvent) {\r\n\t\t\t\t\t    \t\r\n\t\t\t\t\t    \t//  \t\t\tvar mData = sap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS___MODEL.getData();\r\n\t\t\t\t\t    \t//  \t\t\tmData.results.splice(oEvent.getSource().getParent().getIndex(),1) ;\r\n\t\t\t\t\t    \t//  \t\t\tsap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS___MODEL.setData(mData);\r\n\t\t\t\t\t    \t//  \t\t\tsap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS___MODEL.getData().refresh();\r\n\t\t\t\t\t    \t \t\t\t\r\n\t\t\t\t\t    \t//  \t\t\tvar numrows = sap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS___MODEL.length ;\r\n\t\t\t\t\t    \t \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t// sap.ui.getCore().AppContext.tablePOItems.setVisibleRowCount(numrows);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t    } }) }));\r\n\t\t\t\t\t    \t\r\n\r\n\t\t\t\t\t  \r\n\r\n\r\n// ------------------------------ Account Assignment ------------------------------\r\n\r\n\t\t\tsap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Account Assignment\" , tooltip : \"Account Assignment\" }),\r\n\t\t                     template :  new sap.m.Input({\r\n\t\t\t\t\t                      type: sap.m.InputType.Text,\r\n\t\t\t\t\t                      showSuggestion: true,\r\n\t\t                     \t\t\t  value : \"{Acctasscat}\" ,\r\n\t\t                     \t\t\t  showValueHelp: true,\r\n\t\t                     \t\t\t  valueHelpRequest: function (oEvent) {\r\n\t\t                     \t\t\t  \t\r\n\t\t\t\t\t\t\t                      \t\t\tvar __parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n\t\t\t\t\t\t\t                      \t\t\t\r\n\t\t\t\t\t\t\t                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetacctassSet\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilters : [new sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.EQ, \"NB\")],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Account Assignment\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject() ;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(__parentRowIndex,1).setValue(oSelectedObject.Acctasscat);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          \r\n\t\t\t\t\t\t\t\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{Acctasscat}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n                    \t\t\t\t\t}\r\n\t\t                     }),\r\n\t\t                     \r\n\t\t                     width : \"10%\"\r\n\t\t              })) ;\t\t              \r\n\t\t              \r\n\t\t\t\t\t  \r\n\r\n// ------------------------------ Item Category ------------------------------\r\n\r\n\t\t\tsap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Item Category\" , tooltip : \"Item Category\" }),\r\n\t\t                     template :  new sap.m.Input({\r\n\t\t\t\t\t                      type: sap.m.InputType.Text,\r\n\t\t\t\t\t                      showSuggestion: true,\r\n\t\t                     \t\t\t  value : \"{ItemCat}\" ,\r\n\t\t                     \t\t\t  showValueHelp: true,\r\n\t\t                     \t\t\t  valueHelpRequest: function (oEvent) {\r\n\t\t                     \t\t\t  \t\r\n\t\t\t\t\t\t\t                      \t\t\tvar __parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n\t\t\t\t\t\t\t                      \t\t\t\r\n\t\t\t\t\t\t\t                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetitemcatSet\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilters : [ new sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.EQ, \"NB\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew sap.ui.model.Filter(\"Acctasscat\", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().AppContext.GetItemsTableElementByIndex(__parentRowIndex,1).getValue()),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\")],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Item Category\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject() ;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(__parentRowIndex,2).setValue(oSelectedObject.ItemCat);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          \r\n\t\t\t\t\t\t\t\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{ItemCat}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n                    \t\t\t\t\t}\r\n\t\t                     }),\r\n\t\t                     \r\n\t\t                     width : \"10%\"\r\n\t\t              })) ;\t\t\r\n   \r\n// ------------------------------ Short Text ------------------------------          \r\n\t\t              \r\n\t\t    sap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Short Text\" , tooltip : \"Short Text\" }),\r\n\t\t                     template : new sap.m.Input({ value : \"{ShortText}\"}),\r\n\t\t                     width : \"10%\"\r\n\t\t              }));\r\n\t\t              \r\n// ------------------------------ Material Group ------------------------------\r\n\r\n\t\t\tsap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Material Group\" , tooltip : \"Material Group\" }),\r\n\t\t                     template :  new sap.m.Input({\r\n\t\t\t\t\t                      type: sap.m.InputType.Text,\r\n\t\t\t\t\t                      showSuggestion: true,\r\n\t\t                     \t\t\t  value : \"{MatlGroup}\" ,\r\n\t\t                     \t\t\t  showValueHelp: true,\r\n\t\t                     \t\t\t  valueHelpRequest: function (oEvent) {\r\n\t\t                     \t\t\t  \t\r\n\t\t\t\t\t\t\t                      \t\t\tvar __parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n\t\t\t\t\t\t\t                      \t\t\t\r\n\t\t\t\t\t\t\t                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetmatlgroupSet\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilters : [new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\")],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Account Assignment\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject() ;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(__parentRowIndex,4).setValue(oSelectedObject.MatlGroup);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          \r\n\t\t\t\t\t\t\t\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{MatlGroup}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n                    \t\t\t\t\t}\r\n\t\t                     }),\r\n\t\t                     \r\n\t\t                     width : \"10%\"\r\n\t\t              })) ;\t\t              \r\n\t\t              \t\t              \r\n\t\t          \r\n// ------------------------------ Plant ------------------------------\r\n\r\n\t\t\tsap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Plant\" , tooltip : \"Plant\" }),\r\n\t\t                     template :  new sap.m.Input({\r\n\t\t\t\t\t                      type: sap.m.InputType.Text,\r\n\t\t\t\t\t                      showSuggestion: true,\r\n\t\t                     \t\t\t  value : \"{Plant}\" ,\r\n\t\t                     \t\t\t  showValueHelp: true,\r\n\t\t                     \t\t\t  valueHelpRequest: function (oEvent) {\r\n\t\t                     \t\t\t  \t\r\n\t\t\t\t\t\t\t                      \t\t\tvar __parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n\t\t\t\t\t\t\t                      \t\t\t\r\n\t\t\t\t\t\t\t                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetplantSet\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilters : [new sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.EQ, \"1000\")],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Plant\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject() ;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(__parentRowIndex,5).setValue(oSelectedObject.Plant);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          \r\n\t\t\t\t\t\t\t\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{Plant}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n                    \t\t\t\t\t}\r\n\t\t                     }),\r\n\t\t                     \r\n\t\t                     width : \"10%\"\r\n\t\t              })) ;\t\t              \r\n\t\t              \r\n\t\t\t\t\t  \t\t              \r\n// ------------------------------ Delivery Date ------------------------------\t\t              \r\n\r\n\t\t    sap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Delivery Date\" , tooltip : \"Delivery Date\" }),\r\n\t\t                     template : new sap.m.Input({ value : \"{DeliveryDate}\" , pattern : \"MM/dd/yy\"}),\r\n\t\t                     width : \"11%\"\r\n\t\t              })); \r\n\t\t              \r\n\t\t              \r\n// ------------------------------ Quantity ------------------------------\t\t\t              \r\n\t\t              \r\n\t\t    sap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Quantity\" , tooltip : \"Quantity\"}),\r\n\t\t                     \r\n\t\t                     template : sap.ui.getCore().AppContext.calculableInput(\"{Quantity}\", function(rowIndex,selectedValue){\r\n\t\t                     \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,13).setValue(\r\n\t\t                     \t\tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,7).getValue()*sap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,9).getValue()/sap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,11).getValue()\r\n\t\t                     \t\t);\r\n\tsap.ui.getCore().AppContext.SumUPTotalPOValue();\r\n\t\t                     }),\r\n\t\t                     \r\n\t\t                     width : \"10%\"\r\n\t\t              }));\r\n\t\t              \r\n\t\t              \r\n// ------------------------------ Unit of Measure ------------------------------\r\n\r\n\t\t\tsap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Unit of Measure\" , tooltip : \"Unit of Measure\" }),\r\n\t\t                     template :  new sap.m.Input({\r\n\t\t\t\t\t                      type: sap.m.InputType.Text,\r\n\t\t\t\t\t                      showSuggestion: true,\r\n\t\t                     \t\t\t  value : \"{PoUnit}\" ,\r\n\t\t                     \t\t\t  showValueHelp: true,\r\n\t\t                     \t\t\t  valueHelpRequest: function (oEvent) {\r\n\t\t                     \t\t\t  \t\r\n\t\t\t\t\t\t\t                      \t\t\tvar __parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n\t\t\t\t\t\t\t                      \t\t\t\r\n\t\t\t\t\t\t\t                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetpounitSet\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilters : [new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\")],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Unit of Measure\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject() ;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(__parentRowIndex,8).setValue(oSelectedObject.PoUnit);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          \r\n\t\t\t\t\t\t\t\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{PoUnit}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n                    \t\t\t\t\t}\r\n\t\t                     }),\r\n\t\t                     \r\n\t\t                     width : \"10%\"\r\n\t\t              })) ;\t\t              \t\t          \r\n\t\t              \r\n\r\n// ------------------------------ Net Price ------------------------------\r\n\r\n\t\t              \r\n\t\t    sap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Net Price\" , tooltip : \"Net Price\" }),\r\n\t\t                     template : sap.ui.getCore().AppContext.calculableInput(\"{NetPrice}\", function(rowIndex,selectedValue){\r\n\t\t                     \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,13).setValue(\r\n\t\t                     \t\tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,7).getValue()*sap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,9).getValue()/sap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,11).getValue()\r\n\t\t                     \t\t);\r\n\tsap.ui.getCore().AppContext.SumUPTotalPOValue();\t\t\t\t\t                     \t\t\r\n\t\t                     }),\r\n\t\t                     width : \"10%\"\r\n\t\t              }));\r\n\t\t              \r\n// ------------------------------ Currency ------------------------------\t\t              \r\n\t\t              \r\n\t\t    sap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Currency\" , tooltip : \"Currency\" }),\r\n\t\t                     template : new sap.ui.commons.Label({ text : \"{Currency}\"}),\r\n\t\t                     width : \"8%\"\r\n\t\t              }));\r\n\t\t\t\r\n// ------------------------------ Per ------------------------------\t\t\t\r\n\t\t\t\r\n\t\t\tsap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Per\" , tooltip : \"Per\"}),\r\n\t\t                     template : sap.ui.getCore().AppContext.calculableInput(\"{PriceUnit}\", function(rowIndex,selectedValue){\r\n\t\t                     \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,13).setValue(\r\n\t\t                     \t\tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,7).getValue()*sap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,9).getValue()/sap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,11).getValue()\r\n\t\t                     \t\t);\r\n\tsap.ui.getCore().AppContext.SumUPTotalPOValue();\r\n\t\t                     }),\r\n\t\t                     width : \"4%\"\r\n\t\t              }));\r\n\t\t              \r\n\t\t              \r\n// ------------------------------ Order ------------------------------\r\n\r\n\t\t\tsap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Order\" , tooltip : \"Order\" }),\r\n\t\t                     template :  new sap.m.Input({\r\n\t\t\t\t\t                      type: sap.m.InputType.Text,\r\n\t\t\t\t\t                      showSuggestion: true,\r\n\t\t                     \t\t\t  value : \"{Orderid}\" ,\r\n\t\t                     \t\t\t  showValueHelp: true,\r\n\t\t                     \t\t\t  valueHelpRequest: function (oEvent) {\r\n\t\t                     \t\t\t  \t\r\n\t\t\t\t\t\t\t                      \t\t\tvar __parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n\t\t\t\t\t\t\t                      \t\t\t\r\n\t\t\t\t\t\t\t                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetorderSet\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilters : [new sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.EQ, \"1000\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   new sap.ui.model.Filter(\"Kokrs\", sap.ui.model.FilterOperator.EQ, \"1000\")],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Order\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject() ;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(__parentRowIndex,12).setValue(oSelectedObject.Orderid);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          \r\n\t\t\t\t\t\t\t\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{Orderid}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n                    \t\t\t\t\t}\r\n\t\t                     }),\r\n\t\t                     \r\n\t\t                     width : \"10%\"\r\n\t\t              })) ;\t\t              \t\t          \r\n\t\t              \r\n\t\t              \t\t              \r\n// ------------------------------ Item Value ------------------------------\t\t  \r\n\r\n\r\n\t\t   sap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Item Value\" , tooltip : \"Item Value\" }),\r\n\t\t                     template :  new sap.m.Input({ value : \"{Limit}\"}),\r\n\t\t                     width : \"10%\"\r\n\t\t              }));\r\n\t\t              \r\n\t\t              \r\n// ------------------------------ Account ------------------------------\r\n\r\n\t\t\tsap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Account\" , tooltip : \"Account\" }),\r\n\t\t                     template :  new sap.m.Input({\r\n\t\t\t\t\t                      type: sap.m.InputType.Text,\r\n\t\t\t\t\t                      showSuggestion: true,\r\n\t\t                     \t\t\t  value : \"{GlAccount}\" ,\r\n\t\t                     \t\t\t  showValueHelp: true,\r\n\t\t                     \t\t\t  valueHelpRequest: function (oEvent) {\r\n\t\t                     \t\t\t  \t\r\n\t\t\t\t\t\t\t                      \t\t\tvar __parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n\t\t\t\t\t\t\t                      \t\t\t\r\n\t\t\t\t\t\t\t                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetglaccountSet\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilters : [new sap.ui.model.Filter(\"Ktopl\", sap.ui.model.FilterOperator.EQ, \"0010\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\")],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Account\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject() ;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(__parentRowIndex,14).setValue(oSelectedObject.GlAccount);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          \r\n\t\t\t\t\t\t\t\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{GlAccount}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n                    \t\t\t\t\t}\r\n\t\t                     }),\r\n\t\t                     \r\n\t\t                     width : \"10%\"\r\n\t\t              })) ;\t\t   \t\t              \r\n\t\t              \r\n\r\n// ------------------------------ Cost Center ------------------------------\r\n\r\n\t\t\tsap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Cost Center\" , tooltip : \"Cost Center\" }),\r\n\t\t                     \r\n\t\t                     template : new sap.m.Input({\r\n\t\t\t\t\t                      type: sap.m.InputType.Text,\r\n\t\t\t\t\t                      showSuggestion: true,\r\n\t\t                     \t\t\t  value : \"{Costcenter}\" ,\r\n\t\t                     \t\t\t  showValueHelp: true,\r\n\t\t                     \t\t\t  valueHelpRequest: function (oEvent) {\r\n\t\t                     \t\t\t  \t\r\n\t\t\t\t\t\t\t                      \t\t\tvar __parentRowIndex = oEvent.getSource().getParent().getIndex() ;\r\n\t\t\t\t\t\t\t                      \t\t\t\r\n\t\t\t\t\t\t\t                      \t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetcostcenterSet\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilters : [ new sap.ui.model.Filter(\"Kokrs\", sap.ui.model.FilterOperator.EQ, \"1000\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\")],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar helperModel =  new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\thelperModel.setData(oData);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\t\ttitle: \"Select Cost Center\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            confirm: function(oevent){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject() ;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(__parentRowIndex,15).setValue(oSelectedObject.Costcenter);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t                            cancel: function(oevent){}\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t                          \r\n\t\t\t\t\t\t\t\t\t\t\t\t                          selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            path:\"/results\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t              \ttitle: \"{Costcenter}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t          });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\t\tselectDialog.setModel(helperModel);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectDialog.open();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n                    \t\t\t\t\t}\r\n\t\t                     }),\r\n\t\t                     \r\n\t\t                     \r\n\t\t                     width : \"10%\"\r\n\t\t              })) ;\t\t   \t\t              \r\n\r\n\r\n\r\n// ------------------------------ Multiple Accounts ------------------------------\r\n\r\n\t\t\tsap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Multiple Accounts\" , tooltip : \"Multiple Accounts\" }),\r\n\t\t                     template: new sap.m.ComboBox({items: [\r\n\t\t\t\t\t\t              new sap.ui.core.ListItem({key: \"\", text: \"Single Account\"}),\r\n\t\t\t\t\t\t              new sap.ui.core.ListItem({key: \"1\", text: \"Distrib by Quantity\"}),\r\n\t\t\t\t\t\t              new sap.ui.core.ListItem({key: \"2\", text: \"Distrib by Percentage\"})\r\n        \t\t\t\t\t\t],selectedKey : \"{Distribkey}\"}),\r\n        \t\t\t\t\t\t\r\n\t\t                    \twidth : \"20%\"\r\n\t\t              })) ;\t\t   \t\t              \r\n\t\t              \r\n\t\t              \r\n\t\t              \r\n// ------------------------------ Multiple Accounts Edit ------------------------------\t\t        \r\n\r\n\t\t              \tsap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({ width: '6%',\r\n\t\t\t\t\t    template: new sap.m.Button({ style: sap.m.ButtonType.Default, icon: 'sap-icon://menu', press : function (oEvent) {\r\n\r\n\t\t\t\t\t    \t\tvar __selectedPONumber = sap.ui.getCore().AppContext.lastSelected_PONumber ;\r\n\t\t\t\t\t    \t\tvar __selectedPOItem = sap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS___MODEL.getProperty(\"/results/\"+oEvent.getSource().getParent().getIndex()+\"/PoItem\");\r\n\t\t\t\t\t    \t\tvar __selectedDistribAction = sap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS___MODEL.getProperty(\"/results/\"+oEvent.getSource().getParent().getIndex()+\"/Distribkey\");\r\n\t\t\t\t\t    \t\tvar __selectedQuantity = sap.ui.getCore().AppContext.CURRENT_PO__STRUCTURE___ITEMS___MODEL.getProperty(\"/results/\"+oEvent.getSource().getParent().getIndex()+\"/Quantity\");\r\n\t\t\t\t\t    \t\t\r\n\t\t\t\t\t    \t\tsap.ui.getCore().AppContext.dialogSubItemsTriggered( __selectedPONumber , __selectedPOItem , __selectedDistribAction , __selectedQuantity ) ;\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t    } }) }));\r\n\r\n\r\n// ------------------------------ Limit ------------------------------\t      \r\n\t      \r\n\t      sap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Limit\" , tooltip : \"Limit\"}),\r\n\t\t                     template : new sap.m.Input({ value : \"{Limit}\"}),\r\n\t\t                     width : \"6%\"\r\n\t      }));\r\n\t      \r\n\t      \r\n// ------------------------------ Last ------------------------------\t      \r\n\t      \r\n\t      sap.ui.getCore().AppContext.tablePOItems.addColumn(new sap.ui.table.Column({\r\n\t\t                     label : new sap.ui.commons.Label({ text : \"Last\" , tooltip : \"Last\"}),\r\n\t\t                     template : new sap.m.CheckBox({ value : \"{Limit}\"}),\r\n\t\t                     width : \"6%\"\r\n\t      }));\r\n\t\t              \r\n\t\r\n\t\tsap.ui.getCore().AppContext.tablePOItems.bindRows({path : \"/results\" });\r\n\t\t//sap.ui.getCore().AppContext.tablePOItems.setVisibleRowCount(sap.ui.getCore().AppContext.tablePOItems.getBinding().getLength()) ;\r\n\t\t\r\n\r\n\t\tsap.ui.getCore().AppContext.SumUPTotalPOValue();\r\n\t\t        \t\r\n\t}\r\n\r\n\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/ShowMessage.js": "sap.ui.getCore().AppContext.ShowMessage = function ( messageString ) {\r\n\talert(messageString);\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/FETCH_PoAddress.js": "sap.ui.getCore().AppContext.FETCH_PoAddress = function () {\r\n\r\n\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().AppContext.tablePOAdress.addColumn(new sap.ui.table.Column({\r\n\t\t\t\t\t                     label : new sap.ui.commons.Label({ text : \"Item\" , tooltip : \"Item\" }),\r\n\t\t\t\t\t                     template : sap.ui.getCore().AppContext.assistedInput_AccountAssignment ( function (rowIndex,selectedValue) {\r\n\t\t\t\t\t\t                     \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,1).setValue(selectedValue); }),\r\n\t\t\t\t\t                     width : \"11%\"\r\n\t\t\t\t\t              }));\r\n\t\t\t\t\t              \r\n\t\t\t\t\t              \t\t\t\tsap.ui.getCore().AppContext.tablePOAdress.addColumn(new sap.ui.table.Column({\r\n\t\t\t\t\t                     label : new sap.ui.commons.Label({ text : \"Name\" , tooltip : \"Name\" }),\r\n\t\t\t\t\t                     template : sap.ui.getCore().AppContext.assistedInput_AccountAssignment ( function (rowIndex,selectedValue) {\r\n\t\t\t\t\t\t                     \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,1).setValue(selectedValue); }),\r\n\t\t\t\t\t                     width : \"11%\"\r\n\t\t\t\t\t              }));\r\n\t\t\t\t\t              \r\n\t\t\t\t\t              \t\t\t\tsap.ui.getCore().AppContext.tablePOAdress.addColumn(new sap.ui.table.Column({\r\n\t\t\t\t\t                     label : new sap.ui.commons.Label({ text : \"Street\" , tooltip : \"Street\" }),\r\n\t\t\t\t\t                     template : sap.ui.getCore().AppContext.assistedInput_AccountAssignment ( function (rowIndex,selectedValue) {\r\n\t\t\t\t\t\t                     \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,1).setValue(selectedValue); }),\r\n\t\t\t\t\t                     width : \"11%\"\r\n\t\t\t\t\t              }));\r\n\t\t\t\t\t              \r\n\t\t\t\t\t              \t\t\t\tsap.ui.getCore().AppContext.tablePOAdress.addColumn(new sap.ui.table.Column({\r\n\t\t\t\t\t                     label : new sap.ui.commons.Label({ text : \"House No\" , tooltip : \"House No\" }),\r\n\t\t\t\t\t                     template : sap.ui.getCore().AppContext.assistedInput_AccountAssignment ( function (rowIndex,selectedValue) {\r\n\t\t\t\t\t\t                     \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,1).setValue(selectedValue); }),\r\n\t\t\t\t\t                     width : \"11%\"\r\n\t\t\t\t\t              }));\r\n\t\t\t\t\t              \r\n\t\t\t\t\t              \t\t\t\tsap.ui.getCore().AppContext.tablePOAdress.addColumn(new sap.ui.table.Column({\r\n\t\t\t\t\t                     label : new sap.ui.commons.Label({ text : \"Postal Code\" , tooltip : \"Postal Code\" }),\r\n\t\t\t\t\t                     template : sap.ui.getCore().AppContext.assistedInput_AccountAssignment ( function (rowIndex,selectedValue) {\r\n\t\t\t\t\t\t                     \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,1).setValue(selectedValue); }),\r\n\t\t\t\t\t                     width : \"11%\"\r\n\t\t\t\t\t              }));\r\n\t\t\t\t\t              \r\n\t\t\t\t\t              \t\t\t\tsap.ui.getCore().AppContext.tablePOAdress.addColumn(new sap.ui.table.Column({\r\n\t\t\t\t\t                     label : new sap.ui.commons.Label({ text : \"City\" , tooltip : \"City\" }),\r\n\t\t\t\t\t                     template : sap.ui.getCore().AppContext.assistedInput_AccountAssignment ( function (rowIndex,selectedValue) {\r\n\t\t\t\t\t\t                     \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,1).setValue(selectedValue); }),\r\n\t\t\t\t\t                     width : \"11%\"\r\n\t\t\t\t\t              }));\r\n\t\t\t\t\t              \r\n\t\t\t\t\t              \t\t\t\tsap.ui.getCore().AppContext.tablePOAdress.addColumn(new sap.ui.table.Column({\r\n\t\t\t\t\t                     label : new sap.ui.commons.Label({ text : \"Region\" , tooltip : \"Region\" }),\r\n\t\t\t\t\t                     template : sap.ui.getCore().AppContext.assistedInput_AccountAssignment ( function (rowIndex,selectedValue) {\r\n\t\t\t\t\t\t                     \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,1).setValue(selectedValue); }),\r\n\t\t\t\t\t                     width : \"11%\"\r\n\t\t\t\t\t              }));\r\n\t\t\t\t\t              \r\n\t\t\t\t\t              \t\t\t\tsap.ui.getCore().AppContext.tablePOAdress.addColumn(new sap.ui.table.Column({\r\n\t\t\t\t\t                     label : new sap.ui.commons.Label({ text : \"Country\" , tooltip : \"Country\" }),\r\n\t\t\t\t\t                     template : sap.ui.getCore().AppContext.assistedInput_AccountAssignment ( function (rowIndex,selectedValue) {\r\n\t\t\t\t\t\t                     \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,1).setValue(selectedValue); }),\r\n\t\t\t\t\t                     width : \"11%\"\r\n\t\t\t\t\t              }));\r\n\t\t\t\t\t              \r\n\t\t\t\t\t              \t\t\t\tsap.ui.getCore().AppContext.tablePOAdress.addColumn(new sap.ui.table.Column({\r\n\t\t\t\t\t                     label : new sap.ui.commons.Label({ text : \"Customer\" , tooltip : \"Customer\" }),\r\n\t\t\t\t\t                     template : sap.ui.getCore().AppContext.assistedInput_AccountAssignment ( function (rowIndex,selectedValue) {\r\n\t\t\t\t\t\t                     \tsap.ui.getCore().AppContext.GetItemsTableElementByIndex(rowIndex,1).setValue(selectedValue); }),\r\n\t\t\t\t\t                     width : \"11%\"\r\n\t\t\t\t\t              }));\r\n\t\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/SumUPTotalPOValue.js": "sap.ui.getCore().AppContext.SumUPTotalPOValue = function () {\r\n\t\r\n\tvar totalSUM = 0.0 ;\r\n\t\r\n\tfor ( var i = 0 ; i < sap.ui.getCore().AppContext.tablePOItems.getRows().length ; i ++ ) {\r\n\t\ttotalSUM += parseFloat(sap.ui.getCore().AppContext.GetItemsTableElementByIndex(i,13).getValue()) ;\r\n\t}\r\n\t\r\n\t\t\tsap.ui.getCore().AppContext.handle_to_HandlePOView.byId(\"inputTotalPOValue\").setValue(totalSUM);\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/JSON_Objects.js": "sap.ui.getCore().AppContext.CreateEmptyJSONStructure_HEADER = function () {\r\n\r\n\tvar empty_structure = {} ;\r\n\r\n\t\tempty_structure.AddrNo = \"\" ;\r\n\t\tempty_structure.CompCode    = \"\" ;\r\n\t\tempty_structure.CompCodetxt    = \"\" ;\r\n\t\tempty_structure.ContrArea    = \"\" ;\r\n\t\tempty_structure.CreatedBy    = \"\" ;\r\n\t\tempty_structure.Currency    = \"\" ;\r\n\t\tempty_structure.Customer    = \"\" ;\r\n\t\tempty_structure.CustomerName    = \"\" ;\r\n\t\tempty_structure.DocType    = \"\" ;\r\n\t\tempty_structure.DocTypetxt    = \"\" ;\r\n\t\tempty_structure.EMail = \"\" ;\r\n\t\tempty_structure.Pmnttrms = \"\" ;\r\n\t\tempty_structure.Pmnttrmstxt = \"\" ;\r\n\t\tempty_structure.PoItem = \"\" ;\r\n\t\tempty_structure.PoNumber = \"\" ;\r\n\t\tempty_structure.PreqName = \"\" ;\r\n\t\tempty_structure.PreqNametxt = \"\" ;\r\n\t\tempty_structure.PurGroup = \"\" ;\r\n\t\tempty_structure.PurGrouptxt = \"\" ;\r\n\t\tempty_structure.PurchOrg = \"\" ;\r\n\t\tempty_structure.PurchOrgtxt = \"\" ;\r\n\t\tempty_structure.TotalValue = \"\" ;\r\n\t\tempty_structure.Vendor = \"\" ;\r\n\t\tempty_structure.Vendorname = \"\" ;\r\n\t\tempty_structure.Input1 = \"\" ;\r\n\t\tempty_structure.Input2 = \"\" ;\r\n\t\tempty_structure.Input3 = \"\" ;\r\n\t\tempty_structure.Input4 = \"\" ;\r\n\t\tempty_structure.Input5 = \"\" ;\r\n\t\tempty_structure.Input6 = \"\" ;\r\n\t\tempty_structure.Input7 = \"\" ;\r\n\t\tempty_structure.Input8 = \"\" ;\r\n\t\tempty_structure.Input9 = \"\" ;\r\n\t\tempty_structure.Input10 = \"\" ;\r\n\t\tempty_structure.Input11 = \"\" ;\r\n\t\tempty_structure.Input12 = \"\" ;\r\n\t\tempty_structure.Input13 = \"\" ;\r\n\t\tempty_structure.Input14 = \"\" ;\r\n\t\tempty_structure.Input15 = \"\" ;\r\n\t\tempty_structure.Input16 = \"\" ;\r\n\t\tempty_structure.Input17 = \"\" ;\r\n\t\tempty_structure.Input18 = \"\" ;\r\n\t\tempty_structure.Input19 = \"\" ;\r\n\t\tempty_structure.Input20 = \"\" ;\r\n\t\t\r\n\treturn empty_structure = {} ;\r\n\t\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nsap.ui.getCore().AppContext.CreateEmptyJSONStructure_POHeader = function () {\r\n\t\r\n\tvar emptyStructure = {} ;\r\n\r\n\t\t\temptyStructure.AddrNo = \"\";\r\n\t\t\temptyStructure.CompCode = \"\";\r\n\t\t\temptyStructure.CompCodetxt = \"\";\r\n\t\t\temptyStructure.ContrArea = \"\";\r\n\t\t\temptyStructure.CreatedBy = \"\";\r\n\t\t\temptyStructure.Currency = \"\";\r\n\t\t\temptyStructure.Customer = \"\";\r\n\t\t\temptyStructure.CustomerName = \"\";\r\n\t\t\temptyStructure.DocType = \"\";\r\n\t\t\temptyStructure.DocTypetxt = \"\";\r\n\t\t\temptyStructure.EMail = \"\";\r\n\t\t\temptyStructure.Pmnttrms = \"\";\r\n\t\t\temptyStructure.Pmnttrmstxt = \"\";\r\n\t\t\temptyStructure.PoItem = \"\";\r\n\t\t\temptyStructure.PoNumber = \"\";\r\n\t\t\temptyStructure.PreqName = \"\";\r\n\t\t\temptyStructure.PreqNametxt = \"\";\r\n\t\t\temptyStructure.PurGroup = \"\";\r\n\t\t\temptyStructure.PurGrouptxt = \"\";\r\n\t\t\temptyStructure.PurchOrg = \"\";\r\n\t\t\temptyStructure.PurchOrgtxt = \"\";\r\n\t\t\temptyStructure.TotalValue = \"\";\r\n\t\t\temptyStructure.Vendor = \"\";\r\n\t\t\temptyStructure.Vendorname = \"\";\r\n\t\t\temptyStructure.Testrun = \"\" ;\r\n\t\t\temptyStructure.Action = \"\" ;\r\n\t\t\temptyStructure.Input1 = \"\" ;\r\n\t\t\temptyStructure.Input2 = \"\" ;\r\n\t\t\temptyStructure.Input3 = \"\" ;\r\n\t\t\temptyStructure.Input4 = \"\" ;\r\n\t\t\temptyStructure.Input5 = \"\" ;\r\n\t\t\temptyStructure.Input6 = \"\" ;\r\n\t\t\temptyStructure.Input7 = \"\" ;\r\n\t\t\temptyStructure.Numeric1 = \"\" ;\r\n\t\t\temptyStructure.Numeric2 = \"\" ;\r\n\t\t\temptyStructure.Numeric3 = \"\" ;\r\n\t\t\t\r\n\t\t\t// Mai sunt valori goale de adaugat aici in header ?\r\n\t\t\t\r\n/*\r\nSubmit\r\n\t- Action = \"S\"\r\n\t- TestRun = \"\"\r\nSimulate\r\n\t- Action = \"S\"\r\n\t- TestRun = \"X\"\r\n*/\r\n\t\t\t\r\n\t\t\t\r\n\t\treturn emptyStructure;\r\n};\r\n\r\n\r\nsap.ui.getCore().AppContext.CreateEmptyJSONStructure_POItems = function () {\r\n\r\n\tvar emptyStructure = {} ;\r\n\t\r\n\t\t\temptyStructure.PO_NUMBER = \"\";\r\n\t\t\temptyStructure.PO_ITEM = \"\";\r\n\t\t\temptyStructure.DELETE_IND = \"\";\r\n\t\t\temptyStructure.SHORT_TEXT = \"\";\r\n\t\t\temptyStructure.QUANTITY = \"\";\r\n\t\t\temptyStructure.ACCTASSCAT = \"\";\r\n\t\t\temptyStructure.ACCTASSCATTXT = \"\" ;\r\n\t\t\temptyStructure.ITEM_CAT = \"\";\r\n\t\t\temptyStructure.ITEM_CATTXT = \"\" ;\r\n\t\t\temptyStructure.MATL_GROUP = \"\" ;\r\n\t\t\temptyStructure.MATL_GROUPTXT = \"\";\r\n\t\t\temptyStructure.PLANT = \"\";\r\n\t\t\temptyStructure.PLANTTXT = \"\";\r\n\t\t\temptyStructure.PO_UNIT = \"\";\r\n\t\t\temptyStructure.PO_UNITTXT = \"\";\r\n\t\t\temptyStructure.DELIVERY_DATE = \"\";\r\n\t\t\temptyStructure.SCHED_LINE = \"\" ;\r\n\t\t\temptyStructure.NET_PRICE = \"\";\r\n\t\t\temptyStructure.PRICE_UNIT = \"\";\r\n\t\t\temptyStructure.CURRENCY = \"\" ;\r\n\t\t\temptyStructure.ORDERPR_UN = \"\";\r\n\t\t\temptyStructure.ITEM_VALUE = \"\";\r\n\t\t\temptyStructure.DISTRIB = \"\";\r\n\t\t\temptyStructure.COSTCENTER = \"\" ;\r\n\t\t\temptyStructure.ASSET_NO = \"\";\r\n\t\t\temptyStructure.ORDERID = \"\";\r\n\t\t\temptyStructure.GL_ACCOUNT = \"\";\r\n\t\t\temptyStructure.COSTCENTERTXT = \"\";\r\n\t\t\temptyStructure.ASSET_NOTXT = \"\";\r\n\t\t\temptyStructure.GL_ACCOUNTTXT = \"\";\r\n\t\t\temptyStructure.ORDERIDTXT = \"\";\r\n\t\t\temptyStructure.PREQ_NAME = \"\";\r\n\t\t\temptyStructure.PCKG_NO = \"\";\r\n\t\t\temptyStructure.LIMIT = \"\";\r\n\t\t\temptyStructure.EXP_VALUE = \"\";\r\n\t\t\temptyStructure.BASE_UOM = \"\";\r\n\t\t\temptyStructure.GR_PRICE = \"\";\r\n\t\t\temptyStructure.SERIAL_NO = \"\" ;\r\n\t\t\temptyStructure.NAME = \"\" ;\r\n\t\t\temptyStructure.CITY = \"\" ;\r\n\t\t\temptyStructure.REGION = \"\" ;\r\n\t\t\temptyStructure.POSTL_COD1 = \"\";\r\n\t\t\temptyStructure.STREET = \"\" ;\r\n\t\t\temptyStructure.STREET_NO = \"\";\r\n\t\t\temptyStructure.COUNTRY = \"\" ;\r\n\t\t\temptyStructure.CUSTOMER = \"\" ;\r\n\t\t\temptyStructure.NO_MORE_GR = \"\" ;\r\n\t\t\temptyStructure.FINAL_INV = \"\";\r\n\t\t\temptyStructure.PART_INV = \"\";\r\n\t\t\temptyStructure.GR_IND = \"\";\r\n\t\t\temptyStructure.GR_NON_VAL = \"\";\r\n\t\t\temptyStructure.IR_IND = \"\";\r\n\t\t\temptyStructure.FREE_ITEM = \"\" ;\r\n\t\t\temptyStructure.GR_BASEDIV = \"\";\r\n\t\t\temptyStructure.RET_ITEM = \"\" ;\r\n\t\t\temptyStructure.ZTRETURNSTR = \"\";\r\n\r\n\t\treturn emptyStructure ;\r\n\r\n} ;\r\n\r\nsap.ui.getCore().AppContext.CreateEmptyJSONStructure_POSubItems = function () {\r\n\r\n\tvar emptyStructure = {} ;\r\n\t\r\n\r\n\t\treturn emptyStructure ;\r\n\r\n} ;",
		"PurchaseOrdersPurchaseOrders/controller/js/FETCH_PoHeader.js": "sap.ui.getCore().AppContext.FETCH_PoHeader = function () {\r\n\t\r\n\t\t\r\n\r\n\t\t\t\t// if ( sap.ui.getCore().AppContext.lastSelected_POAction === \"PO_ACTION__NEW\" ) {\r\n\t\t\t\t// \tsap.ui.getCore().AppContext.CurrentMODEL_Header = new sap.ui.model.json.JSONModel();\r\n\t\t\t\t// \tsap.ui.getCore().AppContext.CurrentMODEL_Header.setData(sap.ui.getCore().AppContext.CreateEmptyJSONStructure_HEADER());\r\n\t\t\t\t// \tSetUpFields();\r\n\t\t\t\t// \tSetFieldsState();\r\n\t\t\t\t// }\r\n\t\t\t\t\r\n\t\t\t\t// else {\r\n\t\t\t\t\t\t\r\n\t\t\t\t// \t\t// If thre's no new PO creation ... fetching data for existing PO and populating fields\r\n\t\t\t\t// \t\tsap.ui.getCore().AppContext.modelPOItemsDetails.read(\"/ZtgetpoheaderSet\",\r\n\t\t\t\t// \t\t\t\t\t\t\t{\r\n\t\t\t\t// \t\t\t\t\t\t\t\tfilters : [ new sap.ui.model.Filter(\"PoNumber\", sap.ui.model.FilterOperator.EQ, sap.ui.getCore().AppContext.lastSelected_PONumber),\r\n\t\t\t\t// \t\t\t\t\t\t\t\t\t\t    new sap.ui.model.Filter(\"PoItem\", sap.ui.model.FilterOperator.EQ, \"00000\")\r\n\t\t\t\t// \t\t\t\t\t\t\t\t\t\t  ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t// \t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n\t\t\t\t// \t\t\t\t\t\t\t\t\t// Check here and destroy old model if existing\r\n\t\t\t\t// \t\t\t\t\t\t\t\t\tsap.ui.getCore().AppContext.CurrentMODEL_Header = new sap.ui.model.json.JSONModel();\r\n\t\t\t\t// \t\t\t\t\t\t\t\t\tsap.ui.getCore().AppContext.CurrentMODEL_Header.setData(oData.results[0]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t// \t\t\t\t\t\t\t\t\tSetUpFields();\r\n\t\t\t\t// \t\t\t\t\t\t\t\t\tSetFieldsState();\r\n\t\t\t\t// \t\t\t\t\t\t\t\t},\r\n\t\t\t\t// \t\t\t\t\t\t\t\terror : function(error) {\r\n\t\t\t\t// \t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t// \t\t\t\t\t\t\t\t}\r\n\t\t\t\t// \t\t\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// }\r\n\t\t\t\t\r\n\r\n// \t\t\t\tvar modelDocumentType = null;\r\n// \t\t\t\tvar modelCompanyCode = null;\r\n// \t\t\t\tvar modelPurchasingOrganization = null;\r\n// \t\t\t\tvar modelSupplier = null;\r\n// \t\t\t\tvar modelCurrency = null;\r\n// \t\t\t\tvar modelRequisitioner = null;\r\n// \t\t\t\tvar modelPaymentTerms = null ;\r\n\r\n\r\n// \t\t\t\tfunction Read_DocumentType ( has_filter , filter_field , filter_value ) {\r\n// \t\t\t\t\t// Reading Document Type\r\n// \t\t\t\t\t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetdoctypeSet\" ,\r\n// \t\t\t\t\t\t\t\t{\r\n// \t\t\t\t\t\t\t\t\tfilters : !(has_filter===undefined) ? [new sap.ui.model.Filter(filter_field, sap.ui.model.FilterOperator.EQ, filter_value)] : null ,\r\n// \t\t\t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n// \t\t\t\t\t\t\t\t\t\tmodelDocumentType = new sap.ui.model.json.JSONModel();\r\n// \t\t\t\t\t\t        \t\tmodelDocumentType.setData(oData);\r\n// \t\t\t\t\t\t        \t\t//mainViewHandle.byId(\"comboDocumentType\").setModel(modelDocumentType);\r\n// \t\t\t\t\t\t\t\t\t},\r\n// \t\t\t\t\t\t\t\t\terror : function(error) {\r\n// \t\t\t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n// \t\t\t\t\t\t\t\t\t}\r\n// \t\t\t\t\t\t\t\t});\r\n// \t\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n// \t\t\t\tfunction Read_CompanyCode ( has_filter , filter_field , filter_value ) {\r\n// \t\t\t\t\t// Reading Company Code\r\n// \t\t\t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetcompcodeSet\" ,\r\n// \t\t\t\t\t\t{\r\n// \t\t\t\t\t\t\tfilters : !(has_filter===undefined) ? [new sap.ui.model.Filter(filter_field, sap.ui.model.FilterOperator.EQ, filter_value)] : null ,\r\n// \t\t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n// \t\t\t\t\t\t\t\tmodelCompanyCode = new sap.ui.model.json.JSONModel();\r\n// \t\t\t\t        \t\tmodelCompanyCode.setData(oData);\r\n// \t\t\t\t        \t\tmainViewHandle.byId(\"comboCompanyCode\").setModel(modelCompanyCode);\r\n// \t\t\t\t\t\t\t},\r\n// \t\t\t\t\t\t\terror : function(error) {\r\n// \t\t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n// \t\t\t\t\t\t\t}\r\n// \t\t\t\t\t\t});\r\n// \t\t\t\t}\r\n\t\t\t\t\r\n// \t\t\t\tfunction Read_PurchasingOrganization ( has_filter , filter_field , filter_value ) {\r\n// \t\t\t\t\t// Purchasing Organization\r\n// \t\t\t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetpurchorgSet\" ,\r\n// \t\t\t\t\t{\r\n// \t\t\t\t\t\tfilters : !(has_filter===undefined) ? [new sap.ui.model.Filter(filter_field, sap.ui.model.FilterOperator.EQ, filter_value)] : null ,\r\n// \t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n// \t\t\t\t\t\t\tmodelPurchasingOrganization = new sap.ui.model.json.JSONModel();\r\n// \t\t\t        \t\tmodelPurchasingOrganization.setData(oData);\r\n// \t\t\t        \t\tmainViewHandle.byId(\"comboPurchasingOrganization\").setModel(modelPurchasingOrganization);\r\n// \t\t\t\t\t\t},\r\n// \t\t\t\t\t\terror : function(error) {\r\n// \t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n// \t\t\t\t\t\t}\r\n// \t\t\t\t\t});\r\n// \t\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n// \t\t\t\tfunction Read_Supplier ( has_filter , filter_field , filter_value ) {\r\n// \t\t\t\t\t// Supplier\r\n// \t\t\t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetvendorSet\" ,\r\n// \t\t\t\t\t{\r\n// \t\t\t\t\t\tfilters : !(has_filter===undefined) ? [new sap.ui.model.Filter(filter_field, sap.ui.model.FilterOperator.EQ, filter_value)] : null ,\r\n// \t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n// \t\t\t\t\t\t\tmodelSupplier = new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t\t\r\n// \t\t\t\t\t\t\tmodelCurrency.setSizeLimit(sap.ui.getCore().AppContext.MaxModelEntities);\r\n\t\t\t\t\t\t\t\r\n// \t\t\t        \t\tmodelSupplier.setData(oData);\r\n\t\t\t        \t\t\r\n// \t\t\t        \t\t//mainViewHandle.byId(\"comboSupplier\").setModel(modelSupplier);\r\n// \t\t\t        \t\t//\r\n// \t\t\t        \t//\tmainViewHandle.byId(\"comboPaymentTerms\").setModel(modelSupplier);\r\n// \t\t\t\t\t\t},\r\n// \t\t\t\t\t\terror : function(error) {\r\n// \t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n// \t\t\t\t\t\t}\r\n// \t\t\t\t\t});\r\n// \t\t\t\t}\r\n\t\t\t\r\n// \t\t\t\tfunction Read_PurchasingGroup ( has_filter , filter_field , filter_value ) {\r\n// \t\t\t\t\t// Purchasing Group\r\n// \t\t\t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetpurgroupSet\" ,\r\n// \t\t\t\t\t{\r\n// \t\t\t\t\t\tfilters : !(has_filter===undefined) ? [new sap.ui.model.Filter(filter_field, sap.ui.model.FilterOperator.EQ, filter_value)] : null ,\r\n// \t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n// \t\t\t\t\t\t\tvar modelPurchasingGroup = new sap.ui.model.json.JSONModel();\r\n// \t\t\t        \t\tmodelPurchasingGroup.setData(oData);\r\n// \t\t\t        \t//\tmainViewHandle.byId(\"comboPurchasingGroup\").setModel(modelPurchasingGroup);\r\n// \t\t\t\t\t\t},\r\n// \t\t\t\t\t\terror : function(error) {\r\n// \t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n// \t\t\t\t\t\t}\r\n// \t\t\t\t\t});\r\n\t\t\t\t\t\r\n// \t\t\t\t}\r\n\t\t\t\t\r\n// \t\t\t\tfunction Read_Currency ( has_filter , filter_field , filter_value ) {\r\n// \t\t\t\t\t// Currency\r\n// \t\t\t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetcurrencySet\" ,\r\n// \t\t\t\t\t{\r\n// \t\t\t\t\t\tfilters : !(has_filter===undefined) ? [new sap.ui.model.Filter(filter_field, sap.ui.model.FilterOperator.EQ, filter_value)] : null ,\r\n// \t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n// \t\t\t\t\t\t\tmodelCurrency = new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t\t\r\n// \t\t\t\t\t\t\tmodelCurrency.setSizeLimit(sap.ui.getCore().AppContext.MaxModelEntities);\r\n\t\t\t\t\t\t\t\r\n// \t\t\t        \t\tmodelCurrency.setData(oData);\r\n// \t\t\t        \t\t//mainViewHandle.byId(\"comboCurrency\").setModel(modelCurrency);\r\n// \t\t\t\t\t\t},\r\n// \t\t\t\t\t\terror : function(error) {\r\n// \t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n// \t\t\t\t\t\t}\r\n// \t\t\t\t\t});\r\n// \t\t\t\t}\r\n\t\t\t\r\n// \t\t\t\tfunction Read_Requisitioner ( has_filter , filter_field , filter_value ) {\r\n// \t\t\t\t\t// Requisitioner\r\n// \t\t\t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetpreqnameSet\" ,\r\n// \t\t\t\t\t{\r\n// \t\t\t\t\t\tfilters : !(has_filter===undefined) ? [new sap.ui.model.Filter(filter_field, sap.ui.model.FilterOperator.EQ, filter_value)] : null ,\r\n// \t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n// \t\t\t\t\t\t\tmodelRequisitioner = new sap.ui.model.json.JSONModel();\r\n// \t\t\t        \t\tmodelRequisitioner.setData(oData);\r\n// \t\t\t        \t\tmainViewHandle.byId(\"comboRequisitioner\").setModel(modelRequisitioner);\r\n// \t\t\t\t\t\t},\r\n// \t\t\t\t\t\terror : function(error) {\r\n// \t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n// \t\t\t\t\t\t}\r\n// \t\t\t\t\t});\r\n\t\t\t\t\t\r\n// \t\t\t\t}\r\n\t\t\t\t\r\n// \t\t\t\tfunction Read_PaymentTerms ( has_filter , filter_field , filter_value ) {\r\n// \t\t\t\t\t// Payment Terms\r\n// \t\t\t\t\tsap.ui.getCore().AppContext.modelTransfer.read(\"/ZtgetpaymentSet\" ,\r\n// \t\t\t\t\t{\r\n// \t\t\t\t\t\tfilters : !(has_filter===undefined) ? [new sap.ui.model.Filter(filter_field, sap.ui.model.FilterOperator.EQ, filter_value)] : null ,\r\n// \t\t\t\t\t\tsuccess : function(oData, oResponse) {\r\n// \t\t\t\t\t\t\tmodelPaymentTerms = new sap.ui.model.json.JSONModel();\r\n// \t\t\t        \t\tmodelPaymentTerms.setData(oData);\r\n// \t\t\t        \t\tmainViewHandle.byId(\"comboPaymentTerms\").setModel(modelPaymentTerms);\r\n// \t\t\t\t\t\t},\r\n// \t\t\t\t\t\terror : function(error) {\r\n// \t\t\t        \t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n// \t\t\t\t\t\t}\r\n// \t\t\t\t\t});\r\n\t\t\t\t\t\r\n// \t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\r\n// \t\t\t\tRead_DocumentType();\r\n// \t\t\t\tRead_CompanyCode();\r\n// \t\t\t\tRead_PurchasingOrganization();\r\n// \t\t\t\tRead_Supplier();\r\n// \t\t\t\tRead_PurchasingGroup();\r\n// \t\t\t\tRead_PaymentTerms(true,\"Spras\",\"EN\");\r\n// \t\t\t\tRead_Currency(true,\"Spras\",\"EN\");\r\n// \t\t\t\tRead_Requisitioner();\r\n\t\t\t\t\r\n\t\r\n// \t\t\t\t// // Change Handlers\r\n\t\t\t\t\r\n// \t\t\t\t// // Company Code Change Handler ---> Change in Purchasing Organization\r\n// \t\t\t\t// mainViewHandle.byId(\"comboCompanyCode\").attachChange(function( oEvent ) {\r\n// \t\t\t\t// \tvar selectedKey = oEvent.getSource().getSelectedItem().getKey();\r\n// \t\t\t\t// \tRead_PurchasingOrganization(true,\"CompCode\",selectedKey);\r\n// \t\t\t\t// \tmainViewHandle.byId(\"comboPurchasingOrganization\").setEnabled(true);\r\n// \t\t\t\t// \tmainViewHandle.byId(\"comboPurchasingOrganization\").setSelectedKey(null);\r\n// \t\t\t\t// });\r\n\t\t\t\t\r\n// \t\t\t\t// // Purchasing Organization Change ---> Change in Supplier\r\n// \t\t\t\t// mainViewHandle.byId(\"comboPurchasingOrganization\").attachChange(function( oEvent ) {\r\n// \t\t\t\t// \tvar selectedKey = oEvent.getSource().getSelectedItem().getKey();\r\n// \t\t\t\t// \tRead_Supplier(true,\"PurchOrg\",selectedKey);\r\n// \t\t\t\t// \tmainViewHandle.byId(\"comboSupplier\").setEnabled(true);\r\n// \t\t\t\t// \tmainViewHandle.byId(\"comboSupplier\").setSelectedKey(null);\r\n// \t\t\t\t// \tmainViewHandle.byId(\"comboCurrency\").setSelectedKey(null);\r\n// \t\t\t\t// \tmainViewHandle.byId(\"comboPaymentTerms\").setSelectedKey(null);\r\n// \t\t\t\t// });\r\n\t\t\t\t\r\n// \t\t\t\t// Supplier Change Handler\r\n// /*\t\t\t\tmainViewHandle.byId(\"comboSupplier\").attachChange(function( oEvent ) {\r\n\t\t\t\t\t\r\n// \t\t\t\t\t\tvar selectedKey = oEvent.getSource().getSelectedItem().getKey();\r\n// \t\t\t\t\t\tvar collection = modelSupplier.getData().results;\r\n\t\t\t\t\t\t\r\n// \t\t\t\t\t\tvar foundIndex = - 1 ;\r\n// \t\t\t\t\t\tfor ( var i = 0; i < collection.length; i++ ){\r\n// \t\t\t\t\t\t\tif (collection[i].Vendor === selectedKey) {\r\n// \t\t\t\t\t\t\t\tfoundIndex = i;\r\n// \t\t\t\t\t\t\t\tbreak;\r\n// \t\t\t\t\t\t\t}\r\n// \t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n// \t\t\t\t\t\tvar payment_term__1 = modelSupplier.getProperty(\"/results/\"+foundIndex+\"/Pmnttrmsname\" );\r\n// \t\t\t\t\t\tvar payment_term__2 = modelSupplier.getProperty(\"/results/\"+foundIndex+\"/Pmnttrms\" );\r\n\t\t\t\t\t\t\r\n// \t\t\t\t\t\tvar currency = modelSupplier.getProperty(\"/results/\"+foundIndex+\"/Currency\" );\r\n\t\t\t\t\t\t\r\n// \t\t\t\t\t\t//mainViewHandle.byId(\"inputPaymentTerms\").setValue(payment_term__1+\" ( \"+payment_term__2+\" )\");\r\n// \t\t\t\t\t\tmainViewHandle.byId(\"comboPaymentTerms\").setSelectedKey(payment_term__2);\r\n// \t\t\t\t\t\tmainViewHandle.byId(\"comboCurrency\").setSelectedKey(currency); ///// !!!!!!!!\r\n// \t\t\t\t\t\tmainViewHandle.byId(\"comboCurrency\").setEnabled(true);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n// \t\t\t\t\t});*/\r\n\t\t\t\t\t\r\n\treturn null ;\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/js/ShowToast.js": "sap.ui.getCore().AppContext.ShowToast = function ( messageString ) {\r\n\t\r\n\tsap.m.MessageToast.show(messageString,{ \r\n\t\t\t\tduration: 3000,\r\n\t\t\t\twidth : \"25%\",\r\n\t\t\t    onClose: null,\r\n\t\t\t    autoClose: true,\r\n\t\t\t    animationTimingFunction: \"ease\", \r\n\t\t\t    animationDuration: 1000,\r\n\t\t\t    closeOnBrowserNavigation: false\r\n\t});\r\n\r\n\t\r\n};",
		"PurchaseOrdersPurchaseOrders/controller/viewManagePOs.controller.js": "sap.ui.define([\r\n\t\"sap/ui/core/mvc/Controller\"\r\n], function(Controller) {\r\n\t\"use strict\";\r\n\r\n\treturn Controller.extend(\"PurchaseOrdersPurchaseOrders.controller.viewManagePOs\", {\r\n\r\n\t\t_onRouteMatched: function(oEvent) {\r\n\r\n\t\t\tvar thisView = this.getView();\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\r\n\t\t\tsap.ui.core.BusyIndicator.show();\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__get_po_list\").callFunction(\"/displayall\", {\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\turlParameters: {\r\n\t\t\t\t\tPO_ALL: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\r\n\t\t\t\t\tAppInstance.modelGetPOs_Content = new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\tAppInstance.modelGetPOs_Content.setData(oData);\r\n\t\t\t\t\tthisView.setModel(AppInstance.modelGetPOs_Content);\r\n\t\t\t\t\tif (oData.results.length === 0) {\r\n\r\n\t\t\t\t\t\tAppInstance.tablePOs.getColumns()[6].setFilterValue(\"\");\r\n\t\t\t\t\t\tAppInstance.tablePOs.getBinding(\"rows\").filter(null);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAppInstance.tablePOs.getColumns()[6].setFilterValue(oData.results[0].User);\r\n\t\t\t\t\t\tAppInstance.tablePOs.getBinding(\"rows\").filter([new sap.ui.model.Filter(\"CreatedBy\", sap.ui.model.FilterOperator.Contains,oData.results[0].User)]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/*Issue 42 table load issue. following row commented*/\r\n\t\t\t\t\t/*AppInstance.tablePOs.setVisibleRowCount(AppInstance.tablePOs.getBinding().getLength());*/\r\n\t\t\t\t\tsap.ui.core.BusyIndicator.hide();\r\n\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {\r\n\t\t\t\t\tsap.ui.getCore().AppContext.ShowMessage(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tAppInstance.tablePOs.attachSort(function() {\r\n\t\t\t\t// AppInstance.tablePOs.setVisibleRowCount(AppInstance.tablePOs.getBinding().getLength());\r\n\t\t\t});\r\n\r\n\t\t\t// for open text app\r\n\t\t\t/*if ((this.getOwnerComponent().getComponentData().startupParameters.PoId)) {\r\n\t\t\t\t\tconsole.log(\"in test section \");\r\n\t\t\t\t\tvar startupParams = this.getOwnerComponent().getComponentData().startupParameters;\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.lastSelected_POAction = \"PO_ACTION__EDIT\" ;\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.lastSelected_PONumber = startupParams.PoId;\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.lastSelected_POApprovalStatus = \"In Release\";\r\n\t\t\t\t\t//this.getOwnerComponent().AppInstance.modelGetPOs_Content.getProperty(\"StatusText\", oEvent.getSource().getBindingContext()) ;\r\n\t\t\t\t\tsap.ui.core.UIComponent.getRouterFor(this).navTo(\"targetHandlePO\", { Command : \"NAVIGATE\" });\r\n\t\t\t\t\t//oRouter.navTo(\"targetHandlePO\", { Command : \"NAVIGATE\" }, true);\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.openTextNav = true;\r\n\t\t\t\t}*/\r\n\r\n\t\t},\r\n\r\n\t\t//onAfterRendering : function () {\r\n\t\t/*\t\r\n\t\t\tvar handleToPanel = this.getView().byId(\"expandablePanelPOs\") ;\r\n\t\t\t\r\n\t\t\tvar height = $(window).height()*0.85 ;\r\n\t\t\thandleToPanel.setHeight(height+\"px\");\r\n\t\t\t\r\n\t\t\t$(window).resize(function () {\r\n\t\t\t\tvar _height = $(window).height()*0.85 ;\r\n\t\t\t\thandleToPanel.setHeight(_height+\"px\");\r\n\t\t\t}) ;\r\n\t\t*/\r\n\t\t//},\r\n\r\n\t\tonInit: function() {\r\n\t\t\tvar oRouter = sap.ui.core.UIComponent.getRouterFor(this);\r\n\t\t\t// following row commented on 3-Nov-2017 due to router issue\r\n\t\t\t// oRouter.getRoute(\"routeManagePOs\").attachMatched(this._onRouteMatched, this);\r\n\t\t\t// following row added on 3-Nov-2017 due to router issue\r\n\t\t\toRouter.getRoute(\"targetManagePOs\").attachMatched(this._onRouteMatched, this);\r\n\t\t\tthis.getOwnerComponent().AppInstance.tablePOs = this.getView().byId(\"tableManagePOs\");\r\n\r\n\t\t\t// code to get user language\r\n\t\t\tthis.getOwnerComponent().AppInstance.sCurrentLocale = sap.ui.getCore().getConfiguration().getLanguage();\r\n\t\t\tconsole.log(\"Language :\" + this.getOwnerComponent().AppInstance.sCurrentLocale);\r\n\t\t\t//this.getOwnerComponent().AppInstance.tablePOs = this.getView().byId(\"tableManagePOs\") ;\r\n\r\n\t\t\t/*if ((this.getOwnerComponent().getComponentData().startupParameters.PoId)) {\r\n\t\t\t\tconsole.log(\"in test section \");\r\n\t\t\t\tvar startupParams = this.getOwnerComponent().getComponentData().startupParameters;\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.lastSelected_POAction = \"PO_ACTION__EDIT\" ;\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.lastSelected_PONumber = startupParams.PoId;\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.lastSelected_POApprovalStatus = \"In Release\";\r\n\t\t\t\t//this.getOwnerComponent().AppInstance.modelGetPOs_Content.getProperty(\"StatusText\", oEvent.getSource().getBindingContext()) ;\r\n\t\t\t\t//sap.ui.core.UIComponent.getRouterFor(this).navTo(\"targetHandlePO\", { Command : \"NAVIGATE\" });\r\n\t\t\t\toRouter.navTo(\"targetHandlePO\", { Command : \"NAVIGATE\" }, true);\r\n\t\t\t}else{\r\n\t\t\t\toRouter.getRoute(\"targetManagePOs\").attachMatched(this._onRouteMatched, this);\t\r\n\t\t\t}*/\r\n\r\n\t\t},\r\n\r\n\t\tclearAllFilters: function(oEvent) {\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tvar thisView = this.getView();\r\n\t\t\tvar table = this.getOwnerComponent().AppInstance.tablePOs;\r\n\r\n\t\t\t/*Issue 42 table load issue. following 2 rows commented*/\r\n\t\t\t/*code change start 7 Nov 2017*/\r\n\t\t\t/*var AppInstance = this.getOwnerComponent().AppInstance ;\r\n\t\t\tAppInstance.tablePOs.setVisibleRowCount(AppInstance.modelGetPOs_Content.aBindings[0].oList.length);*/\r\n\t\t\t/*code change end*/\r\n\r\n\t\t\tvar iColCounter = 0;\r\n\t\t\ttable.clearSelection();\r\n\t\t\tvar iTotalCols = table.getColumns().length;\r\n\t\t\tvar oListBinding = table.getBinding();\r\n\t\t\tif (oListBinding) {\r\n\t\t\t\toListBinding.aSorters = null;\r\n\t\t\t\toListBinding.aFilters = null;\r\n\t\t\t}\r\n\t\t\ttable.getModel().refresh(true);\r\n\t\t\tfor (iColCounter = 0; iColCounter < iTotalCols; iColCounter++) {\r\n\t\t\t\ttable.getColumns()[iColCounter].setSorted(false);\r\n\t\t\t\ttable.getColumns()[iColCounter].setFilterValue(\"\");\r\n\t\t\t\ttable.getColumns()[iColCounter].setFiltered(false);\r\n\t\t\t}\r\n\t\t\tsap.ui.core.BusyIndicator.show();\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__get_po_list\").callFunction(\"/displayall\", {\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\turlParameters: {\r\n\t\t\t\t\tPO_ALL: \"X\"\r\n\t\t\t\t},\r\n\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\r\n\t\t\t\t\tAppInstance.modelGetPOs_Content = new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\tAppInstance.modelGetPOs_Content.setData(oData);\r\n\r\n\t\t\t\t\tthisView.setModel(AppInstance.modelGetPOs_Content);\r\n\t\t\t\t\tsap.ui.core.BusyIndicator.hide();\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Edit existing Purchase Order\r\n\t\trunNavigationToEditPO: function(oEvent) {\r\n\t\t\tsap.ui.core.BusyIndicator.show();\r\n\r\n\t\t\tthis.getOwnerComponent().AppInstance.lastSelected_POAction = \"PO_ACTION__EDIT\";\r\n\r\n\t\t\tthis.getOwnerComponent().AppInstance.lastSelected_PONumber =\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.modelGetPOs_Content.getProperty(\"PoNumber\", oEvent.getSource().getBindingContext());\r\n\t\t\t// following row added on 12-Dec-2017 due to approval status change enhacement\r\n\t\t\tthis.getOwnerComponent().AppInstance.lastSelected_POApprovalStatus =\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.modelGetPOs_Content.getProperty(\"StatusText\", oEvent.getSource().getBindingContext());\r\n\t\t\t// following row commented on 3-Nov-2017 due to router issue\r\n\t\t\t// sap.ui.core.UIComponent.getRouterFor(this).navTo(\"routeHandlePO\", { Command : \"NAVIGATE\" });\r\n\t\t\t// following row added on 3-Nov-2017 due to router issue\r\n\t\t\tsap.ui.core.UIComponent.getRouterFor(this).navTo(\"targetHandlePO\", {\r\n\t\t\t\tCommand: \"NAVIGATE\"\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Copy Purchase Order\r\n\t\trunNavigationToCopyPO: function(oEvent) {\r\n\t\t\tsap.ui.core.BusyIndicator.show();\r\n\t\t\tthis.getOwnerComponent().AppInstance.lastSelected_POAction = \"PO_ACTION__COPY\";\r\n\r\n\t\t\tvar selectedIndices = this.getOwnerComponent().AppInstance.tablePOs.getSelectedIndices();\r\n\t\t\tvar handle_to_this = this;\r\n\r\n\t\t\tif (selectedIndices.length < 1) {\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.displayMessage(\"No selection made in the POs table !\");\r\n\t\t\t\tsap.ui.core.BusyIndicator.hide();\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"model__get_po_list\").read(\"/ZgetpotableSet\", {\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tsap.ui.core.BusyIndicator.show();\r\n\r\n\t\t\t\t\t\thandle_to_this.getOwnerComponent().AppInstance.lastSelected_PONumber =\r\n\t\t\t\t\t\t\thandle_to_this.getOwnerComponent().AppInstance.tablePOs.getContextByIndex(selectedIndices[0]).getObject().PoNumber;\r\n\t\t\t\t\t\t// following row commented on 3-Nov-2017 due to router issue\t  \r\n\t\t\t\t\t\t// sap.ui.core.UIComponent.getRouterFor(handle_to_this).navTo(\"routeHandlePO\", { Command : \"NAVIGATE\" });\r\n\t\t\t\t\t\t// following row added on 3-Nov-2017 due to router issue\r\n\t\t\t\t\t\tsap.ui.core.UIComponent.getRouterFor(handle_to_this).navTo(\"targetHandlePO\", {\r\n\t\t\t\t\t\t\tCommand: \"NAVIGATE\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Create New Purchase Order\r\n\t\trunNavigationToNewPO: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.lastSelected_POAction = \"PO_ACTION__NEW\";\r\n\t\t\tthis.getOwnerComponent().AppInstance.lastSelected_PONumber = undefined;\r\n\t\t\t// following row commented on 3-Nov-2017 due to router issue\t \r\n\t\t\t// sap.ui.core.UIComponent.getRouterFor(this).navTo(\"routeHandlePO\", { Command : \"NAVIGATE\" });\r\n\t\t\t// following row added on 3-Nov-2017 due to router issue\r\n\t\t\tsap.ui.core.UIComponent.getRouterFor(this).navTo(\"targetHandlePO\", {\r\n\t\t\t\tCommand: \"NAVIGATE\"\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n});",
		"PurchaseOrdersPurchaseOrders/controller/viewApplicationMain.controller.js": "sap.ui.define([\r\n\t\"sap/ui/core/mvc/Controller\"\r\n], function(Controller) {\r\n\t\"use strict\";\r\n\r\n\treturn Controller.extend(\"PurchaseOrdersPurchaseOrders.controller.viewApplicationMain\", {\r\n\r\n\tonInit : function() {\r\n\t\t// this.getOwnerComponent().getRouter().navTo(\"routeManagePO\");\r\n\t}\r\n\r\n\t});\r\n});",
		"PurchaseOrdersPurchaseOrders/controller/viewHandlePO.controller.js": "sap.ui.define([\r\n\t\"sap/ui/core/mvc/Controller\",\r\n\t\"sap/ui/core/routing/History\",\r\n\t\"sap/ui/core/format/NumberFormat\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"sap/m/MessageBox\",\r\n\t\"jquery.sap.global\",\r\n\t\"sap/ui/model/Filter\"\r\n\r\n], function(Controller, History, NumberFormat, MessageToast, MessageBox, jQuery, Filter) {\r\n\t\"use strict\";\r\n\r\n\treturn Controller.extend(\"PurchaseOrdersPurchaseOrders.controller.viewHandlePO\", {\r\n\r\n\t\tonInit: function() {\r\n\r\n\t\t\tvar oRouter = sap.ui.core.UIComponent.getRouterFor(this);\r\n\t\t\t// following row commented on 3-Nov-2017 due to router issue\r\n\t\t\t// oRouter.getRoute(\"routeHandlePO\").attachMatched(this._onRouteMatched, this);\r\n\t\t\t// following row added on 3-Nov-2017 due to router issue\r\n\t\t\toRouter.getRoute(\"targetHandlePO\").attachMatched(this._onRouteMatched, this);\r\n\t\t\t//this.getOwnerComponent().addDependent(this);\r\n\r\n\t\t\tthis.AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tthis.getView().byId(\"tabBar_ItemData\").setSelectedKey(\"address\");\r\n\r\n\t\t},\r\n\r\n\t\tformatDate: function(oValue) {\r\n\r\n\t\t\tvar date = undefined;\r\n\r\n\t\t\tif (!oValue)\r\n\t\t\t\tdate = new Date(Date.now());\r\n\t\t\telse\r\n\t\t\t\tdate = new Date(oValue);\r\n\r\n\t\t\tvar day = date.getDate();\r\n\t\t\tvar month = date.getMonth();\r\n\t\t\tvar year = date.getFullYear();\r\n\r\n\t\t\treturn year + \"-\" + (month + 1) + \"-\" + day;\r\n\t\t},\r\n\r\n\t\tformatBoolean: function(oValue) {\r\n\t\t\treturn oValue;\r\n\t\t},\r\n\r\n\t\tformat_2DigitsDecimalNumber: function(inputValue) {\r\n\t\t\tif ((inputValue) && (inputValue !== \"\") && (inputValue !== undefined)) {\r\n\t\t\t\tinputValue = inputValue.toString();\r\n\t\t\t\tif (inputValue)\r\n\t\t\t\t\tif (inputValue.indexOf('.') != -1) {\r\n\t\t\t\t\t\tvar places = inputValue.length - inputValue.indexOf('.') - 1;\r\n\t\t\t\t\t\tif (places >= 2) {\r\n\t\t\t\t\t\t\tvar num = parseFloat(inputValue);\r\n\t\t\t\t\t\t\tif (num % 1 > 0)\r\n\t\t\t\t\t\t\t\tinputValue = num.toFixed(2);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tinputValue = parseInt(num);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn inputValue;\r\n\t\t},\r\n\r\n\t\tisFinalDeliveryEnabled: function(oSource) {\r\n\t\t\treturn ((this.getOwnerComponent().AppInstance.lastSelected_POAction === \"PO_ACTION__EDIT\") &&\r\n\t\t\t\t!(oSource.results[0].DeleteInd === \"L\"));\r\n\t\t},\r\n\r\n\t\tnavBackToPOsList: function() {\r\n\t\t\t// following one line added due to addition of the plant field in header 4 Dec 2017\r\n\t\t\tthis.getView().byId(\"plantHeader\").setValue(\"\");\r\n\t\t\t// following row added on 12-Dec-2017 due to approval status change enhacement\r\n\t\t\tif (this.getOwnerComponent().AppInstance.lastSelected_POApprovalStatus === \"Rejected\") {\r\n\t\t\t\tthis.getView().byId(\"labelRevRej\").setVisible(false);\r\n\t\t\t\tthis.getView().byId(\"boxRrevRej\").setSelected(false);\r\n\t\t\t\tthis.getView().byId(\"boxRrevRej\").setVisible(false);\r\n\t\t\t}\r\n\t\t\t//below two lines are added as part of Information Button on header durin only edit, hence reverting to false\r\n\r\n\t\t\tthis.getView().byId(\"idInformationLabel\").setVisible(false);\r\n\t\t\tthis.getView().byId(\"idInformationButton\").setVisible(false);\r\n\t\t\tthis.getView().byId(\"idInformationButton\").setEnabled(false);\r\n\r\n\t\t\tthis.getOwnerComponent().AppInstance.navBack();\r\n\r\n\t\t},\r\n\r\n\t\tdeliveryDateChange: function(oEvent) {\r\n\t\t\t// Getting the new selected date value\r\n\t\t\tvar selectedDateStringValue = oEvent.getParameters().value;\r\n\t\t\t// The format specified in the XML definition of the m:DatePicker is : valueFormat=\"MM.dd.yyyy\"\r\n\t\t\t// so this is the pattern used to parse the new selected value\r\n\t\t\tvar newDate = new Date(\r\n\t\t\t\tselectedDateStringValue.substr(6, 4), // ...  year\r\n\t\t\t\t(parseInt(selectedDateStringValue.substr(0, 2), 10) - 1).toString(), // ... month\r\n\t\t\t\tselectedDateStringValue.substr(3, 2) // ... day\r\n\t\t\t);\r\n\t\t\t// Setting the new date and refreshing model\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/DeliveryDate\", newDate);\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t},\r\n\r\n\t\tformatIsDocumentTypeFieldEnabled: function() {\r\n\t\t\tif (this.getOwnerComponent().AppInstance.lastSelected_POAction === \"PO_ACTION__NEW\")\r\n\t\t\t\treturn true;\r\n\t\t\telse\r\n\t\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\tformatIsEmptyHeaderValue: function(value_key, value_text) {\r\n\t\t\tif (!value_key) {\r\n\t\t\t\tif (!value_text)\r\n\t\t\t\t\treturn \"\";\r\n\t\t\t\telse\r\n\t\t\t\t\treturn value_text;\r\n\t\t\t} else {\r\n\t\t\t\tif (!value_text)\r\n\t\t\t\t\treturn \"(\" + value_key + \")\";\r\n\t\t\t\telse\r\n\t\t\t\t\treturn value_text + \" (\" + value_key + \")\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfn_IsSubItemsColumnEnabled_Quantity: function(oEvent) {\r\n\t\t\treturn this.getOwnerComponent().AppInstance.selectedDistributionIsQuantity;\r\n\t\t},\r\n\r\n\t\tfn_IsSubItemsColumnEnabled_Percentage: function(oEvent) {\r\n\t\t\treturn this.getOwnerComponent().AppInstance.selectedDistributionIsPercentage;\r\n\t\t},\r\n\r\n\t\tfn_IsSubItemsColumnEnabled_CostCenter: function(oEvent) {\r\n\t\t\treturn (this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + this.getOwnerComponent().AppInstance.lastSelected_ItemRowIndex +\r\n\t\t\t\t\"/Acctasscat\") === \"K\");\r\n\t\t},\r\n\r\n\t\tfn_IsSubItemsColumnEnabled_Order: function(oEvent) {\r\n\t\t\treturn (this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + this.getOwnerComponent().AppInstance.lastSelected_ItemRowIndex +\r\n\t\t\t\t\"/Acctasscat\") === \"F\");\r\n\t\t},\r\n\r\n\t\tonInformationPress: function() {\r\n\t\t\tif (this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData().results[0].Ztstring_exp === \"\") {\r\n\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\"No Data Found.\", {\r\n\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.INFORMATION,\r\n\t\t\t\t\t\ttitle: \"Item Text Details\",\r\n\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\tonClose: function(oAction) {\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tvar informationData = JSON.parse(this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData().results[0].Ztstring_exp);\r\n\r\n\t\t\t\tvar informationModel = new sap.ui.model.json.JSONModel();\r\n\t\t\t\tinformationModel.setData(informationData);\r\n\t\t\t\tthis.getView().setModel(informationModel, \"information\");\r\n\r\n\t\t\t\tvar oView = this.getView();\r\n\t\t\t\tvar oDialog = oView.byId(\"informationDialog\");\r\n\t\t\t\t// create dialog lazily\r\n\t\t\t\tif (!oDialog) {\r\n\t\t\t\t\t// create dialog via fragment factory\r\n\t\t\t\t\toDialog = sap.ui.xmlfragment(oView.getId(), \"PurchaseOrdersPurchaseOrders.view.fragmentInformation\", this);\r\n\t\t\t\t\toView.addDependent(oDialog);\r\n\t\t\t\t}\r\n\t\t\t\toDialog.open();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonInformationCloseDialog: function() {\r\n\t\t\tthis.getView().byId(\"informationDialog\").close();\r\n\t\t},\r\n\t\t// ****************************************************************************************************\r\n\t\t// Entering the Screen\r\n\t\t// ****************************************************************************************************\r\n\r\n\t\t_onRouteMatched: function(oEvent) {\r\n\t\t\t//alert(\"Matched called on loading\");\r\n\t\t\tvar oArgs = oEvent.getParameter(\"arguments\").Command;\r\n\t\t\tvar AppInstance = this.AppInstance;\r\n\t\t\tvar _this = this;\r\n\r\n\t\t\tthis.getView().setModel(new sap.ui.model.json.JSONModel({}));\r\n\t\t\tthis.readAttachment();\r\n\t\t\t// Attachment data read\r\n\t\t\t// var po = this.getView().byId(\"inputPONumber\").getValue();\r\n\r\n\t\t\t// --- Setting up scroll bar for page and bottom position for fixed footer\r\n\t\t\tfunction func_CheckIfPageElement(x) {\r\n\t\t\t\tif (x.hasOwnProperty('sId'))\r\n\t\t\t\t\tif (x['sId'].startsWith(\"__page\"))\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tvar handleToThisPageElement = sap.ui.getCore().byId(this.getView().getContent().filter(func_CheckIfPageElement)[0]['sId']);\r\n\t\t\thandleToThisPageElement.addStyleClass(\"scrollablePage\");\r\n\t\t\thandleToThisPageElement.getFooter().addStyleClass(\"sapMPageFixedBottomFooter\");\r\n\t\t\t// --- Done setting up\r\n\r\n\t\t\tAppInstance.lastSelected_ForNewItem_UM_PoUnit = \"\";\r\n\t\t\tAppInstance.lastSelected_ForNewItem_UM_PoUnitText = \"\";\r\n\t\t\tAppInstance.lastSelected_ForNewItem_Plant_Plant = \"\";\r\n\t\t\tAppInstance.lastSelected_ForNewItem_Plant_PlantText = \"\";\r\n\r\n\t\t\t//if (!AppInstance.handle_to_HandlePOView )\r\n\t\t\tAppInstance.handle_to_HandlePOView = this.getView();\r\n\r\n\t\t\tAppInstance.handle_to_HandlePOView.byId(\"inputDocumentType\").setValueState(sap.ui.core.ValueState.None);\r\n\t\t\tAppInstance.handle_to_HandlePOView.byId(\"inputCompanyCode\").setValueState(sap.ui.core.ValueState.None);\r\n\t\t\tAppInstance.handle_to_HandlePOView.byId(\"inputPurchasingOrganization\").setValueState(sap.ui.core.ValueState.None);\r\n\t\t\tAppInstance.handle_to_HandlePOView.byId(\"inputSupplier\").setValueState(sap.ui.core.ValueState.None);\r\n\t\t\tAppInstance.handle_to_HandlePOView.byId(\"inputPurchasingGroup\").setValueState(sap.ui.core.ValueState.None);\r\n\t\t\tAppInstance.handle_to_HandlePOView.byId(\"inputCurrency\").setValueState(sap.ui.core.ValueState.None);\r\n\t\t\tAppInstance.handle_to_HandlePOView.byId(\"inputRequisitioner\").setValueState(sap.ui.core.ValueState.None);\r\n\t\t\tAppInstance.handle_to_HandlePOView.byId(\"inputEmail\").setValueState(sap.ui.core.ValueState.None);\r\n\r\n\t\t\t//if ( !AppInstance.tablePOItems ) {\r\n\t\t\tAppInstance.tablePOItems = sap.ui.core.Fragment.byId(this.getView().createId(\"fragmentItemData_GeneralData\"), \"tablePOItems\");\r\n\r\n\t\t\t//}\r\n\r\n\t\t\t//if ( !AppInstance.tablePOAddress ) {\r\n\t\t\tAppInstance.tablePOAddress = sap.ui.core.Fragment.byId(this.getView().createId(\"fragmentItemData_DeliveryAddress\"),\r\n\t\t\t\t\"tablePOAddress\");\r\n\r\n\t\t\t//Added as part of new tab enhancement dec 2018\r\n\t\t\tAppInstance.tablePOText = sap.ui.core.Fragment.byId(this.getView().createId(\"fragmentItemData_ItemText\"),\r\n\t\t\t\t\"tablePOText\");\r\n\r\n\t\t\t//}\r\n\r\n\t\t\tAppInstance.tablePOSubItems = this.getView().byId(\"tablePOSubItems\");\r\n\r\n\t\t\tAppInstance.tableItemHistory = this.getView().byId(\"tableItemHistory\");\r\n\r\n\t\t\tif (!AppInstance.tablePOSubItems) {\r\n\t\t\t\tAppInstance.tablePOSubItems = sap.ui.core.Fragment.byId(this.getView().createId(\"fragmentDistributionManagement\"),\r\n\t\t\t\t\t\"tablePOSubItems\");\r\n\t\t\t}\r\n\r\n\t\t\t//if ( !AppInstance.dialogSubItems ) {\r\n\t\t\tAppInstance.dialogSubItems = AppInstance.handle_to_HandlePOView.byId(\"dialogSubItems\");\r\n\t\t\tthis.getView().addDependent(AppInstance.dialogSubItems);\r\n\t\t\t//}\r\n\r\n\t\t\t//if ( !AppInstance.dialogItemHistory ) {\r\n\t\t\tAppInstance.dialogItemHistory = AppInstance.handle_to_HandlePOView.byId(\"dialogItemHistory\");\r\n\t\t\tthis.getView().addDependent(AppInstance.dialogItemHistory);\r\n\t\t\t//}\r\n\r\n\t\t\t// Header Input - PO Number\r\n\t\t\tAppInstance.__inputPONumber = AppInstance.handle_to_HandlePOView.byId(\"inputPONumber\");\r\n\r\n\t\t\t// Header Input - Document Type\r\n\t\t\tAppInstance.__inputDocumentType = AppInstance.handle_to_HandlePOView.byId(\"inputDocumentType\");\r\n\t\t\tAppInstance.__inputDocumentType.setBusyIndicatorDelay(0);\r\n\t\t\tAppInstance.__inputDocumentType.onsaptabnext = AppInstance.__inputDocumentType.onsapenter;\r\n\r\n\t\t\t// Header Input - Company Code\r\n\t\t\tAppInstance.__inputCompanyCode = AppInstance.handle_to_HandlePOView.byId(\"inputCompanyCode\");\r\n\t\t\tAppInstance.__inputCompanyCode.setBusyIndicatorDelay(0);\r\n\t\t\tAppInstance.__inputCompanyCode.onsaptabnext = AppInstance.__inputCompanyCode.onsapenter;\r\n\r\n\t\t\t// Header Input - Purchasing Organisation\r\n\t\t\tAppInstance.__inputPurchasingOrganization = AppInstance.handle_to_HandlePOView.byId(\"inputPurchasingOrganization\");\r\n\t\t\tAppInstance.__inputPurchasingOrganization.setBusyIndicatorDelay(0);\r\n\t\t\tAppInstance.__inputPurchasingOrganization.onsaptabnext = AppInstance.__inputPurchasingOrganization.onsapenter;\r\n\r\n\t\t\t// Header Input - Supplier\r\n\t\t\tAppInstance.__inputSupplier = AppInstance.handle_to_HandlePOView.byId(\"inputSupplier\");\r\n\t\t\tAppInstance.__inputSupplier.setBusyIndicatorDelay(0);\r\n\t\t\tAppInstance.__inputSupplier.onsaptabnext = AppInstance.__inputSupplier.onsapenter;\r\n\r\n\t\t\t// Header Input - Purchasing Group\r\n\t\t\tAppInstance.__inputPurchasingGroup = AppInstance.handle_to_HandlePOView.byId(\"inputPurchasingGroup\");\r\n\t\t\tAppInstance.__inputPurchasingGroup.setBusyIndicatorDelay(0);\r\n\t\t\tAppInstance.__inputPurchasingGroup.onsaptabnext = AppInstance.__inputPurchasingGroup.onsapenter;\r\n\r\n\t\t\t// Header Input - Total PO Value\r\n\t\t\tAppInstance.__inputTotalPOValue = AppInstance.handle_to_HandlePOView.byId(\"inputTotalPOValue\");\r\n\r\n\t\t\t// Header Input - Payment Terms\r\n\t\t\tAppInstance.__inputPaymentTerms = AppInstance.handle_to_HandlePOView.byId(\"inputPaymentTerms\");\r\n\r\n\t\t\t// Header Input - Currency\r\n\t\t\tAppInstance.__inputCurrency = AppInstance.handle_to_HandlePOView.byId(\"inputCurrency\");\r\n\t\t\tAppInstance.__inputCurrency.setBusyIndicatorDelay(0);\r\n\t\t\tAppInstance.__inputCurrency.onsaptabnext = AppInstance.__inputCurrency.onsapenter;\r\n\r\n\t\t\t// Header Input - Requisitioner\r\n\t\t\tAppInstance.__inputRequisitioner = AppInstance.handle_to_HandlePOView.byId(\"inputRequisitioner\");\r\n\t\t\tAppInstance.__inputRequisitioner.setBusyIndicatorDelay(0);\r\n\t\t\tAppInstance.__inputRequisitioner.onsaptabnext = AppInstance.__inputRequisitioner.onsapenter;\r\n\r\n\t\t\t// Header Input - EMail\r\n\t\t\tAppInstance.__inputEmail = AppInstance.handle_to_HandlePOView.byId(\"inputEmail\");\r\n\r\n\t\t\t// Header Input - Approver\r\n\t\t\tAppInstance.__inputApprover = AppInstance.handle_to_HandlePOView.byId(\"inputApprover\");\r\n\r\n\t\t\t/*following line changed due to addition of Header Text field in header 7 feb 2018*/\r\n\t\t\tAppInstance.__inputHeaderText = AppInstance.handle_to_HandlePOView.byId(\"HeaderText\");\r\n\r\n\t\t\t// below three lines added as part of back navigation\r\n\t\t\t_this.getView().byId(\"idInformationLabel\").setVisible(false);\r\n\t\t\t_this.getView().byId(\"idInformationButton\").setVisible(false);\r\n\t\t\t_this.getView().byId(\"idInformationButton\").setEnabled(false);\r\n\r\n\t\t\tif (AppInstance.lastSelected_POAction === \"PO_ACTION__NEW\") {\r\n\r\n\t\t\t\tAppInstance.lastSelected_PONumber = \"\";\r\n\r\n\t\t\t\tAppInstance.CurrentMODEL_Header = new sap.ui.model.json.JSONModel();\r\n\t\t\t\tAppInstance.CurrentMODEL_Header.setData(JSON.parse(\r\n\t\t\t\t\t'{\"PoNumber\":\"\",\"PoItem\":\"00000\",\"Vendor\":\"\",\"Vendorname\":\"\",\"DocType\":\"\",\"DocTypetxt\":\"\",\"CompCode\":\"\",\"CompCodetxt\":\"\",\"PurchOrg\":\"\",\"PurchOrgtxt\":\"\",\"Currency\":\"\",\"Pmnttrms\":\"\",\"Pmnttrmstxt\":\"\",\"PurGroup\":\"\",\"PurGrouptxt\":\"\",\"PreqName\":\"\",\"PreqNametxt\":\"\",\"Customer\":\"\",\"CustomerName\":\"\",\"AddrNo\":\"\",\"EMail\":\"\",\"CreatedBy\":\"\",\"TotalValue\":\"0.00\",\"ContrArea\":\"\",\"Input1\":\"\",\"Input2\":\"\",\"Input3\":\"\",\"Input4\":\"\",\"Input5\":\"\",\"Input6\":\"\",\"Input7\":\"\",\"Input8\":\"\",\"Input9\":\"\",\"Input10\":\"\",\"Input11\":\"\",\"Input12\":\"\",\"Input13\":\"\",\"Input14\":\"\",\"Input15\":\"\",\"Input16\":\"\",\"Input17\":\"\",\"Input18\":\"\",\"Input19\":\"\",\"Input20\":\"\",\"Ktopl\":\"\"}'\r\n\t\t\t\t));\r\n\r\n\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/PoNumber\", \"\");\r\n\r\n\t\t\t\t_this.fn_After_RequisitionerSelected();\r\n\r\n\t\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\r\n\t\t\t\t//$.get(\"model/PoItem.json\").complete(function(content){\r\n\t\t\t\tAppInstance.CurrentMODEL_Items = new sap.ui.model.json.JSONModel();\r\n\r\n\t\t\t\t//var newItemJSON = content.responseJSON ;\r\n\r\n\t\t\t\tvar selectedDocumentType = AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\");\r\n\r\n\t\t\t\tvar _row_AccAss = \"\";\r\n\t\t\t\tvar _row_AccAssTxt = \"\";\r\n\t\t\t\tvar _row_ItemCat = \"\";\r\n\t\t\t\tvar _row_ItemCatTxt = \"\";\r\n\r\n\t\t\t\tvar _row_AU = AppInstance.lastSelected_ForNewItem_UM_PoUnit;\r\n\t\t\t\tvar _row_AUTxt = AppInstance.lastSelected_ForNewItem_UM_PoUnitText;\r\n\t\t\t\tvar _row_Plant = AppInstance.lastSelected_ForNewItem_Plant_Plant;\r\n\t\t\t\tvar _row_PlantTxt = AppInstance.lastSelected_ForNewItem_Plant_PlantText;\r\n\r\n\t\t\t\tvar _rowQuantity = \"\";\r\n\r\n\t\t\t\tif (selectedDocumentType === \"NB2\") {\r\n\t\t\t\t\t_row_AccAss = \"K\";\r\n\t\t\t\t\t_row_AccAssTxt = \"Cost Center\";\r\n\t\t\t\t\t_row_ItemCat = \"\";\r\n\t\t\t\t\t_row_ItemCatTxt = \"Standard\";\r\n\t\t\t\t} else\r\n\t\t\t\tif (selectedDocumentType === \"NB2D\") {\r\n\t\t\t\t\t_row_AccAss = \"K\";\r\n\t\t\t\t\t_row_AccAssTxt = \"Cost Center\";\r\n\t\t\t\t\t_row_ItemCat = \"D\";\r\n\t\t\t\t\t_row_ItemCatTxt = \"Service\";\r\n\t\t\t\t\t// Issue 50 language translation\r\n\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Issue 50 end\r\n\t\t\t\t\t_rowQuantity = \"1\";\r\n\t\t\t\t} else\r\n\t\t\t\tif (selectedDocumentType === \"NB3\") {\r\n\t\t\t\t\t_row_AccAss = \"L\";\r\n\t\t\t\t\t_row_AccAssTxt = \"Limit\";\r\n\t\t\t\t\t_row_ItemCat = \"B\";\r\n\t\t\t\t\t_row_ItemCatTxt = \"Limit\";\r\n\t\t\t\t\t// Issue 50 language translation\r\n\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Issue 50 end\r\n\t\t\t\t\t_rowQuantity = \"1\";\r\n\t\t\t\t}\r\n\t\t\t\t// issue 48 start\r\n\t\t\t\telse\r\n\t\t\t\tif (selectedDocumentType === \"NB2Z\") {\r\n\t\t\t\t\t_row_AccAss = \"Z\";\r\n\t\t\t\t\t_row_AccAssTxt = \"Int Order\";\r\n\t\t\t\t\t_row_ItemCat = \"\";\r\n\t\t\t\t\t_row_ItemCatTxt = \"Standard\";\r\n\t\t\t\t} else\r\n\t\t\t\tif (selectedDocumentType === \"N2ZD\") {\r\n\t\t\t\t\t_row_AccAss = \"Z\";\r\n\t\t\t\t\t_row_AccAssTxt = \"Int Order\";\r\n\t\t\t\t\t_row_ItemCat = \"D\";\r\n\t\t\t\t\t_row_ItemCatTxt = \"Service\";\r\n\t\t\t\t\t// Issue 50 language translation\r\n\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Issue 50 end\r\n\t\t\t\t\t_rowQuantity = \"1\";\r\n\t\t\t\t} else\r\n\t\t\t\tif (selectedDocumentType === \"NB3Z\") {\r\n\t\t\t\t\t_row_AccAss = \"L\";\r\n\t\t\t\t\t_row_AccAssTxt = \"Limit\";\r\n\t\t\t\t\t_row_ItemCat = \"B\";\r\n\t\t\t\t\t_row_ItemCatTxt = \"Limit\";\r\n\t\t\t\t\t// Issue 50 language translation\r\n\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Issue 50 end\r\n\t\t\t\t\t_rowQuantity = \"1\";\r\n\t\t\t\t} else\r\n\t\t\t\tif (selectedDocumentType === \"NB2F\") {\r\n\t\t\t\t\t_row_AccAss = \"F\";\r\n\t\t\t\t\t_row_AccAssTxt = \"Order\";\r\n\t\t\t\t\t_row_ItemCat = \"\";\r\n\t\t\t\t\t_row_ItemCatTxt = \"Standard\";\r\n\t\t\t\t}\r\n\t\t\t\t//Issue 48 end\r\n\t\t\t\t;\r\n\r\n\t\t\t\t// following line commented for adding the plant field in header 4 Dec 2017\r\n\t\t\t\t//var newItemJSON = JSON.parse('{\"results\":[{\"PoNumber\":\"\",\"PoItem\":\"\",\"DeleteInd\":\"\",\"ShortText\":\"\",\"Quantity\":\"\",\"Acctasscat\":\"'+_row_AccAss+'\",\"Acctasscattxt\":\"'+_row_AccAssTxt+'\",\"ItemCat\":\"'+_row_ItemCat+'\",\"ItemCattxt\":\"'+_row_ItemCatTxt+'\",\"MatlGroup\":\"\",\"MatlGrouptxt\":\"\",\"Plant\":\"\",\"Planttxt\":\"\",\"PoUnit\":\"\",\"PoUnittxt\":\"\",\"DeliveryDate\":\"\",\"SchedLine\":\"\",\"NetPrice\":\"\",\"PriceUnit\":\"\",\"Currency\":\"\",\"OrderprUn\":\"\",\"ItemValue\":\"\",\"Distrib\":\"\",\"Costcenter\":\"\",\"AssetNo\":\"\",\"Orderid\":\"\",\"GlAccount\":\"\",\"Costcentertxt\":\"\",\"AssetNotxt\":\"\",\"GlAccounttxt\":\"\",\"Orderidtxt\":\"\",\"PreqName\":\"\",\"PckgNo\":\"\",\"Limit\":\"\",\"ExpValue\":\"\",\"BaseUom\":\"\",\"GrPrice\":\"\",\"SerialNo\":\"\",\"Distribkey\":\"\",\"Input1\":\"\",\"Input2\":\"\",\"Input3\":\"\",\"Input4\":\"\",\"Input5\":\"\",\"Input6\":\"\",\"Input7\":\"\",\"Input8\":\"\",\"Input9\":\"\",\"Input10\":\"\",\"Input11\":\"\",\"Input12\":\"\",\"Input13\":\"\",\"Input14\":\"\",\"Input15\":\"\",\"Input16\":\"\",\"Input17\":\"\",\"Input18\":\"\",\"Input19\":\"\",\"Input20\":\"\",\"Finalinvoice\":\"\",\"Delivcompleted\":\"\",\"Rejection\":\"\",\"Zaddress\":\"\",\"Zaccount\":\"\"}]}').results[0];\r\n\t\t\t\t//Issue 49 start , Fill Input1 field with doc type\r\n\t\t\t\t/*var newItemJSON = JSON.parse('{\"results\":[{\"PoNumber\":\"\",\"PoItem\":\"\",\"DeleteInd\":\"\",\"ShortText\":\"\",\"Quantity\":\"'+_rowQuantity+'\",\"Acctasscat\":\"'+_row_AccAss+'\",\"Acctasscattxt\":\"'+_row_AccAssTxt+'\",\"ItemCat\":\"'+_row_ItemCat+'\",\"ItemCattxt\":\"'+_row_ItemCatTxt+'\",\"MatlGroup\":\"\",\"MatlGrouptxt\":\"\",\"Plant\":\"'+_row_Plant+'\",\"Planttxt\":\"'+_row_PlantTxt+'\",\"PoUnit\":\"'+_row_AU+'\",\"PoUnittxt\":\"'+_row_AUTxt+'\",\"DeliveryDate\":\"\",\"SchedLine\":\"\",\"NetPrice\":\"\",\"PriceUnit\":\"\",\"Currency\":\"\",\"OrderprUn\":\"\",\"ItemValue\":\"\",\"Distrib\":\"\",\"Costcenter\":\"\",\"AssetNo\":\"\",\"Orderid\":\"\",\"GlAccount\":\"\",\"Costcentertxt\":\"\",\"AssetNotxt\":\"\",\"GlAccounttxt\":\"\",\"Orderidtxt\":\"\",\"PreqName\":\"\",\"PckgNo\":\"\",\"Limit\":\"\",\"ExpValue\":\"\",\"BaseUom\":\"\",\"GrPrice\":\"\",\"SerialNo\":\"\",\"Distribkey\":\"\",\"Input1\":\"\",\"Input2\":\"\",\"Input3\":\"\",\"Input4\":\"\",\"Input5\":\"\",\"Input6\":\"\",\"Input7\":\"\",\"Input8\":\"\",\"Input9\":\"\",\"Input10\":\"\",\"Input11\":\"\",\"Input12\":\"\",\"Input13\":\"\",\"Input14\":\"\",\"Input15\":\"\",\"Input16\":\"\",\"Input17\":\"\",\"Input18\":\"\",\"Input19\":\"\",\"Input20\":\"\",\"Finalinvoice\":\"\",\"Delivcompleted\":\"\",\"Rejection\":\"\",\"Zaddress\":\"\",\"Zaccount\":\"\"}]}');*/\r\n\t\t\t\tvar newItemJSON = JSON.parse('{\"results\":[{\"PoNumber\":\"\",\"PoItem\":\"\",\"DeleteInd\":\"\",\"ShortText\":\"\",\"Quantity\":\"' + _rowQuantity +\r\n\t\t\t\t\t'\",\"Acctasscat\":\"' + _row_AccAss + '\",\"Acctasscattxt\":\"' + _row_AccAssTxt + '\",\"ItemCat\":\"' + _row_ItemCat + '\",\"ItemCattxt\":\"' +\r\n\t\t\t\t\t_row_ItemCatTxt + '\",\"MatlGroup\":\"\",\"MatlGrouptxt\":\"\",\"Plant\":\"' + _row_Plant + '\",\"Planttxt\":\"' + _row_PlantTxt +\r\n\t\t\t\t\t'\",\"PoUnit\":\"' + _row_AU + '\",\"PoUnittxt\":\"' + _row_AUTxt +\r\n\t\t\t\t\t'\",\"DeliveryDate\":\"\",\"SchedLine\":\"\",\"NetPrice\":\"\",\"PriceUnit\":\"\",\"Currency\":\"\",\"OrderprUn\":\"\",\"ItemValue\":\"\",\"Distrib\":\"\",\"Costcenter\":\"\",\"AssetNo\":\"\",\"Orderid\":\"\",\"GlAccount\":\"\",\"Costcentertxt\":\"\",\"AssetNotxt\":\"\",\"GlAccounttxt\":\"\",\"Orderidtxt\":\"\",\"PreqName\":\"\",\"PckgNo\":\"\",\"Limit\":\"\",\"ExpValue\":\"\",\"BaseUom\":\"\",\"GrPrice\":\"\",\"SerialNo\":\"\",\"Distribkey\":\"\",\"Input1\":\"' +\r\n\t\t\t\t\tselectedDocumentType +\r\n\t\t\t\t\t'\",\"itemTextTab\":\"\",\"Input2\":\"\",\"Input3\":\"\",\"Input4\":\"\",\"Input5\":\"\",\"Input6\":\"\",\"Input7\":\"\",\"Input8\":\"\",\"Input9\":\"\",\"Input10\":\"\",\"Input11\":\"\",\"Input12\":\"\",\"Input13\":\"\",\"Input14\":\"\",\"Input15\":\"\",\"Input16\":\"\",\"Input17\":\"\",\"Input18\":\"\",\"Input19\":\"\",\"Input20\":\"\",\"Finalinvoice\":\"\",\"Delivcompleted\":\"\",\"Rejection\":\"\",\"Zaddress\":\"\",\"Zaccount\":\"\", \"valueStateFlag\":false}]}'\r\n\t\t\t\t);\r\n\t\t\t\t//Issue 49 End\r\n\r\n\t\t\t\t//console.log('{\"results\":[{\"PoNumber\":\"\",\"PoItem\":\"\",\"DeleteInd\":\"\",\"ShortText\":\"\",\"Quantity\":\"\",\"Acctasscat\":\"'+_row_AccAss+'\",\"Acctasscattxt\":\"'+_row_AccAssTxt+'\",\"ItemCat\":\"'+_row_ItemCat+'\",\"ItemCattxt\":\"'+_row_ItemCatTxt+'\",\"MatlGroup\":\"\",\"MatlGrouptxt\":\"\",\"Plant\":\"'+_row_Plant+'\",\"Planttxt\":\"'+_row_PlantTxt+'\",\"PoUnit\":\"'+_row_AU+'\",\"PoUnittxt\":\"'+_row_AUTxt+'\",\"DeliveryDate\":\"\",\"SchedLine\":\"\",\"NetPrice\":\"\",\"PriceUnit\":\"\",\"Currency\":\"\",\"OrderprUn\":\"\",\"ItemValue\":\"\",\"Distrib\":\"\",\"Costcenter\":\"\",\"AssetNo\":\"\",\"Orderid\":\"\",\"GlAccount\":\"\",\"Costcentertxt\":\"\",\"AssetNotxt\":\"\",\"GlAccounttxt\":\"\",\"Orderidtxt\":\"\",\"PreqName\":\"\",\"PckgNo\":\"\",\"Limit\":\"\",\"ExpValue\":\"\",\"BaseUom\":\"\",\"GrPrice\":\"\",\"SerialNo\":\"\",\"Distribkey\":\"\",\"Input1\":\"\",\"Input2\":\"\",\"Input3\":\"\",\"Input4\":\"\",\"Input5\":\"\",\"Input6\":\"\",\"Input7\":\"\",\"Input8\":\"\",\"Input9\":\"\",\"Input10\":\"\",\"Input11\":\"\",\"Input12\":\"\",\"Input13\":\"\",\"Input14\":\"\",\"Input15\":\"\",\"Input16\":\"\",\"Input17\":\"\",\"Input18\":\"\",\"Input19\":\"\",\"Input20\":\"\",\"Finalinvoice\":\"\",\"Delivcompleted\":\"\",\"Rejection\":\"\",\"Zaddress\":\"\",\"Zaccount\":\"\"}]}');\r\n\t\t\t\tconsole.log(newItemJSON);\r\n\t\t\t\t//if (AppInstance.CurrentMODEL_Header.getProperty(\"/Currency\")) ;\r\n\r\n\t\t\t\tvar lastLine = \"00010\";\r\n\t\t\t\tnewItemJSON.results[0].PoItem = lastLine;\r\n\t\t\t\tnewItemJSON.results[0].DeleteInd = \"\";\r\n\t\t\t\tnewItemJSON.results[0].PriceUnit = 1;\r\n\t\t\t\tnewItemJSON.results[0].DeliveryDate = new Date();\r\n\t\t\t\tnewItemJSON.results[0].Currency = AppInstance.CurrentMODEL_Header.getProperty(\"/Currency\");\r\n\t\t\t\t//Issue 48 23 July 2018\r\n\t\t\t\t/*newItemJSON.results[0].Zaccount = \"{\\\"ITEMS\\\" : [{ \\\"PO_NUMBER\\\":\\\"\\\",\\\"PO_ITEM\\\":\\\"\"+lastLine+\"\\\",\\\"SERIAL_NO\\\":\\\"01\\\",\\\"QUANTITY\\\":\\\"\"+_rowQuantity+\"\\\",\\\"DISTR_PERC\\\":\\\"0.0\\\",\\\"NET_VALUE\\\":\\\"\\\",\\\"COSTCENTER\\\":\\\"\\\",\\\"ASSET_NO\\\":\\\"\\\",\\\"ORDERID\\\":\\\"\\\",\\\"GL_ACCOUNT\\\":\\\"\\\",\\\"COSTCENTERTXT\\\":\\\"\\\",\\\"ASSET_NOTXT\\\":\\\"\\\",\\\"GL_ACCOUNTTXT\\\":\\\"\\\",\\\"ORDERIDTXT\\\":\\\"\\\",\\\"ACTION\\\":\\\"\\\",\\\"INPUT1\\\":\\\"\\\",\\\"INPUT2\\\":\\\"\\\",\\\"INPUT3\\\":\\\"\\\",\\\"INPUT4\\\":\\\"\\\",\\\"INPUT5\\\":\\\"\\\",\\\"INPUT6\\\":\\\"\\\",\\\"INPUT7\\\":\\\"\\\",\\\"INPUT8\\\":\\\"\\\",\\\"INPUT9\\\":\\\"\\\",\\\"INPUT10\\\":\\\"\\\",\\\"NUMERIC1\\\":\\\"0.0\\\",\\\"NUMERIC2\\\":\\\"0.0\\\",\\\"NUMERIC3\\\":\\\"0.0\\\" }]}\";*/\r\n\t\t\t\tnewItemJSON.results[0].Zaccount = \"{\\\"ITEMS\\\" : [{ \\\"PO_NUMBER\\\":\\\"\\\",\\\"PO_ITEM\\\":\\\"\" + lastLine +\r\n\t\t\t\t\t\"\\\",\\\"SERIAL_NO\\\":\\\"01\\\",\\\"QUANTITY\\\":\\\"\" + _rowQuantity +\r\n\t\t\t\t\t\"\\\",\\\"DISTR_PERC\\\":\\\"0.0\\\",\\\"NET_VALUE\\\":\\\"\\\",\\\"COSTCENTER\\\":\\\"\\\",\\\"ASSET_NO\\\":\\\"\\\",\\\"ORDERID\\\":\\\"\\\",\\\"GL_ACCOUNT\\\":\\\"\\\",\\\"COSTCENTERTXT\\\":\\\"\\\",\\\"ASSET_NOTXT\\\":\\\"\\\",\\\"GL_ACCOUNTTXT\\\":\\\"\\\",\\\"ORDERIDTXT\\\":\\\"\\\",\\\"ACTION\\\":\\\"\\\",\\\"INPUT1\\\":\\\"\" +\r\n\t\t\t\t\tselectedDocumentType +\r\n\t\t\t\t\t\"\\\",\\\"INPUT2\\\":\\\"\\\",\\\"INPUT3\\\":\\\"\\\",\\\"INPUT4\\\":\\\"\\\",\\\"INPUT5\\\":\\\"\\\",\\\"INPUT6\\\":\\\"\\\",\\\"INPUT7\\\":\\\"\\\",\\\"INPUT8\\\":\\\"\\\",\\\"INPUT9\\\":\\\"\\\",\\\"INPUT10\\\":\\\"\\\",\\\"NUMERIC1\\\":\\\"0.0\\\",\\\"NUMERIC2\\\":\\\"0.0\\\",\\\"NUMERIC3\\\":\\\"0.0\\\" }]}\";\r\n\t\t\t\tnewItemJSON.results[0].Zaddress = \"{\\\"ITEMS\\\" : [] }\";\r\n\t\t\t\tnewItemJSON.results[0].Distribkey = \"0\";\r\n\t\t\t\tnewItemJSON.results[0].itemTextTab = \"\";\r\n\t\t\t\tAppInstance.CurrentMODEL_Items.setData(newItemJSON);\r\n\r\n\t\t\t\t/*beware of qunatity\r\n\t\t\t\tvar zAccStr = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/0/Zaccount\") ;\r\n\t\t\t\tvar tempJSON = JSON.parse(zAccStr);\r\n\t\t\t\ttempJSON.ITEMS[0].QUANTITY = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/0/Quantity\") ;\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/0/Zaccount\",JSON.stringify(tempJSON));\r\n\t\t\t\t****/\r\n\r\n\t\t\t\tAppInstance.tablePOItems.setModel(AppInstance.CurrentMODEL_Items);\r\n\t\t\t\tAppInstance.tablePOItems.bindRows({\r\n\t\t\t\t\tpath: \"/results\"\r\n\t\t\t\t});\r\n\t\t\t\tAppInstance.tablePOItems.setVisibleRowCount(AppInstance.CurrentMODEL_Items.getData().results.length);\r\n\r\n\t\t\t\tAppInstance.tablePOAddress.setModel(AppInstance.CurrentMODEL_Items);\r\n\t\t\t\tAppInstance.tablePOAddress.bindRows({\r\n\t\t\t\t\tpath: \"/results\"\r\n\t\t\t\t});\r\n\t\t\t\tAppInstance.tablePOAddress.setVisibleRowCount(AppInstance.CurrentMODEL_Items.getData().results.length);\r\n\r\n\t\t\t\t//added below two lines as part of new tab enhancment dec 2018\r\n\t\t\t\tAppInstance.tablePOText.setModel(AppInstance.CurrentMODEL_Items);\r\n\t\t\t\tAppInstance.tablePOText.bindRows({\r\n\t\t\t\t\tpath: \"/results\"\r\n\t\t\t\t});\r\n\t\t\t\tAppInstance.tablePOText.setVisibleRowCount(AppInstance.CurrentMODEL_Items.getData().results.length);\r\n\r\n\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\t\tvar allRows = AppInstance.tablePOItems.getRows();\r\n\t\t\t\tvar lastRow = allRows[allRows.length - 1];\r\n\t\t\t\tlastRow.getCells().forEach(function(cell) {\r\n\t\t\t\t\tif (cell.getMetadata().getName() === \"sap.m.Input\") {\r\n\t\t\t\t\t\tcell.onsaptabnext = cell.onsapenter;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tAppInstance.handle_to_HandlePOView.byId(\"buttonSubmit\").setEnabled(true);\r\n\t\t\t\tAppInstance.handle_to_HandlePOView.byId(\"buttonUpdate\").setEnabled(false);\r\n\t\t\t\t//AppInstance.handle_to_HandlePOView.byId(\"buttonSimulate\").setEnabled(true);\r\n\r\n\t\t\t\tsap.ui.core.BusyIndicator.hide();\r\n\r\n\t\t\t\t//}) ;\r\n\r\n\t\t\t\tAppInstance.__inputPONumber.setModel(AppInstance.CurrentMODEL_Header);\r\n\t\t\t\tAppInstance.__inputDocumentType.setModel(AppInstance.CurrentMODEL_Header);\r\n\t\t\t\tAppInstance.__inputCompanyCode.setModel(AppInstance.CurrentMODEL_Header);\r\n\t\t\t\tAppInstance.__inputPurchasingOrganization.setModel(AppInstance.CurrentMODEL_Header);\r\n\t\t\t\tAppInstance.__inputSupplier.setModel(AppInstance.CurrentMODEL_Header);\r\n\t\t\t\tAppInstance.__inputPurchasingGroup.setModel(AppInstance.CurrentMODEL_Header);\r\n\t\t\t\tAppInstance.__inputTotalPOValue.setModel(AppInstance.CurrentMODEL_Header);\r\n\t\t\t\tAppInstance.__inputPaymentTerms.setModel(AppInstance.CurrentMODEL_Header);\r\n\t\t\t\tAppInstance.__inputCurrency.setModel(AppInstance.CurrentMODEL_Header);\r\n\t\t\t\tAppInstance.__inputRequisitioner.setModel(AppInstance.CurrentMODEL_Header);\r\n\t\t\t\tAppInstance.__inputEmail.setModel(AppInstance.CurrentMODEL_Header);\r\n\t\t\t\tAppInstance.__inputApprover.setModel(AppInstance.CurrentMODEL_Header);\r\n\t\t\t\t/*following line changed due to addition of Header Text field in header 7 feb 2018*/\r\n\t\t\t\tAppInstance.__inputHeaderText.setModel(AppInstance.CurrentMODEL_Header);\r\n\r\n\t\t\t\t// following row added on 12-Dec-2017 due to approval status change enhacement\r\n\t\t\t\t_this.getView().byId(\"labelRevRej\").setVisible(false);\r\n\t\t\t\t_this.getView().byId(\"boxRrevRej\").setVisible(false);\r\n\t\t\t\t// following one line added due to addition of the plant field in header 4 Dec 2017\r\n\t\t\t\tthis.getView().byId(\"plantHeader\").setValue(\"\");\r\n\r\n\t\t\t} else {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\t// for adding the plant field in header 4 Dec 2017\r\n\t\t\t\tvar plModel = new sap.ui.model.json.JSONModel();\r\n\r\n\t\t\t\t// Getting Header\r\n\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"model__transfer_po\").read(\"/ZtgetpoheaderSet\", {\r\n\t\t\t\t\tfilters: [new sap.ui.model.Filter(\"PoNumber\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.lastSelected_PONumber),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"PoItem\", sap.ui.model.FilterOperator.EQ, \"00000\")\r\n\t\t\t\t\t],\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tconsole.log(\"Continutul transferului de HEADER : \");\r\n\t\t\t\t\t\tconsole.log(oData);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header = new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setData(oData.results[0]);\r\n\r\n\t\t\t\t\t\tif ((_this.getOwnerComponent().AppInstance.lastSelected_POAction === \"PO_ACTION__COPY\") ||\r\n\t\t\t\t\t\t\t(_this.getOwnerComponent().AppInstance.lastSelected_POAction === \"PO_ACTION__EDIT\")) {\r\n\t\t\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\") === \"\") {\r\n\t\t\t\t\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\t\t\"Unable to load PO with incomplete data\", {\r\n\t\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.INFORMATION,\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"Message\",\r\n\t\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.navBack();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/TotalValue\", 0.00);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.refresh(true);\r\n\r\n\t\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.lastSelected_POAction === \"PO_ACTION__COPY\") {\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/PoNumber\", \"\");\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Input2\", \"\");\r\n\r\n\t\t\t\t\t\t\t//below line added to hide the  header comments section\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Ztstring_exp\", \"\");\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.handle_to_HandlePOView.byId(\"idInformationLabel\").setVisible(false);\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.handle_to_HandlePOView.byId(\"idInformationButton\").setVisible(false);\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.handle_to_HandlePOView.byId(\"idInformationButton\").setEnabled(false);\r\n\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.handle_to_HandlePOView.byId(\"buttonSubmit\").setEnabled(true);\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.handle_to_HandlePOView.byId(\"buttonUpdate\").setEnabled(false);\r\n\t\t\t\t\t\t\t//_this.getOwnerComponent().AppInstance.handle_to_HandlePOView.byId(\"buttonSimulate\").setEnabled(false);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/PoNumber\", _this.getOwnerComponent().AppInstance.lastSelected_PONumber);\r\n\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.handle_to_HandlePOView.byId(\"buttonSubmit\").setEnabled(false);\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.handle_to_HandlePOView.byId(\"buttonUpdate\").setEnabled(true);\r\n\t\t\t\t\t\t\t//_this.getOwnerComponent().AppInstance.handle_to_HandlePOView.byId(\"buttonSimulate\").setEnabled(false);\r\n\r\n\t\t\t\t\t\t\t//below two lines added as part of Information button in header during edit PO\r\n\t\t\t\t\t\t\t/*\t\t\t\t\t\t\t_this.getView().byId(\"idInformationLabel\").setVisible(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.getView().byId(\"idInformationButton\").setVisible(true);*/\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.__inputPONumber.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Header);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.__inputDocumentType.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Header);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.__inputCompanyCode.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Header);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.__inputPurchasingOrganization.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Header);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.__inputSupplier.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Header);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.__inputPurchasingGroup.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Header);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.__inputTotalPOValue.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Header);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.__inputPaymentTerms.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Header);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.__inputCurrency.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Header);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.__inputRequisitioner.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Header);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.__inputEmail.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Header);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.__inputApprover.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Header);\r\n\t\t\t\t\t\t/*following line changed due to addition of Header Text field in header 7 feb 2018*/\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.__inputHeaderText.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Header);\r\n\r\n\t\t\t\t\t\t// ***\r\n\t\t\t\t\t\t// Looking for the plant coresponding to the specified Company Code\r\n\t\t\t\t\t\t_this.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetplantSet\", {\r\n\r\n\t\t\t\t\t\t\tfilters: [new sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header\r\n\t\t\t\t\t\t\t\t.getProperty(\"/CompCode\"))],\r\n\t\t\t\t\t\t\tsuccess: function(_oData, _oResponse) {\r\n\t\t\t\t\t\t\t\tif (oData.results.length > 0) {\r\n\t\t\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.lastSelected_ForNewItem_Plant_Plant = _oData.results[0].Plant;\r\n\t\t\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.lastSelected_ForNewItem_Plant_PlantText = _oData.results[0].Name1;\r\n\t\t\t\t\t\t\t\t\t/*following line added due to addition of the plant field in header 4 Dec 2017\r\n\t\t\t\t\t\t\t\t\t_this.getView().byId(\"plantHeader\").setValue(_oData.results[0].Plant);\r\n\t\t\t\t\t\t\t\t\twe do not need to set value of plangt in header section here , it causes the selection of first filed from plant f4 help\r\n\t\t\t\t\t\t\t\t\t_this.getView().byId(\"plantHeader\").setValue(_this.getOwnerComponent().AppInstance.lastSelected_ForNewItem_Plant_Plant);*/\r\n\t\t\t\t\t\t\t\t} else {}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(_error) {}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// ***\t                            \t\r\n\r\n\t\t\t\t\t\t// ***\r\n\t\t\t\t\t\t// Looking for default unit of measure coresponding to the specified Purchasing Organization\r\n\t\t\t\t\t\t/*if (_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\") === \"NB2\")*/\r\n\t\t\t\t\t\t/*Issue 48 If condition changed 1 Aug 2018*/\r\n\t\t\t\t\t\t/*If doc type is NB2F of NB2Z or N2ZD you should call it still with NB2. NB2F and NB2Z and N2ZD exists only in Fiori but not in SAP. \r\n\t\t\t\t\t\tAlso when we post we need to pass NB2 and not NB2F or NB2Z or N2ZD.*/\r\n\t\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\") === \"NB2\" ||\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\") === \"NB2Z\" ||\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\") === \"NB2F\" ||\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\") === \"N2ZD\")\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/Ztgetpounit1Set\", {\r\n\r\n\t\t\t\t\t\t\t\tfilters: [\r\n\t\t\t\t\t\t\t\t\tnew sap.ui.model.Filter(\"PurOrg\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header\r\n\t\t\t\t\t\t\t\t\t\t.getProperty(\"/PurchOrg\")),\r\n\t\t\t\t\t\t\t\t\t/*new sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\"))*/\r\n\t\t\t\t\t\t\t\t\tnew sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.EQ, \"NB2\")\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tsuccess: function(__oData, __oResponse) {\r\n\t\t\t\t\t\t\t\t\tif (oData.results.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.lastSelected_ForNewItem_UM_PoUnit = __oData.results[0].PoUnit;\r\n\t\t\t\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.lastSelected_ForNewItem_UM_PoUnitText = __oData.results[0].Msehl;\r\n\t\t\t\t\t\t\t\t\t} else {}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\terror: function(__error) {}\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// ***\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(error) {\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.displayMessage(error);\r\n\t\t\t\t\t\tsap.ui.core.BusyIndicator.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Getting Items\t\t\t\t\t\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"model__transfer_po\").read(\"/ZtgetpoitemNewSet\", {\r\n\t\t\t\t\tfilters: [new sap.ui.model.Filter(\"PoNumber\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.lastSelected_PONumber)],\r\n\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tconsole.log(\"Continutul transferului de ITEMS : \");\r\n\t\t\t\t\t\tconsole.log(oData);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items = new sap.ui.model.json.JSONModel();\r\n\r\n\t\t\t\t\t\tvar itemsData = oData;\r\n\t\t\t\t\t\titemsData.results.forEach(function(_item_element) {\r\n\t\t\t\t\t\t\tif ((_item_element.ItemCat === \"D\") || (_item_element.ItemCat === \"9\")) {\r\n\t\t\t\t\t\t\t\t_item_element.Limit = _item_element.NetPrice;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setData(itemsData);\r\n\r\n\t\t\t\t\t\t//Below code is added on 20/12/2018 for Issue 72, To add new tab in items area and display item text\r\n\t\t\t\t\t\t// Item text is extracted from the field Ztstring_str from first line on element.\r\n\r\n\t\t\t\t\t\tfor (var c = 0; c < itemsData.results.length; c++)\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + c + \"/itemTextTab\", \"\"); //setting the property to empty if no po item text exists\r\n\r\n\t\t\t\t\t\tif (itemsData.results.length > 0) {\r\n\t\t\t\t\t\t\tvar itemTextData = [];\r\n\t\t\t\t\t\t\tif (itemsData.results[0].Ztstring_str !== \"\") {\r\n\t\t\t\t\t\t\t\tvar itemDataJson = JSON.parse(itemsData.results[0].Ztstring_str);\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < itemsData.results.length; i++) {\r\n\t\t\t\t\t\t\t\t\titemTextData[i] = \"\";\r\n\t\t\t\t\t\t\t\t\tfor (var j = 0; j < itemDataJson.ITEMS.length; j++) {\r\n\t\t\t\t\t\t\t\t\t\tif (itemDataJson.ITEMS[j].POITEM === itemsData.results[i].PoItem) {\r\n\t\t\t\t\t\t\t\t\t\t\titemTextData[i] += itemDataJson.ITEMS[j].ITEMTEXT;\r\n\t\t\t\t\t\t\t\t\t\t\titemTextData[i] += \"\\n\";\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + i + \"/itemTextTab\", itemTextData[i]);\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"itemTextData during first load  :\" + itemTextData[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/0/itemTextTab\", display[0]);\r\n\t\t\t\t\t\t//\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/1/itemTextTab\", display[1]);\r\n\r\n\t\t\t\t\t\t//end of issue 72\r\n\r\n\t\t\t\t\t\tAppInstance.lastFetchedItemIndexInCurrentPO_POItem = oData.results[oData.results.length - 1].PoItem;\r\n\r\n\t\t\t\t\t\tvar newPOValue = 0.0;\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData().results.forEach(function(element) {\r\n\t\t\t\t\t\t\tnewPOValue = newPOValue + parseFloat(element.ItemValue);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/TotalValue\", newPOValue.toFixed(2));\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.refresh(true);\r\n\r\n\t\t\t\t\t\t// Getting first item to extract the default Plant Address\r\n\t\t\t\t\t\tvar firstItem = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData().results[0];\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.defaultPlantAddres_Name = firstItem.Name;\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.defaultPlantAddres_Street = firstItem.Street;\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.defaultPlantAddres_StreetNo = firstItem.StreetNo;\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.defaultPlantAddres_PostlCod1 = firstItem.PostlCod1;\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.defaultPlantAddres_City = firstItem.City;\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.defaultPlantAddres_Region = firstItem.Region;\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.defaultPlantAddres_Country = firstItem.Country;\r\n\r\n\t\t\t\t\t\t// for adding the plant field in header 4 Dec 2017\r\n\t\t\t\t\t\tplModel.setData(oData);\r\n\t\t\t\t\t\t_this.getView().byId(\"plantHeader\").setModel(plModel);\r\n\r\n\t\t\t\t\t\t// _this.getView().byId(\"plantHeader\").setValue(_this.AppInstance.tablePOItems.getRows()[0].getCells()[6].getValue());\r\n\r\n\t\t\t\t\t\t// following row added on 12-Dec-2017 due to approval status change enhacement\r\n\t\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.lastSelected_POApprovalStatus === \"Rejected\") {\r\n\t\t\t\t\t\t\t_this.getView().byId(\"labelRevRej\").setVisible(true);\r\n\t\t\t\t\t\t\t_this.getView().byId(\"boxRrevRej\").setVisible(true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_this.getView().byId(\"labelRevRej\").setVisible(false);\r\n\t\t\t\t\t\t\t_this.getView().byId(\"boxRrevRej\").setVisible(false);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.tablePOItems.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Items);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.tablePOItems.bindRows({\r\n\t\t\t\t\t\t\tpath: \"/results\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.tablePOItems.setVisibleRowCount(_this.getOwnerComponent().AppInstance.CurrentMODEL_Items\r\n\t\t\t\t\t\t\t.getData().results.length);\r\n\r\n\t\t\t\t\t\t// Bind address table !\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.tablePOAddress.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Items);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.tablePOAddress.bindRows({\r\n\t\t\t\t\t\t\tpath: \"/results\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.tablePOAddress.setVisibleRowCount(_this.getOwnerComponent().AppInstance.CurrentMODEL_Items\r\n\t\t\t\t\t\t\t.getData().results.length);\r\n\r\n\t\t\t\t\t\t// Bind Po ItemText tab table \r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.tablePOText.setModel(_this.getOwnerComponent().AppInstance.CurrentMODEL_Items);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.tablePOText.bindRows({\r\n\t\t\t\t\t\t\tpath: \"/results\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.tablePOText.setVisibleRowCount(_this.getOwnerComponent().AppInstance.CurrentMODEL_Items\r\n\t\t\t\t\t\t\t.getData().results.length);\r\n\r\n\t\t\t\t\t\t/*\t\t\t\tif (_this.getOwnerComponent().AppInstance.lastSelected_POAction === \"PO_ACTION__EDIT\" && _this.getOwnerComponent().AppInstance\r\n\t\t\t\t\t\t\t\t\t\t\t.CurrentMODEL_Items.getData().results[0].Ztstring_exp === \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\t_this.getView().byId(\"idInformationButton\").setEnabled(false);\r\n\t\t\t\t\t\t\t\t\t\t}*/\r\n\t\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.lastSelected_POAction === \"PO_ACTION__EDIT\" && _this.getOwnerComponent().AppInstance\r\n\t\t\t\t\t\t\t.CurrentMODEL_Items.getData().results[0].Ztstring_exp !== \"\") {\r\n\t\t\t\t\t\t\t_this.getView().byId(\"idInformationLabel\").setVisible(true);\r\n\t\t\t\t\t\t\t_this.getView().byId(\"idInformationButton\").setVisible(true);\r\n\t\t\t\t\t\t\t_this.getView().byId(\"idInformationButton\").setEnabled(true);\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsap.ui.core.BusyIndicator.hide();\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(error) {\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.displayMessage(error);\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\tsap.ui.core.BusyIndicator.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t\t_this.getView().byId(\"tabBar_ItemData\").setSelectedKey(\"general\");\r\n\r\n\t\t\t//alert(\" End Called\");\r\n\t\t\t//var csrfToken = this.getView().getModel().oHeaders['x-csrf-token'];\r\n\t\t\t//alert(\" csrfToken\"+csrfToken);\r\n\r\n\t\t},\r\n\r\n\t\treadAttachment: function() {\r\n\t\t\tvar po = this.AppInstance.lastSelected_PONumber;\r\n\t\t\tthis.getView().getModel(\"model__transfer_po\").read(\"/ZtgetattachmentSet\", {\r\n\t\t\t\tfilters: [new Filter(\"ObjectId\", \"EQ\", this.AppInstance.lastSelected_PONumber),\r\n\t\t\t\t\tnew Filter(\"ObjectType\", \"EQ\", \"BUS2012\"),\r\n\t\t\t\t\tnew Filter(\"ObjectCat\", \"EQ\", \"BO\")\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData) {\r\n\r\n\t\t\t\t\tthis.getView().getModel().setProperty(\"/attachmentData\", oData.results);\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(err) {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tfn_Items_Quantity_Change: function(oEvent) {\r\n\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/Quantity\", oEvent.getParameters().newValue);\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tif (this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\t\"/Distribkey\").toString() === \"0\") {\r\n\t\t\t\tvar zAccStr = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\t\"/Zaccount\");\r\n\t\t\t\tvar tempJSON = JSON.parse(zAccStr);\r\n\t\t\t\t/*following line updated due to the Qunatity field not updated apart from index 0 row. And if case is added to hadle the new row addition*/\r\n\t\t\t\t/*tempJSON.ITEMS[0].QUANTITY = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+oEvent.getSource().getParent().getIndex()+\"/Quantity\") ;*/\r\n\t\t\t\tif (tempJSON.ITEMS.length === 1) {\r\n\t\t\t\t\ttempJSON.ITEMS[0].QUANTITY = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + oEvent.getSource()\r\n\t\t\t\t\t\t.getParent().getIndex() + \"/Quantity\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttempJSON.ITEMS[rowIndex].QUANTITY = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + oEvent.getSource()\r\n\t\t\t\t\t\t.getParent().getIndex() + \"/Quantity\");\r\n\t\t\t\t}\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\t\"/Zaccount\", JSON.stringify(tempJSON));\r\n\t\t\t};\r\n\t\t\tthis.reCalculateItemAndPOValues(oEvent.getSource().getParent().getIndex());\r\n\t\t},\r\n\r\n\t\tfn_Items_NetPrice_Change: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/NetPrice\", oEvent.getParameters().newValue);\r\n\t\t\tthis.reCalculateItemAndPOValues(oEvent.getSource().getParent().getIndex());\r\n\t\t},\r\n\r\n\t\tfn_Items_Per_Change: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/PriceUnit\", oEvent.getParameters().newValue);\r\n\t\t\tthis.reCalculateItemAndPOValues(oEvent.getSource().getParent().getIndex());\r\n\t\t},\r\n\r\n\t\treCalculateItemAndPOValues: function(changed_row_index) {\r\n\r\n\t\t\tvar newItemValue = parseFloat(this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + changed_row_index +\r\n\t\t\t\t\t\"/Quantity\")) *\r\n\t\t\t\tparseFloat(this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + changed_row_index + \"/NetPrice\")) /\r\n\t\t\t\tparseFloat(this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + changed_row_index + \"/PriceUnit\"));\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + changed_row_index + \"/ItemValue\", newItemValue);\r\n\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\tvar newPOValue = 0.0;\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData().results.forEach(function(element) {\r\n\t\t\t\tif (element.DeleteInd !== \"L\")\r\n\t\t\t\t\tnewPOValue = newPOValue + parseFloat(element.ItemValue);\r\n\t\t\t});\r\n\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/TotalValue\", newPOValue.toFixed(2));\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Header.refresh(true);\r\n\r\n\t\t},\r\n\r\n\t\tfn_Items_Limit_Change: function(oEvent) {\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Limit\", oEvent.getParameters().newValue);\r\n\r\n\t\t\t//\tif (\r\n\t\t\t// (this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/Acctasscat\") === \"L\") &&\r\n\t\t\t//\tif ((this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/ItemCat\") === \"B\") ||\r\n\t\t\t//\t\t(this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/ItemCat\") === \"D\") ||\r\n\t\t\t//\t\t(this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/ItemCat\") === \"9\"))\r\n\t\t\t//)\r\n\t\t\t//\t{\r\n\t\t\t// No deed for IF because if the user is able to change the value of the Limit field it means that it is enabled\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/NetPrice\", oEvent.getParameters().newValue);\r\n\r\n\t\t\tvar tempJSON = JSON.parse(this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Zaccount\"));\r\n\t\t\ttempJSON.ITEMS[0].NET_VALUE = oEvent.getParameters().newValue;\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Zaccount\", JSON.stringify(tempJSON));\r\n\r\n\t\t\t//\t}\r\n\r\n\t\t\tthis.reCalculateItemAndPOValues(rowIndex);\r\n\t\t},\r\n\r\n\t\t//buttonSimulatePressed : function ( oEvent ) {\r\n\t\t//},\r\n\r\n\t\tbuttonNewItemPressed: function(oEvent) {\r\n\t\t\tvar AppInstance = this.AppInstance;\r\n\t\t\t//$.get(\"model/PoItem.json\").complete(function(content){\r\n\t\t\tvar aData = AppInstance.CurrentMODEL_Items.getProperty(\"/results\");\r\n\t\t\t//var newRow = content.responseJSON.results[0];\r\n\r\n\t\t\tvar selectedDocumentType = AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\");\r\n\t\t\tvar _row_AccAss = \"\";\r\n\t\t\tvar _row_AccAssTxt = \"\";\r\n\t\t\tvar _row_ItemCat = \"\";\r\n\t\t\tvar _row_ItemCatTxt = \"\";\r\n\r\n\t\t\tvar _row_AU = AppInstance.lastSelected_ForNewItem_UM_PoUnit;\r\n\t\t\tvar _row_AUTxt = AppInstance.lastSelected_ForNewItem_UM_PoUnitText;\r\n\t\t\tvar _row_Plant = AppInstance.lastSelected_ForNewItem_Plant_Plant;\r\n\t\t\tvar _row_PlantTxt = AppInstance.lastSelected_ForNewItem_Plant_PlantText;\r\n\r\n\t\t\tvar _rowQuantity = \"\";\r\n\r\n\t\t\tif (selectedDocumentType === \"NB2\") {\r\n\t\t\t\t_row_AccAss = \"K\";\r\n\t\t\t\t_row_AccAssTxt = \"Cost Center\";\r\n\t\t\t\t_row_ItemCat = \"\";\r\n\t\t\t\t_row_ItemCatTxt = \"Standard\";\r\n\t\t\t} else\r\n\t\t\tif (selectedDocumentType === \"NB2D\") {\r\n\t\t\t\t_row_AccAss = \"K\";\r\n\t\t\t\t_row_AccAssTxt = \"Cost Center\";\r\n\t\t\t\t_row_ItemCat = \"D\";\r\n\t\t\t\t_row_ItemCatTxt = \"Service\";\r\n\t\t\t\t// Issue 50 language translation\r\n\t\t\t\tif (AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t}\r\n\t\t\t\t// Issue 50 end\r\n\t\t\t\t_rowQuantity = \"1\";\r\n\t\t\t} else\r\n\t\t\tif (selectedDocumentType === \"NB3\") {\r\n\t\t\t\t_row_AccAss = \"L\";\r\n\t\t\t\t_row_AccAssTxt = \"Limit\";\r\n\t\t\t\t_row_ItemCat = \"B\";\r\n\t\t\t\t_row_ItemCatTxt = \"Limit\";\r\n\t\t\t\t// Issue 50 language translation\r\n\t\t\t\tif (AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t}\r\n\t\t\t\t// Issue 50 end\r\n\t\t\t\t_rowQuantity = \"1\";\r\n\t\t\t}\r\n\t\t\t// Issue 48 start\r\n\t\t\telse\r\n\t\t\tif (selectedDocumentType === \"NB2Z\") {\r\n\t\t\t\t_row_AccAss = \"Z\";\r\n\t\t\t\t_row_AccAssTxt = \"Int Order\";\r\n\t\t\t\t_row_ItemCat = \"\";\r\n\t\t\t\t_row_ItemCatTxt = \"Standard\";\r\n\t\t\t} else\r\n\t\t\tif (selectedDocumentType === \"N2ZD\") {\r\n\t\t\t\t_row_AccAss = \"Z\";\r\n\t\t\t\t_row_AccAssTxt = \"Int Order\";\r\n\t\t\t\t_row_ItemCat = \"D\";\r\n\t\t\t\t_row_ItemCatTxt = \"Service\";\r\n\t\t\t\t// Issue 50 language translation\r\n\t\t\t\tif (AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t}\r\n\t\t\t\t// Issue 50 end\r\n\t\t\t\t_rowQuantity = \"1\";\r\n\t\t\t} else\r\n\t\t\tif (selectedDocumentType === \"NB3Z\") {\r\n\t\t\t\t_row_AccAss = \"L\";\r\n\t\t\t\t_row_AccAssTxt = \"Limit\";\r\n\t\t\t\t_row_ItemCat = \"B\";\r\n\t\t\t\t_row_ItemCatTxt = \"Limit\";\r\n\t\t\t\t// Issue 50 language translation\r\n\t\t\t\tif (AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t}\r\n\t\t\t\t// Issue 50 end\r\n\t\t\t\t_rowQuantity = \"1\";\r\n\t\t\t} else\r\n\t\t\tif (selectedDocumentType === \"NB2F\") {\r\n\t\t\t\t_row_AccAss = \"F\";\r\n\t\t\t\t_row_AccAssTxt = \"Order\";\r\n\t\t\t\t_row_ItemCat = \"\";\r\n\t\t\t\t_row_ItemCatTxt = \"Standard\";\r\n\t\t\t}\r\n\t\t\t// Issue 48  end\r\n\t\t\t;\r\n\r\n\t\t\t// following one line changed due to addition of the plant field in header 4 Dec 2017\r\n\t\t\t/*var newRow = JSON.parse('{\"results\":[{\"PoNumber\":\"\",\"PoItem\":\"\",\"DeleteInd\":\"\",\"ShortText\":\"\",\"Quantity\":\"'+_rowQuantity+'\",\"Acctasscat\":\"'+_row_AccAss+'\",\"Acctasscattxt\":\"'+_row_AccAssTxt+'\",\"ItemCat\":\"'+_row_ItemCat+'\",\"ItemCattxt\":\"'+_row_ItemCatTxt+'\",\"MatlGroup\":\"\",\"MatlGrouptxt\":\"\",\"Plant\":\"'+_row_Plant+'\",\"Planttxt\":\"'+_row_PlantTxt+'\",\"PoUnit\":\"'+_row_AU+'\",\"PoUnittxt\":\"'+_row_AUTxt+'\",\"DeliveryDate\":\"\",\"SchedLine\":\"\",\"NetPrice\":\"\",\"PriceUnit\":\"\",\"Currency\":\"\",\"OrderprUn\":\"\",\"ItemValue\":\"\",\"Distrib\":\"\",\"Costcenter\":\"\",\"AssetNo\":\"\",\"Orderid\":\"\",\"GlAccount\":\"\",\"Costcentertxt\":\"\",\"AssetNotxt\":\"\",\"GlAccounttxt\":\"\",\"Orderidtxt\":\"\",\"PreqName\":\"\",\"PckgNo\":\"\",\"Limit\":\"\",\"ExpValue\":\"\",\"BaseUom\":\"\",\"GrPrice\":\"\",\"SerialNo\":\"\",\"Distribkey\":\"\",\"Input1\":\"\",\"Input2\":\"\",\"Input3\":\"\",\"Input4\":\"\",\"Input5\":\"\",\"Input6\":\"\",\"Input7\":\"\",\"Input8\":\"\",\"Input9\":\"\",\"Input10\":\"\",\"Input11\":\"\",\"Input12\":\"\",\"Input13\":\"\",\"Input14\":\"\",\"Input15\":\"\",\"Input16\":\"\",\"Input17\":\"\",\"Input18\":\"\",\"Input19\":\"\",\"Input20\":\"\",\"Finalinvoice\":\"\",\"Delivcompleted\":\"\",\"Rejection\":\"\",\"Zaddress\":\"\",\"Zaccount\":\"\"}]}').results[0];*/\r\n\t\t\t/*var newRow = JSON.parse('{\"results\":[{\"PoNumber\":\"\",\"PoItem\":\"\",\"DeleteInd\":\"\",\"ShortText\":\"\",\"Quantity\":\"' + _rowQuantity + '\",\"Acctasscat\":\"' + _row_AccAss + '\",\"Acctasscattxt\":\"' + _row_AccAssTxt + '\",\"ItemCat\":\"' + _row_ItemCat + '\",\"ItemCattxt\":\"' + _row_ItemCatTxt + '\",\"MatlGroup\":\"\",\"MatlGrouptxt\":\"\",\"Plant\":\"\",\"Planttxt\":\"' + _row_PlantTxt + '\",\"PoUnit\":\"' + _row_AU + '\",\"PoUnittxt\":\"' + _row_AUTxt + '\",\"DeliveryDate\":\"\",\"SchedLine\":\"\",\"NetPrice\":\"\",\"PriceUnit\":\"\",\"Currency\":\"\",\"OrderprUn\":\"\",\"ItemValue\":\"\",\"Distrib\":\"\",\"Costcenter\":\"\",\"AssetNo\":\"\",\"Orderid\":\"\",\"GlAccount\":\"\",\"Costcentertxt\":\"\",\"AssetNotxt\":\"\",\"GlAccounttxt\":\"\",\"Orderidtxt\":\"\",\"PreqName\":\"\",\"PckgNo\":\"\",\"Limit\":\"\",\"ExpValue\":\"\",\"BaseUom\":\"\",\"GrPrice\":\"\",\"SerialNo\":\"\",\"Distribkey\":\"\",\"Input1\":\"\",\"Input2\":\"\",\"Input3\":\"\",\"Input4\":\"\",\"Input5\":\"\",\"Input6\":\"\",\"Input7\":\"\",\"Input8\":\"\",\"Input9\":\"\",\"Input10\":\"\",\"Input11\":\"\",\"Input12\":\"\",\"Input13\":\"\",\"Input14\":\"\",\"Input15\":\"\",\"Input16\":\"\",\"Input17\":\"\",\"Input18\":\"\",\"Input19\":\"\",\"Input20\":\"\",\"Finalinvoice\":\"\",\"Delivcompleted\":\"\",\"Rejection\":\"\",\"Zaddress\":\"\",\"Zaccount\":\"\"}]}').results[0];*/\r\n\t\t\t//Issue 49 start , Fill Input1 field with doc type\r\n\t\t\tvar newRow = JSON.parse('{\"results\":[{\"PoNumber\":\"\",\"PoItem\":\"\",\"DeleteInd\":\"\",\"ShortText\":\"\",\"Quantity\":\"' + _rowQuantity +\r\n\t\t\t\t'\",\"Acctasscat\":\"' + _row_AccAss + '\",\"Acctasscattxt\":\"' + _row_AccAssTxt + '\",\"ItemCat\":\"' + _row_ItemCat + '\",\"ItemCattxt\":\"' +\r\n\t\t\t\t_row_ItemCatTxt + '\",\"MatlGroup\":\"\",\"MatlGrouptxt\":\"\",\"Plant\":\"\",\"Planttxt\":\"' + _row_PlantTxt + '\",\"PoUnit\":\"' + _row_AU +\r\n\t\t\t\t'\",\"PoUnittxt\":\"' + _row_AUTxt +\r\n\t\t\t\t'\",\"DeliveryDate\":\"\",\"SchedLine\":\"\",\"NetPrice\":\"\",\"PriceUnit\":\"\",\"Currency\":\"\",\"OrderprUn\":\"\",\"ItemValue\":\"\",\"Distrib\":\"\",\"Costcenter\":\"\",\"AssetNo\":\"\",\"Orderid\":\"\",\"GlAccount\":\"\",\"Costcentertxt\":\"\",\"AssetNotxt\":\"\",\"GlAccounttxt\":\"\",\"Orderidtxt\":\"\",\"PreqName\":\"\",\"PckgNo\":\"\",\"Limit\":\"\",\"ExpValue\":\"\",\"BaseUom\":\"\",\"GrPrice\":\"\",\"SerialNo\":\"\",\"Distribkey\":\"\",\"Input1\":\"' +\r\n\t\t\t\tselectedDocumentType +\r\n\t\t\t\t'\",\"Input2\":\"\",\"Input3\":\"\",\"Input4\":\"\",\"Input5\":\"\",\"Input6\":\"\",\"Input7\":\"\",\"Input8\":\"\",\"Input9\":\"\",\"Input10\":\"\",\"Input11\":\"\",\"Input12\":\"\",\"Input13\":\"\",\"Input14\":\"\",\"Input15\":\"\",\"Input16\":\"\",\"Input17\":\"\",\"Input18\":\"\",\"Input19\":\"\",\"Input20\":\"\",\"Finalinvoice\":\"\",\"Delivcompleted\":\"\",\"Rejection\":\"\",\"Zaddress\":\"\",\"Zaccount\":\"\"}]}'\r\n\t\t\t).results[0];\r\n\t\t\t//Issue 49 End\r\n\r\n\t\t\tvar poItemValuesArray = [];\r\n\t\t\tAppInstance.CurrentMODEL_Items.getData().results.forEach(function(element) {\r\n\t\t\t\tpoItemValuesArray.push(parseInt(element.PoItem));\r\n\t\t\t});\r\n\t\t\tvar lastLine = Math.max.apply(Math, poItemValuesArray) + 10;\r\n\r\n\t\t\tvar poItemValue = \"\";\r\n\t\t\tif (lastLine < 100) poItemValue = \"000\" + lastLine.toString();\r\n\t\t\telse if (lastLine < 1000) poItemValue = \"00\" + lastLine.toString();\r\n\t\t\telse if (lastLine < 10000) poItemValue = \"0\" + lastLine.toString();\r\n\t\t\telse poItemValue = lastLine.toString();\r\n\r\n\t\t\tnewRow.PoItem = poItemValue;\r\n\t\t\tnewRow.Currency = AppInstance.CurrentMODEL_Header.getProperty(\"/Currency\");\r\n\t\t\tnewRow.DeliveryDate = new Date();\r\n\t\t\tnewRow.Distribkey = \"0\";\r\n\t\t\tnewRow.PriceUnit = 1;\r\n\r\n\t\t\tnewRow.Name = AppInstance.defaultPlantAddres_Name;\r\n\t\t\tnewRow.Street = AppInstance.defaultPlantAddres_Street;\r\n\t\t\tnewRow.StreetNo = AppInstance.defaultPlantAddres_StreetNo;\r\n\t\t\tnewRow.PostlCod1 = AppInstance.defaultPlantAddres_PostlCod1;\r\n\t\t\tnewRow.City = AppInstance.defaultPlantAddres_City;\r\n\t\t\tnewRow.Region = AppInstance.defaultPlantAddres_Region;\r\n\t\t\tnewRow.Country = AppInstance.defaultPlantAddres_Country;\r\n\r\n\t\t\tnewRow.Zaccount = \"{\\\"ITEMS\\\" : [{ \\\"PO_NUMBER\\\":\\\"\\\", \\\"PO_ITEM\\\":\\\"\" + poItemValue + \"\\\",\\\"SERIAL_NO\\\":\\\"\\\",\\\"QUANTITY\\\":\\\"\" +\r\n\t\t\t\t_rowQuantity +\r\n\t\t\t\t\"\\\",\\\"DISTR_PERC\\\":\\\"0.0\\\",\\\"NET_VALUE\\\":\\\"\\\",\\\"COSTCENTER\\\":\\\"\\\",\\\"ASSET_NO\\\":\\\"\\\",\\\"ORDERID\\\":\\\"\\\",\\\"GL_ACCOUNT\\\":\\\"\\\",\\\"COSTCENTERTXT\\\":\\\"\\\",\\\"ASSET_NOTXT\\\":\\\"\\\",\\\"GL_ACCOUNTTXT\\\":\\\"\\\",\\\"ORDERIDTXT\\\":\\\"\\\",\\\"ACTION\\\":\\\"\\\",\\\"INPUT1\\\":\\\"\\\",\\\"INPUT2\\\":\\\"\\\",\\\"INPUT3\\\":\\\"\\\",\\\"INPUT4\\\":\\\"\\\",\\\"INPUT5\\\":\\\"\\\",\\\"INPUT6\\\":\\\"\\\",\\\"INPUT7\\\":\\\"\\\",\\\"INPUT8\\\":\\\"\\\",\\\"INPUT9\\\":\\\"\\\",\\\"INPUT10\\\":\\\"\\\",\\\"NUMERIC1\\\":\\\"0.0\\\",\\\"NUMERIC2\\\":\\\"0.0\\\",\\\"NUMERIC3\\\":\\\"0.0\\\" }]}\";\r\n\r\n\t\t\t/*code added for add new line issue after adding the plant to Header 4 Dec 2017*/\r\n\t\t\tvar plRows = AppInstance.tablePOItems.getRows();\r\n\t\t\tvar plLastRow = plRows[plRows.length - 1];\r\n\t\t\t/*following row changed , as the plant field is hiddedn in table, and all row will have same plant*/\r\n\t\t\t/*newRow.Plant = plLastRow.getCells()[6].getValue();*/\r\n\t\t\tnewRow.Plant = _row_Plant;\r\n\r\n\t\t\taData.push(newRow);\r\n\r\n\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results\", aData);\r\n\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\tAppInstance.tablePOItems.setVisibleRowCount(AppInstance.CurrentMODEL_Items.getData().results.length);\r\n\t\t\tAppInstance.tablePOAddress.setVisibleRowCount(AppInstance.CurrentMODEL_Items.getData().results.length);\r\n\t\t\tAppInstance.tablePOText.setVisibleRowCount(AppInstance.CurrentMODEL_Items.getData().results.length);\r\n\r\n\t\t\tvar allRows = AppInstance.tablePOItems.getRows();\r\n\t\t\tvar lastRow = allRows[allRows.length - 1];\r\n\t\t\tlastRow.getCells().forEach(function(cell) {\r\n\t\t\t\tif (cell.getMetadata().getName() === \"sap.m.Input\") {\r\n\t\t\t\t\tcell.onsaptabnext = cell.onsapenter;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//}) ;\r\n\t\t},\r\n\r\n\t\tbuttonCopyAddressPressed: function(oEvent) {\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\r\n\t\t\tvar _Name = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Name\"),\r\n\t\t\t\t_Street = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Street\"),\r\n\t\t\t\t_StreetNo = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/StreetNo\"),\r\n\t\t\t\t_PostalCode = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/PostlCod1\"),\r\n\t\t\t\t_City = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/City\"),\r\n\t\t\t\t_Region = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Region\"),\r\n\t\t\t\t_Country = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Country\");\r\n\r\n\t\t\tvar itemsData = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData();\r\n\t\t\titemsData.results.forEach(function(itemsElement) {\r\n\t\t\t\titemsElement.Name = _Name;\r\n\t\t\t\titemsElement.Street = _Street;\r\n\t\t\t\titemsElement.StreetNo = _StreetNo;\r\n\t\t\t\titemsElement.PostlCod1 = _PostalCode;\r\n\t\t\t\titemsElement.City = _City;\r\n\t\t\t\titemsElement.Region = _Region;\r\n\t\t\t\titemsElement.Country = _Country;\r\n\t\t\t});\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setData(itemsData);\r\n\t\t},\r\n\r\n\t\tbuttonUndoAddressPressed: function(oEvent) {\r\n\r\n\t\t\tvar itemsData = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData();\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\t/*following code commented and new code added due to requirement - on change of com code the plant should change and that plant address shod come in delivery addr table*/\r\n\t\t\t/*itemsData.results.forEach(function(itemsElement){\r\n\r\n\t\t\t\titemsElement.Name = AppInstance.defaultPlantAddres_Name ;\r\n\t\t\t\titemsElement.Street = AppInstance.defaultPlantAddres_Street ;\r\n\t\t\t\titemsElement.StreetNo = AppInstance.defaultPlantAddres_StreetNo ;\r\n\t\t\t\titemsElement.PostlCod1 = AppInstance.defaultPlantAddres_PostlCod1 ;\r\n\t\t\t\titemsElement.City = AppInstance.defaultPlantAddres_City ;\r\n\t\t\t\titemsElement.Region = AppInstance.defaultPlantAddres_Region ;\r\n\t\t\t\titemsElement.Country = AppInstance.defaultPlantAddres_Country ;\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setData(itemsData);\r\n\t\t\t\t\t\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);*/\r\n\t\t\tvar rowIndex = 0;\r\n\t\t\tvar noOfRows = itemsData.results.length;\r\n\t\t\tvar compCode = this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/CompCode\");\r\n\t\t\tvar plant = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData().results[0].Plant;\r\n\t\t\tvar name = \"\",\r\n\t\t\t\tstreet = \"\",\r\n\t\t\t\tpostlCod1 = \"\",\r\n\t\t\t\tcity = \"\",\r\n\t\t\t\tregion = \"\",\r\n\t\t\t\tcountry = \"\";\r\n\r\n\t\t\tvar del_addr = false;\r\n\t\t\t// this is required as sometime the attach function with model_f4_function get triggered when user navigate b/w pages multiple times.\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetplantSet\", {\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.EQ, compCode),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Plant\", sap.ui.model.FilterOperator.EQ, plant)\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tname = oData.results[0].Name1;\r\n\t\t\t\t\tstreet = oData.results[0].Street;\r\n\t\t\t\t\tpostlCod1 = oData.results[0].PostCode1;\r\n\t\t\t\t\tcity = oData.results[0].City1;\r\n\t\t\t\t\tregion = oData.results[0].Region;\r\n\t\t\t\t\tcountry = oData.results[0].Country;\r\n\t\t\t\t\tdel_addr = true;\r\n\t\t\t\t},\r\n\r\n\t\t\t\terror: function(error) {\r\n\t\t\t\t\tconsole.log(\" In Func error \" + error);\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").attachRequestCompleted(function() {\r\n\t\t\t\tif (del_addr) {\r\n\t\t\t\t\tfor (rowIndex = 0; rowIndex < noOfRows; rowIndex++) {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.oData.results[rowIndex].Name = name;\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.oData.results[rowIndex].Street = street;\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.oData.results[rowIndex].PostlCod1 = postlCod1;\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.oData.results[rowIndex].City = city;\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.oData.results[rowIndex].Region = region;\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.oData.results[rowIndex].Country = country;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t\tdel_addr = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tbuttonNewSubItemPressed: function(oEvent) {\r\n\t\t\t//$.get(\"model/PoSubItem.json\").complete(function(content){\r\n\t\t\tvar aData = this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.getProperty(\"/\");\r\n\t\t\t//var newRow = content.responseJSON.ITEMS[0];\r\n\t\t\tvar newRowJSON = JSON.parse(\r\n\t\t\t\t'{\"ITEMS\" : [{\"PO_NUMBER\":\"\",\"PO_ITEM\":\"\",\"SERIAL_NO\":\"\",\"QUANTITY\":\"\",\"DISTR_PERC\":\"\",\"NET_VALUE\":\"\",\"COSTCENTER\":\"\",\"ASSET_NO\":\"\",\"ORDERID\":\"\",\"GL_ACCOUNT\":\"\",\"COSTCENTERTXT\":\"\",\"ASSET_NOTXT\":\"\",\"GL_ACCOUNTTXT\":\"\",\"ORDERIDTXT\":\"\",\"ACTION\":\"\",\"INPUT1\":\"\",\"INPUT2\":\"\",\"INPUT3\":\"\",\"INPUT4\":\"\",\"INPUT5\":\"\",\"INPUT6\":\"\",\"INPUT7\":\"\",\"INPUT8\":\"\",\"INPUT9\":\"\",\"INPUT10\":\"\",\"NUMERIC1\":\"0.0\",\"NUMERIC2\":\"0.0\",\"NUMERIC3\":\"0.0\"}]}'\r\n\t\t\t);\r\n\t\t\tvar newRow = newRowJSON.ITEMS[0];\r\n\t\t\tvar itemsRowIndex = this.getOwnerComponent().AppInstance.lastSelected_ItemRowIndex;\r\n\r\n\t\t\tnewRow.PO_NUMBER = this.getOwnerComponent().AppInstance.lastSelected_PONumber;\r\n\t\t\tnewRow.PO_ITEM = this.getOwnerComponent().AppInstance.lastSelected_POItem;\r\n\t\t\tnewRow.GL_ACCOUNT = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + itemsRowIndex + \"/GlAccount\");\r\n\t\t\tnewRow.GL_ACCOUNTTXT = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + itemsRowIndex +\r\n\t\t\t\t\"/GlAccounttxt\");\r\n\t\t\tnewRow.COSTCENTER = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + itemsRowIndex + \"/Costcenter\");\r\n\t\t\tnewRow.COSTCENTERTXT = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + itemsRowIndex +\r\n\t\t\t\t\"/Costcentertxt\");\r\n\t\t\tnewRow.ORDERID = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + itemsRowIndex + \"/Orderid\");\r\n\t\t\tnewRow.ORDERIDTXT = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + itemsRowIndex + \"/Orderidtxt\");\r\n\r\n\t\t\taData.push(newRow);\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.setProperty(\"/\", aData);\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.refresh(true);\r\n\t\t\tthis.getOwnerComponent().AppInstance.tablePOSubItems.setVisibleRowCount(this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.getData()\r\n\t\t\t\t.length);\r\n\t\t\t//}) ;\r\n\t\t},\r\n\r\n\t\tbuttonUpdatePressed: function() {\r\n\t\t\tthis.executeSubmitUpdate(\"C\");\r\n\t\t},\r\n\r\n\t\tbuttonSubmitPressed: function() {\r\n\t\t\tthis.executeSubmitUpdate(\"P\");\r\n\t\t},\r\n\r\n\t\texecuteSubmitUpdate: function(action_char) {\r\n\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\r\n\t\t\tvar post_ALLCONTENT_JSON = {}, // Contains the entire payload used to call the post/create/update/copy\r\n\r\n\t\t\t\tpost_ITEMS_JSON = {\r\n\t\t\t\t\t\"ITEMS\": []\r\n\t\t\t\t}, // Contains the Items , stripped of SubItems and re-built with the new address field\r\n\t\t\t\tpost_SUBITEMS_JSON = {\r\n\t\t\t\t\t\"ITEMS\": []\r\n\t\t\t\t}; // Idem post_ITEMS_JSON , but for SubItems\r\n\r\n\t\t\tvar itemsData = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData();\r\n\t\t\tvar counter = 0;\r\n\r\n\t\t\titemsData.results.forEach(function(itmElm) {\r\n\t\t\t\tvar accJSONtmp = JSON.parse(itmElm.Zaccount);\r\n\t\t\t\tcounter = 1;\r\n\r\n\t\t\t\taccJSONtmp.ITEMS.forEach(function(subitmElm) {\r\n\t\t\t\t\tif (subitmElm.PO_ITEM === itmElm.PoItem) {\r\n\r\n\t\t\t\t\t\tif (counter < 10)\r\n\t\t\t\t\t\t\tsubitmElm.SERIAL_NO = \"0\" + counter.toString();\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tsubitmElm.SERIAL_NO = counter.toString();\r\n\r\n\t\t\t\t\t\tcounter = counter + 1;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\t\t\t\titmElm.Zaccount = JSON.stringify(accJSONtmp);\r\n\t\t\t});\r\n\r\n\t\t\t//add updated itemtext data \r\n\t\t\tvar post_ITEMSTEXT_JSON_UPDATED = {\r\n\t\t\t\t\"ITEMS\": []\r\n\t\t\t};\r\n\t\t\t/*\r\n\t\t\t\t\t\titemsData.results.forEach(function(itmElm) {\r\n\t\t\t\t\t\t\titmElm.Zstring_str = \"\";\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(itmElm.itemTextTab !== undefined){\r\n\t\t\t\t\t\t\tvar updatedItemText = (itmElm.itemTextTab).split(\"\\n\");\r\n\r\n\t\t\t\t\t\t\tvar serialNo = \"\",\r\n\t\t\t\t\t\t\t\tcounterItem = 1;\r\n\t\t\t\t\t\t\tfor (var i = 0; i < updatedItemText.length; i++) {\r\n\r\n\t\t\t\t\t\t\t\tif (counterItem < 10) {\r\n\t\t\t\t\t\t\t\t\tserialNo = \"0\" + counterItem.toString();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tserialNo = counterItem.toString();\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tvar newItem = {\r\n\t\t\t\t\t\t\t\t\t\"POITEM\": itmElm.PoItem,\r\n\t\t\t\t\t\t\t\t\t\"LINENR\": serialNo,\r\n\t\t\t\t\t\t\t\t\t\"ITEMTEXT\": updatedItemText[i]\r\n\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tpost_ITEMSTEXT_JSON_UPDATED.ITEMS.push(newItem);\r\n\t\t\t\t\t\t\t\tcounterItem = counterItem + 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//itmElm.Zstring_str = JSON.stringify(post_ITEMSTEXT_JSON_UPDATED);\r\n\t\t\t\t\t\t\tconsole.log(\"\\nItemTextData :\" + itmElm.Zstring_str);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t*/\r\n\r\n\t\t\t/* New code for Item Tab Text to allow only 132 characters */\r\n\t\t\titemsData.results.forEach(function(itmElm) {\r\n\t\t\t\titmElm.Zstring_str = \"\";\r\n\r\n\t\t\t\tif (itmElm.itemTextTab !== undefined) {\r\n\t\t\t\t\t//\tvar updatedItemText = (itmElm.itemTextTab).split(\"\\n\");\r\n\r\n\t\t\t\t\tvar userValues = (itmElm.itemTextTab).split(\"\\n\");\r\n\r\n\t\t\t\t\tconsole.log(\"\\nAll Splitted Values after user entered: \\n\" + userValues);\r\n\r\n\t\t\t\t\tvar total = 0,\r\n\t\t\t\t\t\tfinalValue = []; //this will hold data till 132 char and remaining will split to next line.\r\n\r\n\t\t\t\t\tfor (var x = 0; x < userValues.length; x++) {\r\n\t\t\t\t\t\tvar tempValue = userValues[x];\r\n\t\t\t\t\t\tvar y = 0;\r\n\t\t\t\t\t\tvar firstLine = [];\r\n\t\t\t\t\t\twhile (tempValue.length > 132) {\r\n\t\t\t\t\t\t\tfirstLine[y] = tempValue.slice(0, 132);\r\n\t\t\t\t\t\t\tfinalValue[total] = firstLine[y]\r\n\t\t\t\t\t\t\ttempValue = tempValue.substr(132); //remaining string after 132 characters\r\n\r\n\t\t\t\t\t\t\tconsole.log(\"spiltted Text lines:\" + y + \":\" + firstLine[y]);\r\n\t\t\t\t\t\t\tconsole.log(\"\\nRemainingLine\" + tempValue);\r\n\t\t\t\t\t\t\ty++;\r\n\t\t\t\t\t\t\ttotal++;\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfirstLine[y] = tempValue;\r\n\t\t\t\t\t\tfinalValue[total] = firstLine[y];\r\n\t\t\t\t\t\ttotal++;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar updatedItemText = finalValue;\r\n\r\n\t\t\t\t\tvar serialNo = \"\",\r\n\t\t\t\t\t\tcounterItem = 1;\r\n\t\t\t\t\tfor (var i = 0; i < updatedItemText.length; i++) {\r\n\r\n\t\t\t\t\t\tif (counterItem < 10) {\r\n\t\t\t\t\t\t\tserialNo = \"0\" + counterItem.toString();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tserialNo = counterItem.toString();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar newItem = {\r\n\t\t\t\t\t\t\t\"POITEM\": itmElm.PoItem,\r\n\t\t\t\t\t\t\t\"LINENR\": serialNo,\r\n\t\t\t\t\t\t\t\"ITEMTEXT\": updatedItemText[i]\r\n\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tpost_ITEMSTEXT_JSON_UPDATED.ITEMS.push(newItem);\r\n\t\t\t\t\t\tcounterItem = counterItem + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//itmElm.Zstring_str = JSON.stringify(post_ITEMSTEXT_JSON_UPDATED);\r\n\t\t\t\tconsole.log(\"\\nItemTextData :\" + itmElm.Zstring_str);\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(\"Posting itemText: \");\r\n\t\t\tconsole.log(post_ITEMSTEXT_JSON_UPDATED);\r\n\t\t\t//end\r\n\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setData(itemsData);\r\n\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData().results.forEach(function(element_item) {\r\n\t\t\t\tconsole.log(\"Processing item : \" + element_item.PoItem);\r\n\t\t\t\t// convert price_unit to string due to Price Unit field not taking more than 99\r\n\t\t\t\tvar priceUnitStr = \"\" + Math.floor(element_item.PriceUnit);\r\n\t\t\t\t// following line added due to item value some time going beyond back end limit e.g 87*0.37 / 10\r\n\t\t\t\tvar itemValue3digit = AppInstance.format_3DigitsDecimalNumber(element_item.ItemValue);\r\n\r\n\t\t\t\t// Issue 48\r\n\t\t\t\t/*If doc type is NB2F or NB2Z or N2ZD you should call it still with NB2. NB2F and NB2Z and N2ZD exists only in Fiori but not in SAP. \r\n\t\t\t\tAlso when we post we need to pass NB2 and not NB2F or NB2Z or N2ZD.\r\n\t\t\t\tIf doc type is NB3Z or NB3 , you should call it NB3 , and while posting it should be NB3.*/\r\n\t\t\t\tvar itemInput1 = \"\";\r\n\t\t\t\tif ((element_item.Input1 === \"NB2D\" || element_item.Input1 === \"NB2F\" || element_item.Input1 === \"NB2Z\" || element_item.Input1 ===\r\n\t\t\t\t\t\t\"N2ZD\")) {\r\n\t\t\t\t\titemInput1 = \"NB2\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (element_item.Input1 === \"NB3\" || element_item.Input1 === \"NB3Z\") {\r\n\t\t\t\t\t\titemInput1 = \"NB3\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Issue 48 end\r\n\r\n\t\t\t\t// Adding the Item fields to the post json\r\n\t\t\t\tvar newItem = {\r\n\t\t\t\t\t\"PO_NUMBER\": (AppInstance.lastSelected_POAction === \"PO_ACTION__EDIT\") ? element_item.PoNumber : \"\",\r\n\t\t\t\t\t\"PO_ITEM\": element_item.PoItem,\r\n\t\t\t\t\t\"DELETE_IND\": (element_item.DeleteInd) === \"L\" ? \"X\" : \"\",\r\n\t\t\t\t\t\"SHORT_TEXT\": element_item.ShortText,\r\n\t\t\t\t\t// changed to make it decimal number with 3 digits after decimal - 3  july 2018\r\n\t\t\t\t\t//\"QUANTITY\"\t\t: element_item.Quantity,\r\n\t\t\t\t\t\"QUANTITY\": parseFloat(element_item.Quantity).toFixed(3),\r\n\t\t\t\t\t\"ACCTASSCAT\": element_item.Acctasscat,\r\n\t\t\t\t\t\"ACCTASSCATTXT\": element_item.Acctasscattxt,\r\n\t\t\t\t\t\"ITEM_CAT\": element_item.ItemCat,\r\n\t\t\t\t\t\"ITEM_CATTXT\": element_item.ItemCattxt,\r\n\t\t\t\t\t\"MATL_GROUP\": element_item.MatlGroup,\r\n\t\t\t\t\t\"MATL_GROUPTXT\": element_item.MatlGrouptxt,\r\n\t\t\t\t\t\"PLANT\": element_item.Plant,\r\n\t\t\t\t\t\"PLANTTXT\": element_item.Planttxt,\r\n\t\t\t\t\t\"PO_UNIT\": element_item.PoUnit,\r\n\t\t\t\t\t\"PO_UNITTXT\": element_item.PoUnittxt,\r\n\t\t\t\t\t\"DELIVERY_DATE\": AppInstance.formatDateForSAP(element_item.DeliveryDate),\r\n\t\t\t\t\t\"SCHED_LINE\": element_item.SchedLine,\r\n\t\t\t\t\t// changed to make it decimal number with 3 digits after decimal - 3  july 2018\r\n\t\t\t\t\t//\"NET_PRICE\"\t\t: element_item.NetPrice ,\r\n\t\t\t\t\t\"NET_PRICE\": parseFloat(element_item.NetPrice).toFixed(3),\r\n\t\t\t\t\t// \"PRICE_UNIT\"\t: Math.floor(element_item.PriceUnit) ,\r\n\t\t\t\t\t\"PRICE_UNIT\": priceUnitStr,\r\n\t\t\t\t\t\"CURRENCY\": element_item.Currency,\r\n\t\t\t\t\t\"ORDERPR_UN\": element_item.PoUnit,\r\n\t\t\t\t\t//\"ITEM_VALUE\"\t: element_item.ItemValue,\t\r\n\t\t\t\t\t// changed to make it decimal number with 3 digits after decimal - 3  july 2018\r\n\t\t\t\t\t//\"ITEM_VALUE\"\t: itemValue3digit ,\r\n\t\t\t\t\t\"ITEM_VALUE\": parseFloat(itemValue3digit).toFixed(3),\r\n\t\t\t\t\t\"DISTRIB\": /* element_item.Distribkey */ element_item.DistribKey,\r\n\t\t\t\t\t/* intentionally using wrong feild name */\r\n\t\t\t\t\t\"COSTCENTER\": element_item.Costcenter,\r\n\t\t\t\t\t\"ASSET_NO\": element_item.AssetNo,\r\n\t\t\t\t\t\"ORDERID\": element_item.Orderid,\r\n\t\t\t\t\t\"GL_ACCOUNT\": element_item.GlAccount,\r\n\t\t\t\t\t\"COSTCENTERTXT\": element_item.Costcentertxt,\r\n\t\t\t\t\t\"ASSET_NOTXT\": element_item.AssetNotxt,\r\n\t\t\t\t\t\"GL_ACCOUNTTXT\": element_item.GlAccounttxt,\r\n\t\t\t\t\t// changed to make order text empty asthe backend is not accepting certain long descriptions - 13  july 2018\r\n\t\t\t\t\t//\"ORDERIDTXT\"\t: element_item.Orderidtxt ,\r\n\t\t\t\t\t\"ORDERIDTXT\": \"\",\r\n\t\t\t\t\t\"PREQ_NAME\": AppInstance.CurrentMODEL_Header.getProperty(\"/PreqName\"),\r\n\t\t\t\t\t\"PCKG_NO\": element_item.PckgNo,\r\n\t\t\t\t\t/*\"LIMIT\"\t\t\t: element_item.Limit ,\r\n\t\t\t\t\t\"EXP_VALUE\"\t\t: element_item.Limit ,\r\n\t\t\t\t\t\"BASE_UOM\"\t\t: element_item.BaseUom ,*/\r\n\t\t\t\t\t// changed due to issue 48 - 10  july 2018\r\n\t\t\t\t\t\"LIMIT\": (element_item.Limit) ? element_item.Limit : \"0.000\",\r\n\t\t\t\t\t\"EXP_VALUE\": (element_item.Limit) ? element_item.Limit : \"0.000\",\r\n\t\t\t\t\t\"BASE_UOM\": (element_item.BaseUom) ? element_item.BaseUom : element_item.PoUnit,\r\n\r\n\t\t\t\t\t// changed to make it decimal number with 3 digits after decimal - 3  july 2018\r\n\t\t\t\t\t//\"GR_PRICE\"\t\t: element_item.NetPrice ,\r\n\t\t\t\t\t\"GR_PRICE\": parseFloat(element_item.NetPrice).toFixed(3),\r\n\t\t\t\t\t\"SERIAL_NO\": element_item.SerialNo,\r\n\r\n\t\t\t\t\t\"NAME\": element_item.Name,\r\n\t\t\t\t\t\"CITY\": element_item.City,\r\n\t\t\t\t\t\"REGION\": element_item.Region,\r\n\t\t\t\t\t\"POSTL_COD1\": element_item.PostlCod1,\r\n\t\t\t\t\t\"STREET\": element_item.Street,\r\n\t\t\t\t\t\"STREET_NO\": element_item.StreetNo,\r\n\t\t\t\t\t\"COUNTRY\": element_item.Country,\r\n\t\t\t\t\t// changed to make it decimal number with 3 digits after decimal - 9  july 2018\r\n\t\t\t\t\t//\"CUSTOMER\"\t\t: element_item.Customer,\r\n\t\t\t\t\t\"CUSTOMER\": (element_item.Customer) ? (element_item.Customer) : (\"\"),\r\n\r\n\t\t\t\t\t\"NO_MORE_GR\": (AppInstance.lastSelected_POAction === \"PO_ACTION__EDIT\") ? (element_item.Delivcompleted === true ? \"X\" : \"\") : \"\",\r\n\t\t\t\t\t\"FINAL_INV\": \"\",\r\n\t\t\t\t\t\"PART_INV\": \"\",\r\n\t\t\t\t\t\"GR_IND\": \"\",\r\n\t\t\t\t\t\"GR_NON_VAL\": \"\",\r\n\t\t\t\t\t\"IR_IND\": \"\",\r\n\t\t\t\t\t\"FREE_ITEM\": \"\",\r\n\t\t\t\t\t\"GR_BASEDIV\": \"\",\r\n\t\t\t\t\t\"RET_ITEM\": \"\",\r\n\r\n\t\t\t\t\t\"ACTION\": \"\",\r\n\t\t\t\t\t//\"INPUT1\"\t\t: element_item.Input1,\r\n\t\t\t\t\t// Issue 48\r\n\t\t\t\t\t/*If doc type is NB2F or NB2Z or N2ZD you should call it still with NB2. NB2F and NB2Z and N2ZD exists only in Fiori but not in SAP. \r\n\t\t\t\t\tAlso when we post we need to pass NB2 and not NB2F or NB2Z or N2ZD.*/\r\n\t\t\t\t\t/*\"INPUT1\"\t\t: ( element_item.Input1 ===\"NB2D\" || element_item.Input1 === \"NB2F\" || element_item.Input1 ===\"NB2Z\" || element_item.Input1 ===\"N2ZD\") ? \"NB2\" : element_item.Input1,*/\r\n\t\t\t\t\t\"INPUT1\": itemInput1,\r\n\t\t\t\t\t// Issue 48 end\r\n\r\n\t\t\t\t\t\"INPUT2\": element_item.Input2,\r\n\t\t\t\t\t\"INPUT3\": element_item.Input3,\r\n\t\t\t\t\t\"INPUT4\": element_item.Input4,\r\n\t\t\t\t\t\"INPUT5\": element_item.Input5,\r\n\t\t\t\t\t\"INPUT6\": element_item.Input6,\r\n\t\t\t\t\t\"INPUT7\": element_item.Input7,\r\n\t\t\t\t\t\"NUMERIC1\": 0,\r\n\t\t\t\t\t\"NUMERIC2\": 0,\r\n\t\t\t\t\t\"NUMERIC3\": 0,\r\n\t\t\t\t\t\"DATE1\": \"0000-00-00\",\r\n\t\t\t\t\t\"INPUT8\": element_item.Input8,\r\n\t\t\t\t\t\"INPUT9\": element_item.Input9,\r\n\t\t\t\t\t\"INPUT10\": element_item.Input10\r\n\t\t\t\t};\r\n\t\t\t\tpost_ITEMS_JSON.ITEMS.push(newItem);\r\n\r\n\t\t\t\t// Adding the content of the SubItems of this particular Item to the overall post json\r\n\t\t\t\tvar currentSubItemsJSON = JSON.parse(element_item.Zaccount);\r\n\r\n\t\t\t\tcurrentSubItemsJSON.ITEMS.forEach(function(subitem_element) {\r\n\t\t\t\t\t/*console.log(\"   checking subitem \" + subitem_element.PO_ITEM+\"/\"+subitem_element.SERIAL_NO);*/\r\n\r\n\t\t\t\t\tif (subitem_element.PO_ITEM === element_item.PoItem) {\r\n\r\n\t\t\t\t\t\tvar newSubItem = {\r\n\t\t\t\t\t\t\t\"PO_NUMBER\": (AppInstance.lastSelected_POAction === \"PO_ACTION__EDIT\") ? element_item.PO_NUMBER : \"\",\r\n\t\t\t\t\t\t\t\"PO_ITEM\": subitem_element.PO_ITEM,\r\n\t\t\t\t\t\t\t\"SERIAL_NO\": subitem_element.SERIAL_NO,\r\n\t\t\t\t\t\t\t\"QUANTITY\": isNaN(parseFloat(subitem_element.QUANTITY).toFixed(1).toString()) ? \"1\" : parseFloat(subitem_element.QUANTITY)\r\n\t\t\t\t\t\t\t\t.toFixed(1).toString(),\r\n\t\t\t\t\t\t\t\"DISTR_PERC\": parseFloat(subitem_element.DISTR_PERC).toFixed(1).toString(),\r\n\t\t\t\t\t\t\t\"NET_VALUE\": /*(element_item.Distribkey === \"0\") ? (element_item.NetPrice).toString() : */ subitem_element.NET_VALUE,\r\n\t\t\t\t\t\t\t\"COSTCENTER\": subitem_element.COSTCENTER,\r\n\t\t\t\t\t\t\t\"ASSET_NO\": subitem_element.ASSET_NO,\r\n\t\t\t\t\t\t\t\"ORDERID\": subitem_element.ORDERID,\r\n\t\t\t\t\t\t\t\"GL_ACCOUNT\": subitem_element.GL_ACCOUNT,\r\n\t\t\t\t\t\t\t\"COSTCENTERTXT\": subitem_element.COSTCENTERTXT,\r\n\t\t\t\t\t\t\t\"ASSET_NOTXT\": subitem_element.ASSET_NOTXT,\r\n\t\t\t\t\t\t\t\"GL_ACCOUNTTXT\": subitem_element.GL_ACCOUNTTXT,\r\n\t\t\t\t\t\t\t// changed to make order text empty asthe backend is not accepting certain long descriptions - 13  july 2018\r\n\t\t\t\t\t\t\t//\"ORDERIDTXT\"\t: subitem_element.ORDERIDTXT,\r\n\t\t\t\t\t\t\t\"ORDERIDTXT\": \"\",\r\n\t\t\t\t\t\t\t\"ACTION\": \"S\",\r\n\t\t\t\t\t\t\t\"INPUT1\": element_item.Distribkey,\r\n\t\t\t\t\t\t\t\"INPUT2\": AppInstance.formatDateForSAP(element_item.DeliveryDate),\r\n\t\t\t\t\t\t\t\"INPUT3\": subitem_element.INPUT3,\r\n\t\t\t\t\t\t\t\"INPUT4\": subitem_element.INPUT4,\r\n\t\t\t\t\t\t\t\"INPUT5\": subitem_element.INPUT5,\r\n\t\t\t\t\t\t\t\"INPUT6\": subitem_element.INPUT6,\r\n\t\t\t\t\t\t\t\"INPUT7\": subitem_element.INPUT7,\r\n\t\t\t\t\t\t\t\"INPUT8\": subitem_element.INPUT8,\r\n\t\t\t\t\t\t\t\"INPUT9\": subitem_element.INPUT9,\r\n\t\t\t\t\t\t\t\"INPUT10\": subitem_element.INPUT10,\r\n\t\t\t\t\t\t\t\"NUMERIC1\": 0.00,\r\n\t\t\t\t\t\t\t\"NUMERIC2\": 0.00,\r\n\t\t\t\t\t\t\t\"NUMERIC3\": 0.00\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tpost_SUBITEMS_JSON.ITEMS.push(newSubItem);\r\n\t\t\t\t\t\t/*console.log(\"before Post SubItems quantity:\"+ subitem_element.QUANTITY);\r\n\t\t\t\t\t\tconsole.log(\"Post SubItems quantity:\"+ newSubItem.QUANTITY);*/\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(\"THIS IS THE ITEMS STRING THAT WILL BE POSTED\");\r\n\t\t\tconsole.log(post_ITEMS_JSON);\r\n\r\n\t\t\tif (AppInstance.lastSelected_POAction === \"PO_ACTION__EDIT\") {\r\n\t\t\t\tpost_ALLCONTENT_JSON.PoNumber = AppInstance.CurrentMODEL_Header.getProperty(\"/PoNumber\");\r\n\t\t\t} else {\r\n\t\t\t\tpost_ALLCONTENT_JSON.PoNumber = \"\";\r\n\t\t\t}\r\n\t\t\tpost_ALLCONTENT_JSON.PoItem = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON.Vendor = AppInstance.CurrentMODEL_Header.getProperty(\"/Vendor\");\r\n\t\t\tpost_ALLCONTENT_JSON\r\n\t\t\t\t.Vendorname = \"\";\r\n\t\t\t// Issue 48\r\n\t\t\t/*If doc type is NB2F or NB2Z or N2ZD you should call it still with NB2. NB2F and NB2Z and N2ZD exists only in Fiori but not in SAP. \r\n\t\t\tAlso when we post we need to pass NB2 and not NB2F or NB2Z or N2ZD.\r\n\t\t\tIf doc type is NB3Z or NB3 , you should call it NB3 , and while posting it should be NB3 */\r\n\t\t\t/*post_ALLCONTENT_JSON.DocType = (AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\") === \"NB2D\") ? \"NB2\" : AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\") ;*/\r\n\t\t\tvar docType = AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\");\r\n\t\t\tif (docType === \"NB2D\" || docType === \"NB2F\" || docType === \"NB2Z\" || docType === \"N2ZD\") {\r\n\t\t\t\tpost_ALLCONTENT_JSON.DocType = \"NB2\";\r\n\t\t\t} else {\r\n\t\t\t\tif (docType === \"NB3Z\" || docType === \"NB3\") {\r\n\t\t\t\t\tpost_ALLCONTENT_JSON.DocType = \"NB3\";\r\n\t\t\t\t} else\r\n\t\t\t\t\tpost_ALLCONTENT_JSON.DocType = docType;\r\n\t\t\t}\r\n\t\t\t// Issue 48 end\r\n\t\t\tpost_ALLCONTENT_JSON.DocTypetxt = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON.CompCode = AppInstance.CurrentMODEL_Header.getProperty(\"/CompCode\");\r\n\t\t\tpost_ALLCONTENT_JSON\r\n\t\t\t\t.CompCodetxt = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON.PurchOrg = AppInstance.CurrentMODEL_Header.getProperty(\"/PurchOrg\");\r\n\t\t\tpost_ALLCONTENT_JSON\r\n\t\t\t\t.PurchOrgtxt = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON.Currency = AppInstance.CurrentMODEL_Header.getProperty(\"/Currency\");\r\n\t\t\tpost_ALLCONTENT_JSON\r\n\t\t\t\t.Pmnttrms = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON.Pmnttrmstxt = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON.PurGroup = AppInstance.CurrentMODEL_Header.getProperty(\r\n\t\t\t\t\"/PurGroup\");\r\n\t\t\tpost_ALLCONTENT_JSON.PurGrouptxt = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON.PreqName = AppInstance.CurrentMODEL_Header.getProperty(\r\n\t\t\t\t\"/PreqName\");\r\n\t\t\tpost_ALLCONTENT_JSON.PreqNametxt = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON.Customer = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON.CustomerName = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON\r\n\t\t\t\t.AddrNo = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON.EMail = AppInstance.CurrentMODEL_Header.getProperty(\"/EMail\");\r\n\t\t\tpost_ALLCONTENT_JSON.CreatedBy =\r\n\t\t\t\t\"\";\r\n\t\t\tpost_ALLCONTENT_JSON.TotalValue = \"0.0\";\r\n\t\t\tpost_ALLCONTENT_JSON.ContrArea = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON.Testrun = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON\r\n\t\t\t\t.Ponumber = \"\";\r\n\r\n\t\t\tif (this.getView().byId(\"boxRrevRej\").getSelected()) {\r\n\t\t\t\tpost_ALLCONTENT_JSON.Input1 = \"08\";\r\n\t\t\t} else {\r\n\t\t\t\tpost_ALLCONTENT_JSON.Input1 = \"\";\r\n\t\t\t}\r\n\t\t\t/*post_ALLCONTENT_JSON.Input1 = \"\" ;*/\r\n\t\t\t/*following line changed due to addition of Header Text field in header 7 feb 2018*/\r\n\t\t\t/*post_ALLCONTENT_JSON.Input2 = \"\";*/\r\n\t\t\tpost_ALLCONTENT_JSON.Input2 = this.getView().byId(\"HeaderText\").getValue();\r\n\t\t\tpost_ALLCONTENT_JSON.Input3 = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON\r\n\t\t\t\t.Input4 = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON.Input5 = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON.Input6 = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON.Input7 = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON\r\n\t\t\t\t.Date1 = \"2017-08-04T14:30:45\";\r\n\t\t\tpost_ALLCONTENT_JSON.Numeric1 = \"0.0\";\r\n\t\t\tpost_ALLCONTENT_JSON.Numeric2 = \"0.0\";\r\n\t\t\tpost_ALLCONTENT_JSON\r\n\t\t\t\t.Numeric3 = \"0.0\";\r\n\t\t\tpost_ALLCONTENT_JSON.Action = action_char;\r\n\t\t\tpost_ALLCONTENT_JSON.ZtitemsStr = JSON.stringify(post_ITEMS_JSON);\r\n\t\t\tpost_ALLCONTENT_JSON\r\n\t\t\t\t.ZtaccountsStr = JSON.stringify(post_SUBITEMS_JSON);\r\n\t\t\tpost_ALLCONTENT_JSON.ZtreturnStr = \"\";\r\n\t\t\tpost_ALLCONTENT_JSON.Ztstring_str = JSON.stringify(post_ITEMSTEXT_JSON_UPDATED);\r\n\r\n\t\t\t// ... done.\r\n\r\n\t\t\tconsole.log(\"Calling POST using following payload ...\");\r\n\t\t\tconsole.log(post_ALLCONTENT_JSON);\r\n\r\n\t\t\tvar validationResult = AppInstance.validateDataBeforePOST();\r\n\r\n\t\t\tthis.byId(\"inputDocumentType\").setValueState(sap.ui.core.ValueState.None);\r\n\t\t\tthis.byId(\"inputCompanyCode\").setValueState(sap.ui.core.ValueState.None);\r\n\t\t\tthis.byId(\"inputPurchasingOrganization\").setValueState(sap.ui.core.ValueState.None);\r\n\t\t\tthis.byId(\"inputSupplier\").setValueState(sap.ui.core.ValueState.None);\r\n\t\t\tthis.byId(\"inputPurchasingGroup\").setValueState(sap.ui.core.ValueState.None);\r\n\t\t\tthis.byId(\"inputCurrency\").setValueState(sap.ui.core.ValueState.None);\r\n\t\t\tthis.byId(\"inputRequisitioner\").setValueState(sap.ui.core.ValueState.None);\r\n\t\t\tthis.byId(\"inputEmail\").setValueState(sap.ui.core.ValueState.None);\r\n\r\n\t\t\tif (validationResult > 0) {\r\n\t\t\t\tif (validationResult === 1) {\r\n\r\n\t\t\t\t\tvar missingFields = \"\";\r\n\t\t\t\t\tif (this.byId(\"inputDocumentType\").getValue() === \"\") {\r\n\t\t\t\t\t\tmissingFields = missingFields + \"\\nDocument Type Missing\";\r\n\t\t\t\t\t\tthis.byId(\"inputDocumentType\").setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.byId(\"inputCompanyCode\").getValue() === \"\") {\r\n\t\t\t\t\t\tmissingFields = missingFields + \"\\nCompany Code Missing\";\r\n\t\t\t\t\t\tthis.byId(\"inputCompanyCode\").setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.byId(\"inputPurchasingOrganization\").getValue() === \"\") {\r\n\t\t\t\t\t\tmissingFields = missingFields + \"\\nPurchase Organisation Missing\";\r\n\t\t\t\t\t\tthis.byId(\"inputPurchasingOrganization\").setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.byId(\"inputSupplier\").getValue() === \"\") {\r\n\t\t\t\t\t\tmissingFields = missingFields + \"\\nVendor Missing\";\r\n\t\t\t\t\t\tthis.byId(\"inputSupplier\").setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.byId(\"inputPurchasingGroup\").getValue() === \"\") {\r\n\t\t\t\t\t\tmissingFields = missingFields + \"\\nPurchase Group Missing\";\r\n\t\t\t\t\t\tthis.byId(\"inputPurchasingGroup\").setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.byId(\"inputCurrency\").getValue() === \"\") {\r\n\t\t\t\t\t\tmissingFields = missingFields + \"\\nCurrency Missing\";\r\n\t\t\t\t\t\tthis.byId(\"inputCurrency\").setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.byId(\"inputRequisitioner\").getValue() === \"\") {\r\n\t\t\t\t\t\tmissingFields = missingFields + \"\\nRequisitioner Name Missing\";\r\n\t\t\t\t\t\tthis.byId(\"inputRequisitioner\").setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.byId(\"inputEmail\").getValue() === \"\") {\r\n\t\t\t\t\t\tmissingFields = missingFields + \"\\nEmail Missing\";\r\n\t\t\t\t\t\tthis.byId(\"inputEmail\").setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (missingFields === \"\") {\r\n\t\t\t\t\t\tmissingFields = \"Please re-select some header data, as it is not properly selected or copied.\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(\"************\" + missingFields);\r\n\r\n\t\t\t\t\tAppInstance.displayValidationMessageToast(missingFields);\r\n\t\t\t\t\t//\tAppInstance.displayValidationMessageToast(\"Missing header information or incorrect email\");\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tAppInstance.displayValidationMessageToast(\"Please fill in all the highlighted missing fields information in the items table\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsap.ui.core.BusyIndicator.show();\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"model__post_po\").create(\"/ZPOPOSTSet\", post_ALLCONTENT_JSON, {\r\n\t\t\t\t\tasync: false,\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\r\n\t\t\t\t\t\tvar _message = \"Operation executed with following result\\n\\n\";\r\n\t\t\t\t\t\t// following if added for issue 38 - feb 2018\r\n\t\t\t\t\t\tif ((AppInstance.lastSelected_POAction === \"PO_ACTION__NEW\") || (AppInstance.lastSelected_POAction === \"PO_ACTION__COPY\")) {\r\n\t\t\t\t\t\t\t// Issue 48 start\r\n\t\t\t\t\t\t\t/*If PO doc type contains NB2 or NB2X should be the text of NB2 of po doc type is NB3X should be the text from NB3. NB3 we have only 2: NB3 and NB3Z.*/\r\n\t\t\t\t\t\t\tvar headerDocType = AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\");\r\n\t\t\t\t\t\t\t/*if((AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\") == \"NB2\") || (AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\") == \"NB2D\")){*/\r\n\t\t\t\t\t\t\tif (headerDocType === \"NB2\" || headerDocType === \"NB2D\" || headerDocType === \"NB2Z\" || headerDocType === \"N2ZD\" ||\r\n\t\t\t\t\t\t\t\theaderDocType === \"NB2F\") {\r\n\t\t\t\t\t\t\t\t_message =\r\n\t\t\t\t\t\t\t\t\t\"For Normal & Service POs - PDF of PO,including Terms and Conditions must be forwarded to vendor at time of order. \\n \\n Operation executed with following result\\n \";\r\n\t\t\t\t\t\t\t\t/*}else if(AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\") == \"NB3\"){*/\r\n\t\t\t\t\t\t\t} else if (headerDocType === \"NB3\" || headerDocType === \"NB3Z\") {\r\n\t\t\t\t\t\t\t\t_message =\r\n\t\t\t\t\t\t\t\t\t\"For Blanket PO - PO Number (without Terms & Conditions) can be forwarded to vendor at time of order. \\n \\n Operation executed with following result\\n \";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// Issue 48 end\r\n\t\t\t\t\t\t\t//removed \"Policy compliance  Order is valid once approved. \\n\" from above lines from _message\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (oData.ZtreturnStr !== \"\")\r\n\t\t\t\t\t\t\tJSON.parse(oData.ZtreturnStr).ITEMS.forEach(function(element, index) {\r\n\r\n\t\t\t\t\t\t\t\t//Start of Issue74 - hiding PO number display as 47XXXXXXXX from the message received during submit po scenario.\r\n\t\t\t\t\t\t\t\t//added index parameter to forEach function above along with element.\r\n\t\t\t\t\t\t\t\tvar hidePO = \"\";\r\n\r\n\t\t\t\t\t\t\t\t//PO Number Hidden is only durin Submit, hence checking if it is for new PO and PO Number is in firstline of the message.\r\n\t\t\t\t\t\t\t\tif (action_char === 'P' && index === 0) {\r\n\r\n\t\t\t\t\t\t\t\t\thidePO = element.MESSAGE.replace(/[0-9]/g, \"\");\r\n\r\n\t\t\t\t\t\t\t\t\tvar splittedMessage = element.MESSAGE.split(\" \");\r\n\t\t\t\t\t\t\t\t\tvar poNumber = \"\";\r\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < splittedMessage.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\tif (!isNaN(splittedMessage[i]))\r\n\t\t\t\t\t\t\t\t\t\t\tpoNumber = splittedMessage[i];\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tvar firstTwoDigits = poNumber.slice(0, 2);\r\n\r\n\t\t\t\t\t\t\t\t\tfor (var j = 2; j < poNumber.length; j++) {\r\n\t\t\t\t\t\t\t\t\t\tfirstTwoDigits += \"X\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"Splitted Message\" + splittedMessage);\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"PO Number\" + poNumber + \" Marked number:\" + firstTwoDigits);\r\n\r\n\t\t\t\t\t\t\t\t\thidePO += firstTwoDigits;\r\n\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\thidePO = element.MESSAGE;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t_message += \"\\n\" + element.TYPE + \" / \" + element.ID + \" / \" + element.NUMBER + \" / \" + hidePO;\r\n\r\n\t\t\t\t\t\t\t\t// end of Issue 74\r\n\t\t\t\t\t\t\t\t//commented below line   \t\r\n\t\t\t\t\t\t\t\t//\t_message += \"\\n\"+element.TYPE+\" / \"+element.ID+\" / \"+element.NUMBER+\" / \"+element.MESSAGE ;\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tsap.ui.core.BusyIndicator.hide();\r\n\t\t\t\t\t\t/* This code is commented to replace messagebox with dialog box inorder to make the firstline in the message as bold\r\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t(_message), {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.INFORMATION,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"Result\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((AppInstance.lastSelected_POAction === \"PO_ACTION__NEW\") || (AppInstance.lastSelected_POAction === \"PO_ACTION__COPY\"))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (oData.Ponumber)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (oData.Ponumber !== \"\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAppInstance.navBack();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Parse response string here in order to determine if it was an error or not\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t*/\r\n\r\n\t\t\t\t\t\tvar dialog = new sap.m.Dialog({\r\n\t\t\t\t\t\t\ttitle: \"Result\",\r\n\t\t\t\t\t\t\ttype: \"Message\",\r\n\t\t\t\t\t\t\ticon: \"sap-icon://hint\",\r\n\t\t\t\t\t\t\tcontent: [new sap.m.FormattedText({\r\n\t\t\t\t\t\t\t\t\thtmlText: \"<strong>Policy compliance  Order is valid once approved.<strong>\"\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\t\t\ttext: _message\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tbeginButton: new sap.m.Button({\r\n\t\t\t\t\t\t\t\ttext: \"OK\",\r\n\t\t\t\t\t\t\t\tpress: function() {\r\n\t\t\t\t\t\t\t\t\tdialog.close();\r\n\r\n\t\t\t\t\t\t\t\t\tif ((AppInstance.lastSelected_POAction === \"PO_ACTION__NEW\") || (AppInstance.lastSelected_POAction ===\r\n\t\t\t\t\t\t\t\t\t\t\t\"PO_ACTION__COPY\"))\r\n\t\t\t\t\t\t\t\t\t\tif (oData.Ponumber)\r\n\t\t\t\t\t\t\t\t\t\t\tif (oData.Ponumber !== \"\")\r\n\t\t\t\t\t\t\t\t\t\t\t\tAppInstance.navBack();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tafterClose: function() {\r\n\t\t\t\t\t\t\t\tdialog.destroy();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tdialog.open();\r\n\t\t\t\t\t\t//new code ends here\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\r\n\t\t\t\t\t\tsap.ui.core.BusyIndicator.hide();\r\n\t\t\t\t\t\tconsole.log(oError);\r\n\t\t\t\t\t\tvar _message = \"\";\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (oData.ZtreturnStr !== \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    var errorJSON = JSON.parse(oData.ZtreturnStr) ;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    errorJSON.ITEMS.forEach(function(element){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \t_message += \"\\n\"+element.TYPE+\" / \"+element.ID+\" / \"+element.NUMBER+\" / \"+element.MESSAGE ;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    */\r\n\t\t\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t(\"Could not create Purchase Order \\n\\n\" + _message), {\r\n\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.ERROR,\r\n\t\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t\t\t\t/* do something */\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// UPDATE : sap.ui.getCore().AppContext.modelPOPOST.create(\"/ZPOPOSTSet(unique_id__keys ... 'col1'='val1' .... )\",testPayload,{\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tbutton_pressed_Items_Delete: function(oEvent) {\r\n\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tif ((this.getOwnerComponent().AppInstance.lastSelected_POAction === \"PO_ACTION__EDIT\") && (parseInt(this.getOwnerComponent().AppInstance\r\n\t\t\t\t\t.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/PoItem\")) <= parseInt(AppInstance.lastFetchedItemIndexInCurrentPO_POItem))) {\r\n\t\t\t\tif (this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/DeleteInd\") === \"L\") {\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/DeleteInd\", \"\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/DeleteInd\", \"L\");\r\n\t\t\t\t}\r\n\t\t\t\t//this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\tthis.reCalculateItemAndPOValues(rowIndex);\r\n\t\t\t} else {\r\n\t\t\t\tvar jsonContent = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData();\r\n\t\t\t\tjsonContent.results.splice(rowIndex, 1);\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setData(jsonContent);\r\n\t\t\t\t//this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\tthis.reCalculateItemAndPOValues(rowIndex);\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.tablePOItems.setVisibleRowCount(this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData()\r\n\t\t\t\t\t.results.length);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbutton_pressed_SubItems_Delete: function(oEvent) {\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar jsonContent = this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.getData();\r\n\t\t\tjsonContent.splice(rowIndex, 1);\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.setData(jsonContent);\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.refresh(true);\r\n\t\t\tthis.getOwnerComponent().AppInstance.tablePOSubItems.setVisibleRowCount(this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems\r\n\t\t\t\t.getData()\r\n\t\t\t\t.length);\r\n\t\t},\r\n\r\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n\r\n\t\topenItemHistoryDialog: function(oEvent) {\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__transfer_po\").read(\"/ZtpohistorySet\", {\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"Ebeln\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Items.getProperty(\r\n\t\t\t\t\t\t\"/results/\" + rowIndex + \"/PoNumber\")),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Ebelp\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" +\r\n\t\t\t\t\t\trowIndex + \"/PoItem\")),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Belnr\", sap.ui.model.FilterOperator.EQ, \"\")\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tAppInstance.CurrentMODEL_ItemHistory = new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\tAppInstance.CurrentMODEL_ItemHistory.setData(oData);\r\n\t\t\t\t\tAppInstance.tableItemHistory.setModel(AppInstance.CurrentMODEL_ItemHistory);\r\n\t\t\t\t\tAppInstance.tableItemHistory.setVisibleRowCount(oData.results.length);\r\n\t\t\t\t\tAppInstance.dialogItemHistory.open();\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n\t\topenDistributionManagementDialog: function(oEvent) {\r\n\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tthis.getOwnerComponent().AppInstance.lastSelected_ItemRowIndex = rowIndex;\r\n\r\n\t\t\tvar selectedItemAccountJSON = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex +\r\n\t\t\t\t\"/Zaccount\");\r\n\t\t\tvar selectedPoItem = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/PoItem\");\r\n\t\t\tif (!selectedPoItem)\r\n\t\t\t\tselectedPoItem = \"00010\";\r\n\r\n\t\t\tthis.getOwnerComponent().AppInstance.lastSelected_POItem = selectedPoItem;\r\n\t\t\tvar selectedDistribution = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex +\r\n\t\t\t\t\"/Distribkey\");\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems_MaxDistrib_Quantity = parseFloat(this.getOwnerComponent().AppInstance.CurrentMODEL_Items\r\n\t\t\t\t.getProperty(\"/results/\" + rowIndex + \"/Quantity\"));\r\n\r\n\t\t\tvar selectedDistribution_Quantity = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex +\r\n\t\t\t\t\"/Quantity\");\r\n\r\n\t\t\tthis.getOwnerComponent().AppInstance.selectedDistribution = selectedDistribution;\r\n\r\n\t\t\tif (selectedDistribution !== \"0\") {\r\n\t\t\t\tif (!((selectedDistribution_Quantity === undefined) || (selectedDistribution_Quantity === null) || (\r\n\t\t\t\t\t\tselectedDistribution_Quantity ===\r\n\t\t\t\t\t\t\"\"))) {\r\n\t\t\t\t\tif (selectedDistribution === \"1\") {\r\n\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.selectedDistributionIsQuantity = true;\r\n\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.selectedDistributionIsPercentage = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.selectedDistributionIsQuantity = false;\r\n\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.selectedDistributionIsPercentage = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Getting the SubItems as a JSON string from the selected Item structure\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems = new sap.ui.model.json.JSONModel(selectedItemAccountJSON);\r\n\r\n\t\t\t\t\tvar jsonContent = JSON.parse(selectedItemAccountJSON);\r\n\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems_Entries_ALL = [];\r\n\t\t\t\t\t// Splitting the contents of the SubItems array into the elements that pertain to the selected PO_ITEM\r\n\t\t\t\t\t// ( that should be processed in the dialog ) ...\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems_Entries_InsideDistribution = [];\r\n\t\t\t\t\t// ... and the elements that do not belong to that specific PO_ITEM\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems_Entries_OutsideDistribution = [];\r\n\t\t\t\t\t// This splitting is done in order to process the relevant data separately\r\n\t\t\t\t\t// and afterwards rebinding the two arrays together into the initial\r\n\t\t\t\t\t// JSON string content that will be set itot the Items model\r\n\t\t\t\t\tvar _this = this;\r\n\t\t\t\t\tjsonContent.ITEMS.forEach(function(element) {\r\n\r\n\t\t\t\t\t\tif (element.PO_ITEM === selectedPoItem) {\r\n\r\n\t\t\t\t\t\t\t//element.GL_ACCOUNT = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/GlAccount\") ;\r\n\t\t\t\t\t\t\t//element.GL_ACCOUNTTXT = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/GlAccounttxt\") ;\r\n\r\n\t\t\t\t\t\t\t//element.COSTCENTER = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/Costcenter\") ;\r\n\t\t\t\t\t\t\t//element.COSTCENTERTXT = this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/Costcentertxt\") ;\r\n\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems_Entries_InsideDistribution.push(element);\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems_Entries_OutsideDistribution.push(element);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// Splitting done\r\n\r\n\t\t\t\t\t// Setting up the model and bindings on the SubItems dialog\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.setData(JSON.parse(JSON.stringify(this.getOwnerComponent().AppInstance\r\n\t\t\t\t\t\t.CurrentMODEL_SubItems_Entries_InsideDistribution)));\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.tablePOSubItems.setModel(this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.tablePOSubItems.bindRows({\r\n\t\t\t\t\t\tpath: \"/\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.tablePOSubItems.setVisibleRowCount(this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems\r\n\t\t\t\t\t\t.getData().length);\r\n\t\t\t\t\t// Popping up the SubItems dialog\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.dialogSubItems.open();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t(\"Cannot open multiple selection until total quantity for selected item has been specified\"), {\r\n\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.INFORMATION,\r\n\t\t\t\t\t\t\ttitle: \"Information\",\r\n\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\t\tonClose: function(oAction) {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t(\"Cannot open multiple selection on Single Account\"), {\r\n\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.INFORMATION,\r\n\t\t\t\t\t\ttitle: \"Information\",\r\n\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\tonClose: function(oAction) {}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcloseDistributionManagementDialog_Cancel: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.dialogSubItems.close();\r\n\t\t},\r\n\r\n\t\tcloseItemHistoryDialog: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.dialogItemHistory.close();\r\n\t\t},\r\n\r\n\t\tcloseDistributionManagementDialog_Save: function(oEvent) {\r\n\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\r\n\t\t\tvar can_close = true;\r\n\r\n\t\t\tvar itemsData = this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.getData();\r\n\t\t\tvar totalQuantity = 0.0;\r\n\t\t\tvar totalPercentage = 0.0;\r\n\r\n\t\t\titemsData.forEach(function(element) {\r\n\t\t\t\ttotalQuantity += parseFloat(element.QUANTITY);\r\n\t\t\t\ttotalPercentage += parseFloat(element.DISTR_PERC);\r\n\t\t\t});\r\n\r\n\t\t\tif (totalQuantity !== this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems_MaxDistrib_Quantity) {\r\n\t\t\t\tthis.AppInstance.displayMessage(\"Total subitems summed quantity must be equal\\nto the overall item quantity : \" + this.getOwnerComponent()\r\n\t\t\t\t\t.AppInstance.CurrentMODEL_SubItems_MaxDistrib_Quantity);\r\n\t\t\t\tcan_close = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (totalPercentage > this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems_MaxDistrib_Percentage) {\r\n\t\t\t\tthis.AppInstance.displayMessage(\"Total percentage exceeds 100%\");\r\n\t\t\t\tcan_close = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (can_close) {\r\n\r\n\t\t\t\t// First , get data back from the modified JSON SubItems model into the array\r\n\t\t\t\tvar __SubItemsData = this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.getData();\r\n\r\n\t\t\t\tif (__SubItemsData.length <= 1) {\r\n\t\t\t\t\tthis.AppInstance.displayMessage(\r\n\t\t\t\t\t\t\"Less than two distribution entries. Item distribution will automatically be switched to Single.\");\r\n\r\n\t\t\t\t\tvar rowIndex = this.getOwnerComponent().AppInstance.lastSelected_ItemRowIndex;\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Distribkey\", \"0\");\r\n\r\n\t\t\t\t\t__SubItemsData =\r\n\t\t\t\t\t\t\"[{ \\\"PO_NUMBER\\\":\\\"\\\",\\\"PO_ITEM\\\":\\\"\" +\r\n\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/PoItem\") +\r\n\t\t\t\t\t\t\"\\\",\\\"SERIAL_NO\\\":\\\"01\\\",\\\"QUANTITY\\\":\\\"\" +\r\n\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Quantity\") +\r\n\t\t\t\t\t\t\"\\\",\\\"DISTR_PERC\\\":\\\"0.0\\\",\\\"NET_VALUE\\\":\\\"\" +\r\n\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/NetPrice\") +\r\n\t\t\t\t\t\t\"\\\",\\\"COSTCENTER\\\":\\\"\" +\r\n\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Costcenter\") +\r\n\t\t\t\t\t\t\"\\\",\\\"ASSET_NO\\\":\\\"\\\",\\\"ORDERID\\\":\\\"\\\",\\\"GL_ACCOUNT\\\":\\\"\" +\r\n\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/GlAccount\") +\r\n\t\t\t\t\t\t\"\\\",\\\"COSTCENTERTXT\\\":\\\"\" +\r\n\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Costcentertxt\") +\r\n\t\t\t\t\t\t\"\\\",\\\"ASSET_NOTXT\\\":\\\"\\\",\\\"GL_ACCOUNTTXT\\\":\\\"\" +\r\n\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/GlAccounttxt\") +\r\n\t\t\t\t\t\t\"\\\",\\\"ORDERIDTXT\\\":\\\"\\\",\\\"ACTION\\\":\\\"\\\",\\\"INPUT1\\\":\\\"\\\",\\\"INPUT2\\\":\\\"\\\",\\\"INPUT3\\\":\\\"\\\",\\\"INPUT4\\\":\\\"\\\",\\\"INPUT5\\\":\\\"\\\",\\\"INPUT6\\\":\\\"\\\",\\\"INPUT7\\\":\\\"\\\",\\\"INPUT8\\\":\\\"\\\",\\\"INPUT9\\\":\\\"\\\",\\\"INPUT10\\\":\\\"\\\",\\\"NUMERIC1\\\":\\\"0.0\\\",\\\"NUMERIC2\\\":\\\"0.0\\\",\\\"NUMERIC3\\\":\\\"0.0\\\"}]\";\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t__SubItemsData.forEach(function(subElement) {\r\n\t\t\t\t\tsubElement.INPUT1 = AppInstance.selectedDistribution;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconsole.log(\"SubItems data here :\");\r\n\t\t\t\tconsole.log(__SubItemsData);\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems_Entries_InsideDistribution = __SubItemsData;\r\n\r\n\t\t\t\t// Concatenate the items in the dialog with the rest of items that were not coresponding to thte specific PO_ITEM\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems_Entries_ALL =\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems_Entries_InsideDistribution.concat(\r\n\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems_Entries_OutsideDistribution\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t// Save the concatenation back to the Item\r\n\t\t\t\tvar _to_write_back_to_item = \"{ \\\"ITEMS\\\" : \" + JSON.stringify(this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems_Entries_ALL) +\r\n\t\t\t\t\t\" }\";\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + this.getOwnerComponent().AppInstance.lastSelected_ItemRowIndex +\r\n\t\t\t\t\t\"/Zaccount\", _to_write_back_to_item);\r\n\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\t\tconsole.log(\"To write back to Item :\");\r\n\t\t\t\tconsole.log(_to_write_back_to_item);\r\n\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.dialogSubItems.close();\r\n\t\t\t}\r\n\t\t},\r\n\t\t// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\r\n\r\n\t\tfn_SubItems_Quantity_Change: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/QUANTITY\", oEvent.getParameters().newValue);\r\n\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/DISTR_PERC\",\r\n\t\t\t\t(parseFloat(oEvent.getParameters().newValue) * 100 / this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems_MaxDistrib_Quantity)\r\n\t\t\t\t.toFixed(2));\r\n\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.refresh(true);\r\n\t\t},\r\n\r\n\t\tfn_SubItems_Percentage_Change: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/DISTR_PERC\", oEvent.getParameters().newValue);\r\n\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/QUANTITY\",\r\n\t\t\t\t(parseFloat(oEvent.getParameters().newValue) * this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems_MaxDistrib_Quantity /\r\n\t\t\t\t\t100).toFixed(2));\r\n\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.refresh(true);\r\n\t\t},\r\n\r\n\t\t// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\t\t// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\t\t// ON FOCUS OUT HANDLERS\r\n\t\t// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\t\t// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\r\n\t\t/*\r\n\t\t\t\t\t\t\t\t            path:\"/ZtgetcostcenterSet\",\r\n\t\t\t\t\t\t\t\t            filters : [ new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\"),\r\n\t\t\t\t\t\t\t\t            \t\t\tnew sap.ui.model.Filter(\"Bukrs\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/CompCode\")) ],\r\n\t\t\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t\t\t              \ttitle: \"{Costcenter} {Costcentertxt}\",\r\n\t\t\t\t\t\t\t\t              \tkey : \"{Costcenter}\"\r\n\r\n\r\n\t\t*/\r\n\t\t// Issue 48 start for order field\r\n\t\tfn_focusout__ItemsOrder: function(oEvent) {\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar newValue = oEvent.getParameters().newValue;\r\n\t\t\tvar sourceInput = oEvent.getSource();\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\r\n\t\t\tvar oldKey = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Orderid\");\r\n\t\t\tvar oldValue = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Orderidxt\");\r\n\r\n\t\t\tsourceInput.setBusyIndicatorDelay(0);\r\n\t\t\tsourceInput.setBusy(true);\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetorderSet\", {\r\n\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Header.getProperty(\"/CompCode\")),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Kokrs\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Header.getProperty(\"/ContrArea\")),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Acctasscat\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Items.getData().results[\r\n\t\t\t\t\t\trowIndex].Acctasscat),\r\n\t\t\t\t\t// Issue 48\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Orderidtxt\", sap.ui.model.FilterOperator.Contains, newValue),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Orderid\", sap.ui.model.FilterOperator.Contains, newValue)\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tif (oData.results.length > 0) {\r\n\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Orderid\", oData.results[0].Orderid);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Orderidtxt\", oData.results[0].Orderidtxt);\r\n\r\n\t\t\t\t\t\t// Update the Single Account Distribution content\t                            \t\r\n\t\t\t\t\t\tif (AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Distribkey\").toString() === \"0\") {\r\n\t\t\t\t\t\t\tvar zAccStr = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Zaccount\");\r\n\t\t\t\t\t\t\tvar tempJSON = JSON.parse(zAccStr);\r\n\t\t\t\t\t\t\tif (tempJSON.ITEMS.length === 1) {\r\n\t\t\t\t\t\t\t\ttempJSON.ITEMS[0].ORDERID = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Orderid\");\r\n\t\t\t\t\t\t\t\ttempJSON.ITEMS[0].ORDERIDTXT = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Orderidtxt\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttempJSON.ITEMS[rowIndex].ORDERID = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Orderid\");\r\n\t\t\t\t\t\t\t\ttempJSON.ITEMS[rowIndex].ORDERIDTXT = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Orderidtxt\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Zaccount\", JSON.stringify(tempJSON));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Orderid\", oldKey);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Orderidtxt\", oldValue);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsourceInput.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// Issue 48 end\r\n\r\n\t\tfn_focusout__CostCenter: function(oEvent) {\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar newValue = oEvent.getParameters().newValue;\r\n\t\t\tvar sourceInput = oEvent.getSource();\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\r\n\t\t\tvar oldKey = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Costcenter\");\r\n\t\t\tvar oldValue = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Costcentertxt\");\r\n\r\n\t\t\tsourceInput.setBusyIndicatorDelay(0);\r\n\t\t\tsourceInput.setBusy(true);\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetcostcenterSet\", {\r\n\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\"),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Bukrs\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Header.getProperty(\"/CompCode\")),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Costcentertxt\", sap.ui.model.FilterOperator.Contains, newValue),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Costcenter\", sap.ui.model.FilterOperator.Contains, newValue)\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tif (oData.results.length > 0) {\r\n\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Costcenter\", oData.results[0].Costcenter);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Costcentertxt\", oData.results[0].Costcentertxt);\r\n\r\n\t\t\t\t\t\t// Update the Single Account Distribution content\t                            \t\r\n\t\t\t\t\t\tif (AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Distribkey\").toString() === \"0\") {\r\n\t\t\t\t\t\t\tvar zAccStr = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Zaccount\");\r\n\t\t\t\t\t\t\tvar tempJSON = JSON.parse(zAccStr);\r\n\t\t\t\t\t\t\t/*following 2 lines updated due to the Cost Center field not updated apart from index 0 row. And if case is added to hadle the new row addition*/\r\n\t\t\t\t\t\t\t/*tempJSON.ITEMS[0].COSTCENTER = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/Costcenter\") ;\r\n\t\t\t\t\t\t\ttempJSON.ITEMS[0].COSTCENTERTXT = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/Costcentertxt\") ;*/\r\n\t\t\t\t\t\t\tif (tempJSON.ITEMS.length === 1) {\r\n\t\t\t\t\t\t\t\ttempJSON.ITEMS[0].COSTCENTER = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Costcenter\");\r\n\t\t\t\t\t\t\t\ttempJSON.ITEMS[0].COSTCENTERTXT = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Costcentertxt\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttempJSON.ITEMS[rowIndex].COSTCENTER = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Costcenter\");\r\n\t\t\t\t\t\t\t\ttempJSON.ITEMS[rowIndex].COSTCENTERTXT = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex +\r\n\t\t\t\t\t\t\t\t\t\"/Costcentertxt\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Zaccount\", JSON.stringify(tempJSON));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Costcenter\", oldKey);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Costcentertxt\", oldValue);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsourceInput.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tfn_focusout_GLAccount: function(oEvent) {\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar newValue = oEvent.getParameters().newValue;\r\n\t\t\tvar sourceInput = oEvent.getSource();\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\r\n\t\t\tvar oldKey = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/GlAccount\");\r\n\t\t\tvar oldValue = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/GlAccounttxt\");\r\n\r\n\t\t\tsourceInput.setBusyIndicatorDelay(0);\r\n\t\t\tsourceInput.setBusy(true);\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetglaccountSet\", {\r\n\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\"),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Bukrs\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Header.getProperty(\"/CompCode\")),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"GlAccounttxt\", sap.ui.model.FilterOperator.Contains, newValue),\r\n\t\t\t\t\t/*following line commented due to Gl Account help issue 15 Dec 2017*/\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"GlAccount\", sap.ui.model.FilterOperator.Contains, newValue)\r\n\t\t\t\t],\r\n\t\t\t\t/*new sap.ui.model.Filter(\"GlAccount\", sap.ui.model.FilterOperator.EQ, newValue)],*/\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tif (oData.results.length > 0) {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/GlAccount\", oData.results[0].GlAccount);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/GlAccounttxt\", oData.results[0].GlAccounttxt);\r\n\r\n\t\t\t\t\t\t// Update the Single Account Distribution content\t\r\n\t\t\t\t\t\tif (AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Distribkey\").toString() === \"0\") {\r\n\t\t\t\t\t\t\tvar zAccStr = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Zaccount\");\r\n\t\t\t\t\t\t\tvar tempJSON = JSON.parse(zAccStr);\r\n\t\t\t\t\t\t\t/*tempJSON.ITEMS[0].GL_ACCOUNT = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/GlAccount\") ;\r\n\t\t\t\t\t\t\ttempJSON.ITEMS[0].GL_ACCOUNTTXT = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/GlAccounttxt\") ;*/\r\n\r\n\t\t\t\t\t\t\tif (tempJSON.ITEMS.length === 1) {\r\n\t\t\t\t\t\t\t\ttempJSON.ITEMS[0].GL_ACCOUNT = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/GlAccount\");\r\n\t\t\t\t\t\t\t\ttempJSON.ITEMS[0].GL_ACCOUNTTXT = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/GlAccounttxt\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttempJSON.ITEMS[rowIndex].GL_ACCOUNT = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/GlAccount\");\r\n\t\t\t\t\t\t\t\ttempJSON.ITEMS[rowIndex].GL_ACCOUNTTXT = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex +\r\n\t\t\t\t\t\t\t\t\t\"/GlAccounttxt\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Zaccount\", JSON.stringify(tempJSON));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/GlAccount\", \"\");\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/GlAccounttxt\", \"\");\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsourceInput.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\t/*\r\n\r\n\t\t        path : \"/Ztgetpounit1Set\",\r\n\t\t        filters : [ new sap.ui.model.Filter(\"PurOrg\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/PurchOrg\")),\r\n\t\t        \t\t\tnew sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\"))],\r\n\t\t        template: new sap.m.StandardListItem({\r\n\t\t          \ttitle: \"{PoUnit} {Msehl}\",\r\n\t\t          \tkey : \"{PoUnit}\"\r\n\t\t        })\r\n\t\t      });\r\n\r\n\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t                            \t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\"+rowIndex+\"/PoUnit\",oSelectedObject.PoUnit);\r\n\t\t\t                            \t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\"+rowIndex+\"/PoUnittxt\",oSelectedObject.Msehl);\r\n\t\t\t                            \t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\t                            \t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\"+rowIndex+\"/MatlGroup\",oSelectedObject.MatlGroup);\r\n\t\t\t                            \t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\"+rowIndex+\"/MatlGrouptxt\",oSelectedObject.MatlGrouptxt);\r\n\t\t\t                            \t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t*/\r\n\r\n\t\tfn_focusout_MaterialGroup: function(oEvent) {\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar newValue = oEvent.getParameters().newValue;\r\n\t\t\tvar sourceInput = oEvent.getSource();\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\r\n\t\t\tvar oldKey = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/MatlGroup\");\r\n\t\t\tvar oldValue = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/MatlGrouptxt\");\r\n\r\n\t\t\tsourceInput.setBusyIndicatorDelay(0);\r\n\t\t\tsourceInput.setBusy(true);\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetmatlgroupSet\", {\r\n\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\"),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"MatlGrouptxt\", sap.ui.model.FilterOperator.Contains, newValue),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"MatlGroup\", sap.ui.model.FilterOperator.Contains, newValue)\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tif (oData.results.length > 0) {\r\n\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/MatlGroup\", oData.results[0].MatlGroup);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/MatlGrouptxt\", oData.results[0].MatlGrouptxt);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/MatlGroup\", \"\");\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/MatlGrouptxt\", \"\");\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsourceInput.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tfn_focusout__UM: function(oEvent) {\r\n\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar newValue = oEvent.getParameters().newValue;\r\n\t\t\tvar sourceInput = oEvent.getSource();\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\r\n\t\t\tvar oldKey = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/PoUnit\");\r\n\t\t\tvar oldValue = AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/PoUnittxt\");\r\n\r\n\t\t\tsourceInput.setBusyIndicatorDelay(0);\r\n\t\t\tsourceInput.setBusy(true);\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/Ztgetpounit1Set\", {\r\n\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"PurOrg\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Header.getProperty(\"/PurchOrg\")),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\")),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"PoUnit\", sap.ui.model.FilterOperator.Contains, newValue),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Msehl\", sap.ui.model.FilterOperator.Contains, newValue)\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tif (oData.results.length > 0) {\r\n\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/PoUnit\", oData.results[0].PoUnit);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/PoUnittxt\", oData.results[0].Msehl);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/PoUnit\", oldKey);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/PoUnittxt\", oldValue);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsourceInput.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tfn_focusout__DocumentType: function(oEvent) {\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tAppInstance.__inputDocumentType.setBusy(true);\r\n\t\t\tvar _this = this;\r\n\t\t\tvar oldKey = AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\");\r\n\t\t\tvar oldValue = AppInstance.CurrentMODEL_Header.getProperty(\"/DocTypetxt\");\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetdoctypeSet\", {\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"DocTypetxt\", sap.ui.model.FilterOperator.Contains, (AppInstance.__inputDocumentType.getValue()).toUpperCase()),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.Contains, (AppInstance.__inputDocumentType.getValue()).toUpperCase())\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tconsole.log(oData);\r\n\t\t\t\t\tif (oData.results.length > 0) {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/DocType\", oData.results[0].DocType);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/DocTypetxt\", oData.results[0].DocTypetxt);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\r\n\t\t\t\t\t\t// Reset for the Account Assignment & Item Category fields in the Items Table\r\n\t\t\t\t\t\tvar itemsData = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData();\r\n\r\n\t\t\t\t\t\tvar selectedDocumentType = _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\");\r\n\r\n\t\t\t\t\t\tvar _row_AccAss = \"\";\r\n\t\t\t\t\t\tvar _row_AccAssTxt = \"\";\r\n\t\t\t\t\t\tvar _row_ItemCat = \"\";\r\n\t\t\t\t\t\tvar _row_ItemCatTxt = \"\";\r\n\t\t\t\t\t\tvar _row_AU = \"\";\r\n\t\t\t\t\t\tvar _row_AUTxt = \"\";\r\n\r\n\t\t\t\t\t\tif (selectedDocumentType === \"NB2\") {\r\n\t\t\t\t\t\t\t_row_AccAss = \"K\";\r\n\t\t\t\t\t\t\t_row_AccAssTxt = \"Cost Center\";\r\n\t\t\t\t\t\t\t_row_ItemCat = \"\";\r\n\t\t\t\t\t\t\t_row_ItemCatTxt = \"Standard\";\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\tif (selectedDocumentType === \"NB2D\") {\r\n\t\t\t\t\t\t\t_row_AccAss = \"K\";\r\n\t\t\t\t\t\t\t_row_AccAssTxt = \"Cost Center\";\r\n\t\t\t\t\t\t\t_row_ItemCat = \"D\";\r\n\t\t\t\t\t\t\t_row_ItemCatTxt = \"Service\";\r\n\t\t\t\t\t\t\t// Issue 50 language translation\r\n\t\t\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// Issue 50 end\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\tif (selectedDocumentType === \"NB3\") {\r\n\t\t\t\t\t\t\t_row_AccAss = \"L\";\r\n\t\t\t\t\t\t\t_row_AccAssTxt = \"Limit\";\r\n\t\t\t\t\t\t\t_row_ItemCat = \"B\";\r\n\t\t\t\t\t\t\t_row_ItemCatTxt = \"Limit\";\r\n\t\t\t\t\t\t\t// Issue 50 language translation\r\n\t\t\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// Issue 50 end\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// issue 48 start\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\tif (selectedDocumentType === \"NB2Z\") {\r\n\t\t\t\t\t\t\t_row_AccAss = \"Z\";\r\n\t\t\t\t\t\t\t_row_AccAssTxt = \"Int Order\";\r\n\t\t\t\t\t\t\t_row_ItemCat = \"\";\r\n\t\t\t\t\t\t\t_row_ItemCatTxt = \"Standard\";\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\tif (selectedDocumentType === \"N2ZD\") {\r\n\t\t\t\t\t\t\t_row_AccAss = \"Z\";\r\n\t\t\t\t\t\t\t_row_AccAssTxt = \"Int Order\";\r\n\t\t\t\t\t\t\t_row_ItemCat = \"D\";\r\n\t\t\t\t\t\t\t_row_ItemCatTxt = \"Service\";\r\n\t\t\t\t\t\t\t// Issue 50 language translation\r\n\t\t\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// Issue 50 end\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\tif (selectedDocumentType === \"NB3Z\") {\r\n\t\t\t\t\t\t\t_row_AccAss = \"L\";\r\n\t\t\t\t\t\t\t_row_AccAssTxt = \"Limit\";\r\n\t\t\t\t\t\t\t_row_ItemCat = \"B\";\r\n\t\t\t\t\t\t\t_row_ItemCatTxt = \"Limit\";\r\n\t\t\t\t\t\t\t// Issue 50 language translation\r\n\t\t\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// Issue 50 end\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\tif (selectedDocumentType === \"NB2F\") {\r\n\t\t\t\t\t\t\t_row_AccAss = \"F\";\r\n\t\t\t\t\t\t\t_row_AccAssTxt = \"Order\";\r\n\t\t\t\t\t\t\t_row_ItemCat = \"\";\r\n\t\t\t\t\t\t\t_row_ItemCatTxt = \"Standard\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//Issue 48 end\r\n\t\t\t\t\t\t;\r\n\r\n\t\t\t\t\t\titemsData.results.forEach(function(element) {\r\n\t\t\t\t\t\t\telement.Acctasscat = _row_AccAss;\r\n\t\t\t\t\t\t\telement.Acctasscattxt = _row_AccAssTxt;\r\n\r\n\t\t\t\t\t\t\telement.ItemCat = _row_ItemCat;\r\n\t\t\t\t\t\t\telement.ItemCattxt = _row_ItemCatTxt;\r\n\r\n\t\t\t\t\t\t\t/*Input 1 updated as per Issue 48 logic , so comment the issue 49 logic\r\n\t\t\t                            \t\t  //Issue 49 start , Fill Input1 field with doc type\r\n\t\t\t\t\t\t\t\t\t\t\t\t\telement.Input1 = selectedDocumentType;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t//Issue 49 End\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t/* Issue 48 start \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tIf doc type is NB2F or NB2Z or N2ZD you should call it still with NB2. NB2F and NB2Z and N2ZD exists only in Fiori but not in SAP. \r\n\t\t\tAlso when we post we need to pass NB2 and not NB2F or NB2Z or N2ZD.*/\r\n\t\t\t\t\t\t\t// following block commented for test on 1 Aug 2018\r\n\t\t\t\t\t\t\t/*if ( selectedDocumentType ===\"NB2D\" || selectedDocumentType === \"NB2F\" || selectedDocumentType ===\"NB2Z\" || selectedDocumentType ===\"N2ZD\"){\r\n\t\t\t\t\t\t\t\t\telement.Input1 = \"NB2\";\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\telement.Input1 = selectedDocumentType;\r\n\t\t\t\t\t\t\t}*/\r\n\t\t\t\t\t\t\t// following line added so that in the UI we have the reference of select document for Order column\r\n\t\t\t\t\t\t\t/*element.InpuDocType = selectedDocumentType;*/\r\n\t\t\t\t\t\t\telement.Input1 = selectedDocumentType;\r\n\t\t\t\t\t\t\t// Issue 48 end\r\n\r\n\t\t\t\t\t\t\t// Issue 48 start\r\n\t\t\t\t\t\t\t/*if ((selectedDocumentType === \"NB2D\") || ( selectedDocumentType === \"NB3\" ))*/\r\n\t\t\t\t\t\t\t//if ((selectedDocumentType === \"NB2D\") || (selectedDocumentType === \"N2ZD\") || (selectedDocumentType === \"NB3\") || (selectedDocumentType === \"NB3Z\"))\r\n\t\t\t\t\t\t\tif ((selectedDocumentType === \"NB2D\") || (selectedDocumentType === \"N2ZD\") || (selectedDocumentType === \"NB2F\") || (\r\n\t\t\t\t\t\t\t\t\tselectedDocumentType === \"NB2Z\") || (selectedDocumentType === \"NB3\") || (selectedDocumentType === \"NB3Z\"))\r\n\t\t\t\t\t\t\t// Issue 48 end\r\n\t\t\t\t\t\t\t\telement.Quantity = 1;\r\n\r\n\t\t\t\t\t\t\telement.PoUnit = _row_AU;\r\n\t\t\t\t\t\t\telement.PoUnittxt = _row_AU;\r\n\r\n\t\t\t\t\t\t\telement.Orderid = \"\";\r\n\t\t\t\t\t\t\telement.Orderidtxt = \"\";\r\n\r\n\t\t\t\t\t\t\telement.Costcenter = \"\";\r\n\t\t\t\t\t\t\telement.Costcentertxt = \"\";\r\n\r\n\t\t\t\t\t\t\telement.GlAccount = \"\";\r\n\t\t\t\t\t\t\telement.GlAccounttxt = \"\";\r\n\r\n\t\t\t\t\t\t\telement.Limit = \"\";\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setData(itemsData);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/DocType\", oldKey);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/DocTypetxt\", oldValue);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tAppInstance.__inputDocumentType.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tfn_focusout_CompanyCode: function(oEvent) {\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tvar _this = this;\r\n\t\t\tAppInstance.__inputCompanyCode.setBusy(true);\r\n\t\t\tvar oldKey = AppInstance.CurrentMODEL_Header.getProperty(\"/CompCode\");\r\n\t\t\tvar oldValue = AppInstance.CurrentMODEL_Header.getProperty(\"/CompCodetxt\");\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetcompcodeSet\", {\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Butxt\", sap.ui.model.FilterOperator.Contains, (AppInstance.__inputCompanyCode.getValue()).toUpperCase()),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.Contains, (AppInstance.__inputCompanyCode.getValue()).toUpperCase())\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tif (oData.results.length > 0) {\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/CompCode\", oData.results[0].CompCode);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/CompCodetxt\", oData.results[0].Butxt);\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/ContrArea\", oData.results[0].Kokrs);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Ktopl\", oData.results[0].Ktopl);\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/PurchOrg\", \"\");\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/PurchOrgtxt\");\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Vendor\", \"\");\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Vendorname\");\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Pmnttrms\", \"\");\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Pmnttrmstxt\");\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Currency\", \"\");\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.refresh(true);\r\n\r\n\t\t\t\t\t\t_this.fn_After_CompanyCode_Select();\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/CompCode\", oldKey);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/CompCodetxt\", oldValue);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tAppInstance.__inputCompanyCode.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tfn_focusout_PurchasingOrganization: function(oEvent) {\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tvar _this = this;\r\n\t\t\tAppInstance.__inputPurchasingOrganization.setBusy(true);\r\n\t\t\tvar oldKey = AppInstance.CurrentMODEL_Header.getProperty(\"/PurchOrg\");\r\n\t\t\tvar oldValue = AppInstance.CurrentMODEL_Header.getProperty(\"/PurchOrgtxt\");\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetpurchorgSet\", {\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"PurchOrg\", sap.ui.model.FilterOperator.Contains, (AppInstance.__inputPurchasingOrganization.getValue())\r\n\t\t\t\t\t\t.toUpperCase()),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"PurchOrgtxt\", sap.ui.model.FilterOperator.Contains, (AppInstance.__inputPurchasingOrganization.getValue())\r\n\t\t\t\t\t\t.toUpperCase()),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Header.getProperty(\"/CompCode\"))\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tif (oData.results.length > 0) {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/PurchOrg\", oData.results[0].PurchOrg);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/PurchOrgtxt\", oData.results[0].PurchOrgtxt);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t\t\t_this.fn_After_PurchasingOrganization_Select();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/PurchOrg\", oldKey);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/PurchOrgtxt\", oldValue);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tAppInstance.__inputPurchasingOrganization.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tfn_focusout_Supplier: function(oEvent) {\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tAppInstance.__inputSupplier.setBusy(true);\r\n\t\t\tvar oldKey = AppInstance.CurrentMODEL_Header.getProperty(\"/Vendor\");\r\n\t\t\tvar oldValue = AppInstance.CurrentMODEL_Header.getProperty(\"/Vendorname\");\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetvendorSet\", {\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Vendor\", sap.ui.model.FilterOperator.Contains, (AppInstance.__inputSupplier.getValue()).toUpperCase()),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Vendorname\", sap.ui.model.FilterOperator.Contains, (AppInstance.__inputSupplier.getValue()).toUpperCase()),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"PurchOrg\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Header.getProperty(\"/PurchOrg\"))\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tif (oData.results.length > 0) {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/Vendor\", oData.results[0].Vendor);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/Vendorname\", oData.results[0].Vendorname);\r\n\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/Pmnttrms\", oData.results[0].Pmnttrms);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/Pmnttrmstxt\", oData.results[0].Pmnttrmsname);\r\n\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/Currency\", oData.results[0].Currency);\r\n\t\t\t\t\t\tvar itemsData = AppInstance.CurrentMODEL_Items.getData();\r\n\t\t\t\t\t\titemsData.results.forEach(function(element) {\r\n\t\t\t\t\t\t\telement.Currency = oData.results[0].Currency;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setData(itemsData);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/Vendor\", oldKey);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/Vendorname\", oldValue);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tAppInstance.__inputSupplier.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tfn_focusout_PurchasingGroup: function(oEvent) {\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tAppInstance.__inputPurchasingGroup.setBusy(true);\r\n\t\t\tvar oldKey = AppInstance.CurrentMODEL_Header.getProperty(\"/PurGroup\");\r\n\t\t\tvar oldValue = AppInstance.CurrentMODEL_Header.getProperty(\"/PurGrouptxt\");\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetpurgroupSet\", {\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Eknam\", sap.ui.model.FilterOperator.Contains, (AppInstance.__inputPurchasingGroup.getValue()).toUpperCase()),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"PurGroup\", sap.ui.model.FilterOperator.Contains, (AppInstance.__inputPurchasingGroup.getValue()).toUpperCase())\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tif (oData.results.length > 0) {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/PurGroup\", oData.results[0].PurGroup);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/PurGrouptxt\", oData.results[0].Eknam);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/PurGroup\", oldKey);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/PurGrouptxt\", oldValue);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tAppInstance.__inputPurchasingGroup.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tfn_focusout_Currency: function(oEvent) {\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tAppInstance.__inputCurrency.setBusy(true);\r\n\t\t\tvar oldKey = AppInstance.CurrentMODEL_Header.getProperty(\"/Currency\");\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetcurrencySet\", {\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Currency\", sap.ui.model.FilterOperator.Contains, (AppInstance.__inputCurrency.getValue()).toUpperCase()),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Currencytxt\", sap.ui.model.FilterOperator.Contains, (AppInstance.__inputCurrency.getValue()).toUpperCase())\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tif (oData.results.length > 0) {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/Currency\", oData.results[0].Currency);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\r\n\t\t\t\t\t\tvar itemsData = AppInstance.CurrentMODEL_Items.getData();\r\n\t\t\t\t\t\titemsData.results.forEach(function(element) {\r\n\t\t\t\t\t\t\telement.Currency = oData.results[0].Currency;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setData(itemsData);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/Currency\", oldKey);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tAppInstance.__inputCurrency.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tfn_focusout_headerText: function(oEvent) {\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\t// For header Text reading Input4 is used\r\n\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/Input4\", oEvent.getParameters().newValue);\r\n\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t},\r\n\r\n\t\tfn_After_RequisitionerSelected: function() {\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetreqemailSet\", {\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"Bname\", sap.ui.model.FilterOperator.EQ, \"\"),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"SmtpAddr\", sap.ui.model.FilterOperator.EQ, \"\")\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/EMail\", oData.results[0].SmtpAddr);\r\n\t\t\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tfn_After_CompanyCode_Select: function() {\r\n\r\n\t\t\t// Reset for the Plant fields in the Items Table\r\n\t\t\tvar _this = this;\r\n\t\t\tvar itemsData = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData();\r\n\r\n\t\t\titemsData.results.forEach(function(element) {\r\n\t\t\t\telement.Plant = \"\";\r\n\t\t\t\telement.Planttxt = \"\";\r\n\r\n\t\t\t\telement.Costcenter = \"\";\r\n\t\t\t\telement.Costcentertxt = \"\";\r\n\r\n\t\t\t\telement.GlAccount = \"\";\r\n\t\t\t\telement.GlAccounttxt = \"\";\r\n\r\n\t\t\t\telement.Orderid = \"\";\r\n\t\t\t\telement.Orderidtxt = \"\";\r\n\r\n\t\t\t\telement.Currency = \"\";\r\n\t\t\t});\r\n\r\n\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setData(itemsData);\r\n\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\t//var selectedDocumentType = \t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\");\r\n\t\t\tvar AppInstance = _this.getOwnerComponent().AppInstance;\r\n\r\n\t\t\t// ***\r\n\t\t\t// Looking for the plant coresponding to the specified Company Code\r\n\r\n\t\t\t_this.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetplantSet\", {\r\n\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header\r\n\t\t\t\t\t\t.getProperty(\r\n\t\t\t\t\t\t\t\"/CompCode\"))\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tif (oData.results.length > 0) {\r\n\r\n\t\t\t\t\t\tvar _itemsData = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData();\r\n\t\t\t\t\t\t_itemsData.results.forEach(function(element) {\r\n\t\t\t\t\t\t\telement.Plant = oData.results[0].Plant;\r\n\t\t\t\t\t\t\telement.Planttxt = oData.results[0].Name1;\r\n\r\n\t\t\t\t\t\t\telement.Name = oData.results[0].Name1;\r\n\t\t\t\t\t\t\telement.Street = oData.results[0].Street;\r\n\t\t\t\t\t\t\telement.StreetNo = oData.results[0].HouseNum1;\r\n\t\t\t\t\t\t\telement.PostlCod1 = oData.results[0].PostCode1;\r\n\t\t\t\t\t\t\telement.City = oData.results[0].City1;\r\n\t\t\t\t\t\t\telement.Region = oData.results[0].Region;\r\n\t\t\t\t\t\t\telement.Country = oData.results[0].Country;\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tAppInstance.lastSelected_ForNewItem_Plant_Plant = oData.results[0].Plant;\r\n\t\t\t\t\t\tAppInstance.lastSelected_ForNewItem_Plant_PlantText = oData.results[0].Name1;\r\n\r\n\t\t\t\t\t\t// following line added due to addition of the plant field in header 4 Dec 2017\r\n\t\t\t\t\t\t/*_this.getView().byId(\"plantHeader\").setValue(oData.results[0].Plant);*/\r\n\t\t\t\t\t\t//\t_this.getView().byId(\"plantHeader\").setValue(AppInstance.lastSelected_ForNewItem_Plant_Plant);\r\n\t\t\t\t\t\tvar newValue = \"\";\r\n\t\t\t\t\t\tnewValue = AppInstance.lastSelected_ForNewItem_Plant_PlantText + \"(\" + AppInstance.lastSelected_ForNewItem_Plant_Plant +\r\n\t\t\t\t\t\t\t\")\";\r\n\t\t\t\t\t\t_this.getView().byId(\"plantHeader\").setValue(newValue);\r\n\r\n\t\t\t\t\t\tAppInstance.defaultPlantAddres_Name = oData.results[0].Name1;\r\n\t\t\t\t\t\tAppInstance.defaultPlantAddres_Street = oData.results[0].Street;\r\n\t\t\t\t\t\tAppInstance.defaultPlantAddres_StreetNo = oData.results[0].HouseNum1;\r\n\t\t\t\t\t\tAppInstance.defaultPlantAddres_PostlCod1 = oData.results[0].PostCode1;\r\n\t\t\t\t\t\tAppInstance.defaultPlantAddres_City = oData.results[0].City1;\r\n\t\t\t\t\t\tAppInstance.defaultPlantAddres_Region = oData.results[0].Region;\r\n\t\t\t\t\t\tAppInstance.defaultPlantAddres_Country = oData.results[0].Country;\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setData(_itemsData);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\t\t\t} else {}\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t\t// ***\t                            \t\r\n\t\t},\r\n\r\n\t\tfn_After_PurchasingOrganization_Select: function() {\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectedDocumentType = _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\");\r\n\t\t\t/*Looking for the unit of measure coresponding to the specified Purchasing Organization*/\r\n\t\t\t/*if (selectedDocumentType === \"NB2\")*/\r\n\t\t\t/*Issue 48 If condition changed*/\r\n\t\t\t/*If doc type is NB2F of NB2Z or N2ZD you should call it still with NB2. NB2F and NB2Z and N2ZD exists only in Fiori but not in SAP. \r\n\t\t\tAlso when we post we need to pass NB2 and not NB2F or NB2Z or N2ZD.*/\r\n\t\t\t/* for N2ZD the UOm should be AU always , so N2ZD is considered here */\r\n\t\t\tif (selectedDocumentType === \"NB2\" || selectedDocumentType === \"NB2Z\" || selectedDocumentType === \"NB2F\") {\r\n\t\t\t\tselectedDocumentType = \"NB2\";\r\n\t\t\t\t_this.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/Ztgetpounit1Set\", {\r\n\r\n\t\t\t\t\tfilters: [\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"PurOrg\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Header.getProperty(\"/PurchOrg\")),\r\n\t\t\t\t\t\t/*Issue 48 following one line changed*/\r\n\t\t\t\t\t\t/*new sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\"))*/\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.EQ, selectedDocumentType)\r\n\t\t\t\t\t],\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tif (oData.results.length > 0) {\r\n\r\n\t\t\t\t\t\t\tvar itemsData = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData();\r\n\t\t\t\t\t\t\titemsData.results.forEach(function(element) {\r\n\t\t\t\t\t\t\t\telement.PoUnit = oData.results[0].PoUnit;\r\n\t\t\t\t\t\t\t\telement.PoUnittxt = oData.results[0].Msehl;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tAppInstance.lastSelected_ForNewItem_UM_PoUnit = oData.results[0].PoUnit;\r\n\t\t\t\t\t\t\tAppInstance.lastSelected_ForNewItem_UM_PoUnitText = oData.results[0].Msehl;\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setData(itemsData);\r\n\t\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\t\t\t\t} else {}\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(error) {}\r\n\t\t\t\t});\r\n\t\t\t} /* added due to Issue 48 */\r\n\t\t},\r\n\r\n\t\tfn_focusout_Requisitioner: function(oEvent) {\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tAppInstance.__inputRequisitioner.setBusy(true);\r\n\t\t\tvar _this = this;\r\n\t\t\tvar oldKey = AppInstance.CurrentMODEL_Header.getProperty(\"/PreqName\");\r\n\t\t\tvar oldValue = AppInstance.CurrentMODEL_Header.getProperty(\"/PreqNametxt\");\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetpreqnameSet\", {\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"PreqName\", sap.ui.model.FilterOperator.Contains, (AppInstance.__inputRequisitioner.getValue()).toUpperCase()),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"NameTextc\", sap.ui.model.FilterOperator.Contains, (AppInstance.__inputRequisitioner.getValue()).toUpperCase())\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tif (oData.results.length > 0) {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/PreqName\", oData.results[0].PreqName);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/PreqNametxt\", oData.results[0].NameTextc);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t\t\t//_this.fn_After_RequisitionerSelected(oData.results[0].PreqName);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/PreqName\", oldKey);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/PreqNametxt\", oldValue);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tAppInstance.__inputRequisitioner.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\t\t// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\t\t// HELPERS FOR TABLE ITEMS INPUTS\r\n\t\t// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\t\t// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\r\n\t\t// Items Table Helper Function - Account Assignment\r\n\t\tfn_val_hlp_req__Items_AccountAssignment: function(oEvent) {\r\n\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Account Assignment\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Acctasscat\", oSelectedObject.Acctasscat);\r\n\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Acctasscattxt\", oSelectedObject.Acctasscattxt);\r\n\r\n\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/ItemCat\", \"\");\r\n\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/ItemCattxt\", \"\");\r\n\r\n\t\t\t\t\tswitch (oSelectedObject.Acctasscat) {\r\n\t\t\t\t\t\tcase \"K\":\r\n\t\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Orderid\", \"\");\r\n\t\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Orderidtxt\", \"\");\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"F\":\r\n\t\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Costcenter\", \"\");\r\n\t\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Costcentertxt\", \"\");\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Limit\", \"\");\r\n\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/ItemCat\", \"\");\r\n\r\n\t\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Acctasscattxt\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Acctasscat\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetacctassSet\",\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Header.getProperty(\r\n\t\t\t\t\t\"/DocType\"))],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{Acctasscat} {Acctasscattxt}\",\r\n\t\t\t\t\tkey: \"{Acctasscat}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\t\t},\r\n\r\n\t\t// Items Table Helper Function - Items Category\r\n\t\tfn_val_hlp_req__Items_ItemCategory: function(oEvent) {\r\n\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tvar distributionComboBox = sap.ui.core.Fragment.byId(this.getView().createId(\"fragmentItemData_GeneralData\"),\r\n\t\t\t\t\"comboSelectDistribution\");\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Items Category\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/ItemCat\", oSelectedObject.ItemCat);\r\n\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/ItemCattxt\", oSelectedObject.Ptext);\r\n\r\n\t\t\t\t\tif ((oSelectedObject.ItemCat === \"B\") || (oSelectedObject.ItemCat === \"9\") || (oSelectedObject.ItemCat === \"D\")) {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Limit\", \"\");\r\n\r\n\t\t\t\t\t\t//if (AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/Acctasscat\") === \"L\") {\r\n\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Quantity\", 1);\r\n\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/PoUnit\", \"AU\");\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/PoUnittxt\", \"AU\");\r\n\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/NetPrice\", AppInstance.CurrentMODEL_Items.getProperty(\r\n\t\t\t\t\t\t\t\"/results/\" + rowIndex + \"/Limit\"));\r\n\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Zaccount\",\r\n\t\t\t\t\t\t\t\"{\\\"ITEMS\\\" : [{ \\\"PO_NUMBER\\\":\\\"\\\",\\\"PO_ITEM\\\":\\\"\" +\r\n\t\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/PoItem\") +\r\n\t\t\t\t\t\t\t\"\\\",\\\"SERIAL_NO\\\":\\\"01\\\",\\\"QUANTITY\\\":\\\"\" +\r\n\t\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Quantity\") +\r\n\t\t\t\t\t\t\t\"\\\",\\\"DISTR_PERC\\\":\\\"0.0\\\",\\\"NET_VALUE\\\":\\\"\" +\r\n\t\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/NetPrice\") + \"\\\",\\\"COSTCENTER\\\":\\\"\" +\r\n\t\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Costcenter\")\r\n\r\n\t\t\t\t\t\t\t+ \"\\\",\\\"ASSET_NO\\\":\\\"\\\",\\\"ORDERID\\\":\\\"\\\",\\\"GL_ACCOUNT\\\":\\\"\" +\r\n\t\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/GlAccount\") + \"\\\",\\\"COSTCENTERTXT\\\":\\\"\" +\r\n\t\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Costcentertxt\") +\r\n\t\t\t\t\t\t\t\"\\\",\\\"ASSET_NOTXT\\\":\\\"\\\",\\\"GL_ACCOUNTTXT\\\":\\\"\" +\r\n\t\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/GlAccounttxt\") +\r\n\t\t\t\t\t\t\t\"\\\",\\\"ORDERIDTXT\\\":\\\"\\\",\\\"ACTION\\\":\\\"\\\",\\\"INPUT1\\\":\\\"\\\",\\\"INPUT2\\\":\\\"\\\",\\\"INPUT3\\\":\\\"\\\",\\\"INPUT4\\\":\\\"\\\",\\\"INPUT5\\\":\\\"\\\",\\\"INPUT6\\\":\\\"\\\",\\\"INPUT7\\\":\\\"\\\",\\\"INPUT8\\\":\\\"\\\",\\\"INPUT9\\\":\\\"\\\",\\\"INPUT10\\\":\\\"\\\",\\\"NUMERIC1\\\":\\\"0.0\\\",\\\"NUMERIC2\\\":\\\"0.0\\\",\\\"NUMERIC3\\\":\\\"0.0\\\" }]}\"\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t//if ((oSelectedObject.ItemCat === \"D\") || (oSelectedObject.ItemCat === \"B\")) {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Distribkey\", \"0\");\r\n\t\t\t\t\t\t// if you manage to trigger this , remove the above block because it's a duplicate of the one in the combo change event !\r\n\t\t\t\t\t\t//\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tAppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Ptext\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"ItemCat\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetitemcatSet\",\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Header.getProperty(\r\n\t\t\t\t\t\t\"/DocType\")),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Acctasscat\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" +\r\n\t\t\t\t\t\trowIndex + \"/Acctasscat\")),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\")\r\n\t\t\t\t],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{ItemCat} {Ptext}\",\r\n\t\t\t\t\tkey: \"{ItemCat}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\r\n\t\t},\r\n\r\n\t\t// Items Table Helper Function - Short Text\r\n\t\tfn_val_hlp_req__Items_ShortText: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/ShortText\", oEvent.getParameters().newValue);\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t},\r\n\r\n\t\t// Items Table Helper Function - Material Group\r\n\t\tfn_val_hlp_req__Items_MaterialGroup: function(oEvent) {\r\n\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Material Group\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/MatlGroup\", oSelectedObject.MatlGroup);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/MatlGrouptxt\",\r\n\t\t\t\t\t\toSelectedObject\r\n\t\t\t\t\t\t.MatlGrouptxt);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"MatlGrouptxt\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"MatlGroup\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetmatlgroupSet\",\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\")],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{MatlGroup} {MatlGrouptxt}\",\r\n\t\t\t\t\tkey: \"{MatlGroup}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\r\n\t\t},\r\n\r\n\t\t// Items Table Helper Function - Plant\r\n\t\tfn_val_hlp_req__Items_Plant: function(oEvent) {\r\n\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Plant\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Plant\", oSelectedObject.Plant);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Planttxt\", oSelectedObject.Name1);\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Name\", oSelectedObject.Name1);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Street\", oSelectedObject.Street);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/StreetNo\", oSelectedObject.HouseNum1);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/PostlCod1\", oSelectedObject.PostCode1);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/City\", oSelectedObject.City1);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Region\", oSelectedObject.Region);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Country\", oSelectedObject.Country);\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t\t_this.getView().byId(\"plantHeader\").setValue(\"1234\");\r\n\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Name1\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Plant\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetplantSet\",\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header\r\n\t\t\t\t\t.getProperty(\"/CompCode\"))],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{Plant} {Name1}\",\r\n\t\t\t\t\tkey: \"{Plant}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\r\n\t\t},\r\n\r\n\t\t// Items Table Helper Function - Plant this is added due to addition of plant feild in header 4 Dec 2017\r\n\t\tfn_val_hlp_req__Header_Plant: function(oEvent) {\r\n\r\n\t\t\tvar rowIndex = 0;\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Plant\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\r\n\t\t\t\t\t// _this.getView().byId(\"plantHeader\").setValue(oSelectedObject.Plant);\r\n\t\t\t\t\t_this.getView().byId(\"plantHeader\").setValue(oSelectedObject.Name1 + \"(\" + oSelectedObject.Plant + \")\");\r\n\r\n\t\t\t\t\t// fill the Item table with same value of plant\r\n\t\t\t\t\tfor (rowIndex = 0; rowIndex < _this.AppInstance.tablePOItems.getRows().length; rowIndex++) {\r\n\t\t\t\t\t\t//\t_this.AppInstance.tablePOItems.getRows()[rowIndex].getCells()[6].setValue(oSelectedObject.Plant);\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Plant\", oSelectedObject.Plant);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Planttxt\", oSelectedObject.Name1);\r\n\t\t\t\t\t\t// update delivery address table\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Name\", oSelectedObject.Name1);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Street\", oSelectedObject.Street);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/StreetNo\", oSelectedObject.HouseNum1);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/PostlCod1\", oSelectedObject\r\n\t\t\t\t\t\t\t.PostCode1);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/City\", oSelectedObject.City1);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Region\", oSelectedObject.Region);\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Country\", oSelectedObject.Country);\r\n\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Name1\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Plant\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetplantSet\",\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header\r\n\t\t\t\t\t.getProperty(\"/CompCode\"))],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{Plant} {Name1}\",\r\n\t\t\t\t\tkey: \"{Plant}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\r\n\t\t},\r\n\r\n\t\t// Items Table Helper Function - Unit of Measure\r\n\t\tfn_val_hlp_req__Items_UnitOfMeasure: function(oEvent) {\r\n\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Unit of Measure\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/PoUnit\", oSelectedObject.PoUnit);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/PoUnittxt\", oSelectedObject.Msehl);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\t//filters.push(new sap.ui.model.Filter(\"PurOrg\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\t//\tfilters.push(new sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\t//path:\"/Ztgetpounit1Set(PurOrg='\"+this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/PurchOrg\")+\"',DocType='\"+this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\")+\"')\",\r\n\t\t\t\tpath: \"/Ztgetpounit1Set\",\r\n\t\t\t\tfilters: [],\r\n\t\t\t\t/*\t\t\tfilters: [new sap.ui.model.Filter(\"PurOrg\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header\r\n\t\t\t\t\t\t\t\t\t.getProperty(\"/PurchOrg\")),\r\n\t\t\t\t\t\t\t\tnew sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header\r\n\t\t\t\t\t\t\t\t\t.getProperty(\r\n\t\t\t\t\t\t\t\t\t\t\"/DocType\"))\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t*/\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{PoUnit} {Msehl}\",\r\n\t\t\t\t\tkey: \"{PoUnit}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\t\t},\r\n\r\n\t\t// Items Table Helper Function - Order\r\n\t\tfn_val_hlp_req__Items_Order: function(oEvent) {\r\n\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Order\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Orderid\", oSelectedObject.Orderid);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Orderidtxt\", oSelectedObject\r\n\t\t\t\t\t\t.Orderidtxt);\r\n\r\n\t\t\t\t\t// Update the Single Account Distribution content\t                            \t\r\n\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Distribkey\").toString() ===\r\n\t\t\t\t\t\t\"0\") {\r\n\t\t\t\t\t\tvar zAccStr = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Zaccount\");\r\n\t\t\t\t\t\tvar tempJSON = JSON.parse(zAccStr);\r\n\t\t\t\t\t\ttempJSON.ITEMS[0].ORDERID = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex +\r\n\t\t\t\t\t\t\t\"/Orderid\");\r\n\t\t\t\t\t\ttempJSON.ITEMS[0].ORDERIDTXT = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex +\r\n\t\t\t\t\t\t\t\"/Orderidtxt\");\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Zaccount\", JSON.stringify(\r\n\t\t\t\t\t\t\ttempJSON));\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Orderidtxt\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Orderid\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetorderSet\",\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header\r\n\t\t\t\t\t\t.getProperty(\"/CompCode\")),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Kokrs\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\r\n\t\t\t\t\t\t\"/ContrArea\")),\r\n\t\t\t\t\t// Issue 48\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Acctasscat\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Items\r\n\t\t\t\t\t\t.getData().results[rowIndex].Acctasscat)\r\n\t\t\t\t\t// Issue 48\r\n\t\t\t\t],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{Orderid} {Orderidtxt}\",\r\n\t\t\t\t\tkey: \"{Orderid}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\t\t},\r\n\r\n\t\t// Items Table Helper Function - Account\r\n\t\tfn_val_hlp_req__Items_Account: function(oEvent) {\r\n\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Account\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/GlAccount\", oSelectedObject.GlAccount);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/GlAccounttxt\",\r\n\t\t\t\t\t\toSelectedObject\r\n\t\t\t\t\t\t.GlAccounttxt);\r\n\r\n\t\t\t\t\t// Update the Single Account Distribution content\t\r\n\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Distribkey\").toString() ===\r\n\t\t\t\t\t\t\"0\") {\r\n\t\t\t\t\t\tvar zAccStr = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Zaccount\");\r\n\t\t\t\t\t\tvar tempJSON = JSON.parse(zAccStr);\r\n\t\t\t\t\t\t/*following 2 lines updated due to the GL Account field not updated apart from index 0 row. And if case is added to hadle the new row addition*/\r\n\t\t\t\t\t\t/*tempJSON.ITEMS[0].GL_ACCOUNT = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/GlAccount\") ;\r\n\t\t\t\t\t\ttempJSON.ITEMS[0].GL_ACCOUNTTXT = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/GlAccounttxt\") ;*/\r\n\t\t\t\t\t\tif (tempJSON.ITEMS.length === 1) {\r\n\t\t\t\t\t\t\ttempJSON.ITEMS[0].GL_ACCOUNT = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex +\r\n\t\t\t\t\t\t\t\t\"/GlAccount\");\r\n\t\t\t\t\t\t\ttempJSON.ITEMS[0].GL_ACCOUNTTXT = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" +\r\n\t\t\t\t\t\t\t\trowIndex + \"/GlAccounttxt\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttempJSON.ITEMS[rowIndex].GL_ACCOUNT = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" +\r\n\t\t\t\t\t\t\t\trowIndex + \"/GlAccount\");\r\n\t\t\t\t\t\t\ttempJSON.ITEMS[rowIndex].GL_ACCOUNTTXT = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" +\r\n\t\t\t\t\t\t\t\trowIndex + \"/GlAccounttxt\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Zaccount\", JSON.stringify(\r\n\t\t\t\t\t\t\ttempJSON));\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\t_filters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\t_filters.push(new sap.ui.model.Filter(\"GlAccount\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\t_filters.push(new sap.ui.model.Filter(\"GlAccounttxt\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(_filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetglaccountSet\",\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\"),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Bukrs\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\r\n\t\t\t\t\t\t\"/CompCode\"))\r\n\t\t\t\t],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{GlAccount} {GlAccounttxt}\",\r\n\t\t\t\t\tkey: \"{GlAccount}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\t\t},\r\n\r\n\t\t// Items Table Helper Function - Cost Center\r\n\t\tfn_val_hlp_req__Items_CostCenter: function(oEvent) {\r\n\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Cost Center\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Costcenter\", oSelectedObject\r\n\t\t\t\t\t\t.Costcenter);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Costcentertxt\",\r\n\t\t\t\t\t\toSelectedObject.Costcentertxt);\r\n\r\n\t\t\t\t\t// Update the Single Account Distribution content\t                            \t\r\n\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Distribkey\").toString() ===\r\n\t\t\t\t\t\t\"0\") {\r\n\t\t\t\t\t\tvar zAccStr = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex + \"/Zaccount\");\r\n\t\t\t\t\t\tvar tempJSON = JSON.parse(zAccStr);\r\n\t\t\t\t\t\t/*following 2 lines updated due to the Cost Center field not updated apart from index 0 row. And if case is added to hadle the new row addition*/\r\n\t\t\t\t\t\t/*tempJSON.ITEMS[0].COSTCENTER = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/Costcenter\") ;\r\n\t\t\t\t\t\ttempJSON.ITEMS[0].COSTCENTERTXT = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\"+rowIndex+\"/Costcentertxt\") ;*/\r\n\t\t\t\t\t\tif (tempJSON.ITEMS.length === 1) {\r\n\t\t\t\t\t\t\ttempJSON.ITEMS[0].COSTCENTER = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + rowIndex +\r\n\t\t\t\t\t\t\t\t\"/Costcenter\");\r\n\t\t\t\t\t\t\ttempJSON.ITEMS[0].COSTCENTERTXT = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" +\r\n\t\t\t\t\t\t\t\trowIndex + \"/Costcentertxt\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttempJSON.ITEMS[rowIndex].COSTCENTER = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" +\r\n\t\t\t\t\t\t\t\trowIndex + \"/Costcenter\");\r\n\t\t\t\t\t\t\ttempJSON.ITEMS[rowIndex].COSTCENTERTXT = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" +\r\n\t\t\t\t\t\t\t\trowIndex + \"/Costcentertxt\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + rowIndex + \"/Zaccount\", JSON.stringify(\r\n\t\t\t\t\t\t\ttempJSON));\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Costcenter\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Costcentertxt\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetcostcenterSet\",\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\"),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Bukrs\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\r\n\t\t\t\t\t\t\"/CompCode\"))\r\n\t\t\t\t],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{Costcenter} {Costcentertxt}\",\r\n\t\t\t\t\tkey: \"{Costcenter}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\t\t},\r\n\r\n\t\t// Items Table Helper Function - Distribution\r\n\t\tfn_val_hlp_req__Items_Distribution: function(oEvent) {\r\n\t\t\tvar selectedKey = oEvent.getParameters().selectedItem.getKey();\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/Distribkey\", selectedKey);\r\n\r\n\t\t\tif (selectedKey === \"0\")\r\n\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\t\"/Zaccount\",\r\n\t\t\t\t\t\"{\\\"ITEMS\\\" : [{ \\\"PO_NUMBER\\\":\\\"\\\",\\\"PO_ITEM\\\":\\\"\" +\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\t\t\"/PoItem\") +\r\n\t\t\t\t\t\"\\\",\\\"SERIAL_NO\\\":\\\"01\\\",\\\"QUANTITY\\\":\\\"\" +\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\t\t\"/Quantity\") + \"\\\",\\\"DISTR_PERC\\\":\\\"0.0\\\",\\\"NET_VALUE\\\":\\\"\" +\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\t\t\"/NetPrice\") + \"\\\",\\\"COSTCENTER\\\":\\\"\" +\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\t\t\"/Costcenter\")\r\n\r\n\t\t\t\t\t+ \"\\\",\\\"ASSET_NO\\\":\\\"\\\",\\\"ORDERID\\\":\\\"\\\",\\\"GL_ACCOUNT\\\":\\\"\" +\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\t\t\"/GlAccount\") + \"\\\",\\\"COSTCENTERTXT\\\":\\\"\" +\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\t\t\"/Costcentertxt\") + \"\\\",\\\"ASSET_NOTXT\\\":\\\"\\\",\\\"GL_ACCOUNTTXT\\\":\\\"\" +\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.getProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\t\t\"/GlAccounttxt\") +\r\n\t\t\t\t\t\"\\\",\\\"ORDERIDTXT\\\":\\\"\\\",\\\"ACTION\\\":\\\"\\\",\\\"INPUT1\\\":\\\"\\\",\\\"INPUT2\\\":\\\"\\\",\\\"INPUT3\\\":\\\"\\\",\\\"INPUT4\\\":\\\"\\\",\\\"INPUT5\\\":\\\"\\\",\\\"INPUT6\\\":\\\"\\\",\\\"INPUT7\\\":\\\"\\\",\\\"INPUT8\\\":\\\"\\\",\\\"INPUT9\\\":\\\"\\\",\\\"INPUT10\\\":\\\"\\\",\\\"NUMERIC1\\\":\\\"0.0\\\",\\\"NUMERIC2\\\":\\\"0.0\\\",\\\"NUMERIC3\\\":\\\"0.0\\\" }]}\"\r\n\t\t\t\t);\r\n\t\t\t//\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t},\r\n\r\n\t\t// Items Table Helper Function - Final Invoice\r\n\t\tfn_val_hlp_req_Items_FinalInvoice: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/Delivcompleted\", oEvent.getParameters().selected);\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t},\r\n\r\n\t\t// Address fields change\r\n\t\tfn_liveChange_Address__Name: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/Name\", oEvent.getParameters().newValue);\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t},\r\n\r\n\t\tfn_liveChange_Address__Street: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/Street\", oEvent.getParameters().newValue);\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t},\r\n\r\n\t\tfn_liveChange_Address__StreetNo: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/StreetNo\", oEvent.getParameters().newValue);\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t},\r\n\r\n\t\tfn_liveChange_Address__PostalCode: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/PostlCod1\", oEvent.getParameters().newValue);\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t},\r\n\r\n\t\tfn_liveChange_Address__City: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/City\", oEvent.getParameters().newValue);\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t},\r\n\r\n\t\tfn_liveChange_Address__Region: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/Region\", oEvent.getParameters().newValue);\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t},\r\n\t\tfn_liveChange_Address__Country: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.setProperty(\"/results/\" + oEvent.getSource().getParent().getIndex() +\r\n\t\t\t\t\"/Country\", oEvent.getParameters().newValue);\r\n\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\t\t\t\t// -------------------------\r\n\t\t\t\t\t\r\n\t\t\t\t\thandleSuggestDocumentType : function (oEvent) {\r\n\t\t\t\t\t\tvar searchText = oEvent.getParameters().value ;\r\n\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.__inputDocumentType.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\t\t\t\tif (searchText.length > 0) {\r\n\t\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.__inputDocumentType.bindAggregation(\"suggestionItems\",\"/ZtgetdoctypeSet\",new sap.ui.core.Item({\r\n\t\t\t\t\t\t\t\ttext : \"{DocType} {DocTypetxt}\"\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\thandleSuggestDocumentType_Submit : function (oEvent) {\r\n\t\t\t\t\t\tvar _key = oEvent.getParameters().value.split(/ (.+)/)[0];\r\n\t\t\t\t\t\tvar _text = oEvent.getParameters().value.split(/ (.+)/)[1];\r\n\r\n\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.__inputDocumentType.setModel(this.getOwnerComponent().AppInstance.CurrentMODEL_Header);\r\n\t\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/DocType\",_key);\r\n\t\t\t            this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/DocTypetxt\",_text);\r\n\t\t\t\r\n\t\t\t            this.getOwnerComponent().AppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t\t},\r\n\t\t*/\r\n\r\n\t\t// HEADER Helper Function - Document Type\r\n\t\tfn_val_hlp_req__DocumentType: function(oEvent) {\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Document Type\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/DocType\", oSelectedObject.DocType);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/DocTypetxt\", oSelectedObject.DocTypetxt);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.refresh(true);\r\n\r\n\t\t\t\t\t// Reset for the Account Assignment & Item Category fields in the Items Table\r\n\t\t\t\t\tvar itemsData = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData();\r\n\r\n\t\t\t\t\tvar selectedDocumentType = _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\");\r\n\r\n\t\t\t\t\tvar _row_AccAss = \"\";\r\n\t\t\t\t\tvar _row_AccAssTxt = \"\";\r\n\t\t\t\t\tvar _row_ItemCat = \"\";\r\n\t\t\t\t\tvar _row_ItemCatTxt = \"\";\r\n\t\t\t\t\tvar _row_AU = \"\";\r\n\t\t\t\t\tvar _row_AUTxt = \"\";\r\n\r\n\t\t\t\t\tif (selectedDocumentType === \"NB2\") {\r\n\t\t\t\t\t\t_row_AccAss = \"K\";\r\n\t\t\t\t\t\t_row_AccAssTxt = \"Cost Center\";\r\n\t\t\t\t\t\t_row_ItemCat = \"\";\r\n\t\t\t\t\t\t_row_ItemCatTxt = \"Standard\";\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif (selectedDocumentType === \"NB2D\") {\r\n\t\t\t\t\t\t_row_AccAss = \"K\";\r\n\t\t\t\t\t\t_row_AccAssTxt = \"Cost Center\";\r\n\t\t\t\t\t\t_row_ItemCat = \"D\";\r\n\t\t\t\t\t\t_row_ItemCatTxt = \"Service\";\r\n\t\t\t\t\t\t// Issue 50 language translation\r\n\t\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Issue 50 end\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif (selectedDocumentType === \"NB3\") {\r\n\t\t\t\t\t\t_row_AccAss = \"L\";\r\n\t\t\t\t\t\t_row_AccAssTxt = \"Limit\";\r\n\t\t\t\t\t\t_row_ItemCat = \"B\";\r\n\t\t\t\t\t\t_row_ItemCatTxt = \"Limit\";\r\n\t\t\t\t\t\t// Issue 50 language translation\r\n\t\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Issue 50 end\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// issue 48 start\r\n\t\t\t\t\telse\r\n\t\t\t\t\tif (selectedDocumentType === \"NB2Z\") {\r\n\t\t\t\t\t\t_row_AccAss = \"Z\";\r\n\t\t\t\t\t\t_row_AccAssTxt = \"Int Order\";\r\n\t\t\t\t\t\t_row_ItemCat = \"\";\r\n\t\t\t\t\t\t_row_ItemCatTxt = \"Standard\";\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif (selectedDocumentType === \"N2ZD\") {\r\n\t\t\t\t\t\t_row_AccAss = \"Z\";\r\n\t\t\t\t\t\t_row_AccAssTxt = \"Int Order\";\r\n\t\t\t\t\t\t_row_ItemCat = \"D\";\r\n\t\t\t\t\t\t_row_ItemCatTxt = \"Service\";\r\n\t\t\t\t\t\t// Issue 50 language translation\r\n\t\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Issue 50 end\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif (selectedDocumentType === \"NB3Z\") {\r\n\t\t\t\t\t\t_row_AccAss = \"L\";\r\n\t\t\t\t\t\t_row_AccAssTxt = \"Limit\";\r\n\t\t\t\t\t\t_row_ItemCat = \"B\";\r\n\t\t\t\t\t\t_row_ItemCatTxt = \"Limit\";\r\n\t\t\t\t\t\t// Issue 50 language translation\r\n\t\t\t\t\t\tif (_this.getOwnerComponent().AppInstance.sCurrentLocale == \"de\") {\r\n\t\t\t\t\t\t\t_row_AU = \"LE\";\r\n\t\t\t\t\t\t\t_row_AUTxt = \"LE\";\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_row_AU = \"AU\";\r\n\t\t\t\t\t\t\t_row_AUTxt = \"AU\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Issue 50 end\r\n\t\t\t\t\t} else\r\n\t\t\t\t\tif (selectedDocumentType === \"NB2F\") {\r\n\t\t\t\t\t\t_row_AccAss = \"F\";\r\n\t\t\t\t\t\t_row_AccAssTxt = \"Order\";\r\n\t\t\t\t\t\t_row_ItemCat = \"\";\r\n\t\t\t\t\t\t_row_ItemCatTxt = \"Standard\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//Issue 48 end\r\n\t\t\t\t\t;\r\n\r\n\t\t\t\t\titemsData.results.forEach(function(element) {\r\n\t\t\t\t\t\telement.Acctasscat = _row_AccAss;\r\n\t\t\t\t\t\telement.Acctasscattxt = _row_AccAssTxt;\r\n\r\n\t\t\t\t\t\telement.ItemCat = _row_ItemCat;\r\n\t\t\t\t\t\telement.ItemCattxt = _row_ItemCatTxt;\r\n\r\n\t\t\t\t\t\telement.PoUnit = _row_AU;\r\n\t\t\t\t\t\telement.PoUnittxt = _row_AU;\r\n\r\n\t\t\t\t\t\t/*Input 1 updated as per Issue 48 logic , so comment the issue 49 logic\r\n\t                            \t\t  //Issue 49 start , Fill Input1 field with doc type\r\n\t\t\t\t\t\t\t\t\t\t\telement.Input1 = selectedDocumentType;\r\n\t\t\t\t\t\t\t\t\t\t\t//Issue 49 End\r\n\t\t\t\t\t\t\t\t\t\t\t*/\r\n\r\n\t\t\t\t\t\t/* Issue 48 start \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tIf doc type is NB2F or NB2Z or N2ZD you should call it still with NB2. NB2F and NB2Z and N2ZD exists only in Fiori but not in SAP. \r\n\t\t\tAlso when we post we need to pass NB2 and not NB2F or NB2Z or N2ZD.*/\r\n\t\t\t\t\t\t// following block commented for test on 1 Aug 2018\r\n\t\t\t\t\t\t/*if ( selectedDocumentType ===\"NB2D\" || selectedDocumentType === \"NB2F\" || selectedDocumentType ===\"NB2Z\" || selectedDocumentType ===\"N2ZD\"){\r\n\t\t\t\t\t\t\t\telement.Input1 = \"NB2\";\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\telement.Input1 = selectedDocumentType;\r\n\t\t\t\t\t\t}*/\r\n\r\n\t\t\t\t\t\t// following line added so that in the UI we have the reference of select document for Order column\r\n\t\t\t\t\t\t/*element.InpuDocType = selectedDocumentType;*/\r\n\t\t\t\t\t\telement.Input1 = selectedDocumentType;\r\n\t\t\t\t\t\t// Issue 48 end\r\n\r\n\t\t\t\t\t\t// Issue 48 start\r\n\t\t\t\t\t\t/*if ((selectedDocumentType === \"NB2D\") || ( selectedDocumentType === \"NB3\" ))*/\r\n\t\t\t\t\t\t//if ((selectedDocumentType === \"NB2D\") || (selectedDocumentType === \"N2ZD\") || (selectedDocumentType === \"NB3\") || (selectedDocumentType === \"NB3Z\"))\r\n\t\t\t\t\t\tif ((selectedDocumentType === \"NB2D\") || (selectedDocumentType === \"N2ZD\") || (selectedDocumentType === \"NB2F\") || (\r\n\t\t\t\t\t\t\t\tselectedDocumentType === \"NB2Z\") || (selectedDocumentType === \"NB3\") || (selectedDocumentType === \"NB3Z\"))\r\n\t\t\t\t\t\t// Issue 48 end\r\n\t\t\t\t\t\t\telement.Quantity = \"1\";\r\n\r\n\t\t\t\t\t\telement.Orderid = \"\";\r\n\t\t\t\t\t\telement.Orderidtxt = \"\";\r\n\r\n\t\t\t\t\t\telement.Costcenter = \"\";\r\n\t\t\t\t\t\telement.Costcentertxt = \"\";\r\n\r\n\t\t\t\t\t\telement.GlAccount = \"\";\r\n\t\t\t\t\t\telement.GlAccounttxt = \"\";\r\n\r\n\t\t\t\t\t\telement.Limit = \"\";\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setData(itemsData);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"DocTypetxt\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"DocType\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetdoctypeSet\",\r\n\t\t\t\tfilters: [],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{DocType} {DocTypetxt}\",\r\n\t\t\t\t\tkey: \"{DocType}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\t\t},\r\n\r\n\t\t// HEADER Helper Function - Company Code\r\n\t\tfn_val_hlp_req__CompanyCode: function(oEvent) {\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Company Code\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/CompCode\", oSelectedObject.CompCode);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/CompCodetxt\", oSelectedObject.Butxt);\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/ContrArea\", oSelectedObject.Kokrs);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Ktopl\", oSelectedObject.Ktopl);\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/PurchOrg\", \"\");\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/PurchOrgtxt\");\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Vendor\", \"\");\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Vendorname\");\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Pmnttrms\", \"\");\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Pmnttrmstxt\");\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Currency\", \"\");\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.refresh(true);\r\n\r\n\t\t\t\t\t_this.fn_After_CompanyCode_Select();\r\n\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Butxt\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetcompcodeSet\",\r\n\t\t\t\tfilters: [],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{CompCode} {Butxt}\",\r\n\t\t\t\t\tkey: \"{CompCode}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\t\t},\r\n\r\n\t\t// HEADER Helper Function - Purchasing Organization\r\n\t\tfn_val_hlp_req__PurchasingOrganization: function(oEvent) {\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Purchasing Organization\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/PurchOrg\", oSelectedObject.PurchOrg);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/PurchOrgtxt\", oSelectedObject.PurchOrgtxt);\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Vendor\", \"\");\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Vendorname\");\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Pmnttrms\", \"\");\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Pmnttrmstxt\");\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Currency\", \"\");\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.refresh(true);\r\n\r\n\t\t\t\t\tvar itemsData = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData();\r\n\r\n\t\t\t\t\tvar selectedDocumentType = _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/DocType\");\r\n\r\n\t\t\t\t\titemsData.results.forEach(function(element) {\r\n\t\t\t\t\t\telement.Currency = \"\";\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setData(itemsData);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\t\t\tvar AppInstance = _this.getOwnerComponent().AppInstance;\r\n\r\n\t\t\t\t\t_this.fn_After_PurchasingOrganization_Select();\r\n\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"PurchOrgtxt\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"PurchOrg\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetpurchorgSet\",\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"PurchOrg\", sap.ui.model.FilterOperator.EQ, \"\"),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header\r\n\t\t\t\t\t\t.getProperty(\r\n\t\t\t\t\t\t\t\"/CompCode\"))\r\n\t\t\t\t],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{PurchOrg} {PurchOrgtxt}\",\r\n\t\t\t\t\tkey: \"{PurchOrg}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\t\t},\r\n\r\n\t\t// HEADER Helper Function - Supplier (Vendor)\r\n\t\tfn_val_hlp_req__Supplier: function(oEvent) {\r\n\t\t\tvar _this = this;\r\n\t\t\t/*var selectDialog = new sap.m.SelectDialog({\r\n\t        \t\t\t\t\ttitle: \"Supplier\",\r\n\t                            confirm: function(oevent){\r\n\t                            \tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject() ;\r\n\t                            \t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Vendor\",oSelectedObject.Vendor);\r\n\t                            \t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Vendorname\",oSelectedObject.Vendorname);\r\n\t                            \t\r\n\t                            \t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Pmnttrms\",oSelectedObject.Pmnttrms);\r\n\t                            \t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Pmnttrmstxt\",oSelectedObject.Pmnttrmsname);\r\n\t                            \t\r\n\t                            \t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Currency\",oSelectedObject.Currency);\r\n\t                            \t\r\n\t                            \tvar itemsData = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData() ;\r\n\t                            \t\r\n\t                            \titemsData.results.forEach(function(element) {\r\n\t                            \t\t  element.Currency = oSelectedObject.Currency ;\r\n\t                            \t});\r\n\t                            \t\r\n\t                            \t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setData(itemsData);\r\n\t                            \t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\t                            \t\r\n\t                            \t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.refresh(true);\r\n\t                            },\r\n\t                            cancel: function(oevent){}\r\n                          });*/\r\n\r\n\t\t\tvar tableSelectDialog = new sap.m.TableSelectDialog({\r\n\t\t\t\ttitle: \"Supplier\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Vendor\", oSelectedObject.Vendor);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Vendorname\", oSelectedObject.Vendorname);\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Pmnttrms\", oSelectedObject.Pmnttrms);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Pmnttrmstxt\", oSelectedObject.Pmnttrmsname);\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Currency\", oSelectedObject.Currency);\r\n\r\n\t\t\t\t\tvar itemsData = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData();\r\n\r\n\t\t\t\t\titemsData.results.forEach(function(element) {\r\n\t\t\t\t\t\telement.Currency = oSelectedObject.Currency;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setData(itemsData);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {},\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\tnew sap.m.Column({\r\n\t\t\t\t\t\theader: new sap.m.Label({\r\n\t\t\t\t\t\t\ttext: \"Vendor\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tnew sap.m.Column({\r\n\t\t\t\t\t\theader: new sap.m.Label({\r\n\t\t\t\t\t\t\ttext: \"Name\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tnew sap.m.Column({\r\n\t\t\t\t\t\theader: new sap.m.Label({\r\n\t\t\t\t\t\t\ttext: \"Name2\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tnew sap.m.Column({\r\n\t\t\t\t\t\theader: new sap.m.Label({\r\n\t\t\t\t\t\t\ttext: \"Search Term\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tnew sap.m.Column({\r\n\t\t\t\t\t\theader: new sap.m.Label({\r\n\t\t\t\t\t\t\ttext: \"City\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tnew sap.m.Column({\r\n\t\t\t\t\t\theader: new sap.m.Label({\r\n\t\t\t\t\t\t\ttext: \"Address\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tnew sap.m.Column({\r\n\t\t\t\t\t\theader: new sap.m.Label({\r\n\t\t\t\t\t\t\ttext: \"Country\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tnew sap.m.Column({\r\n\t\t\t\t\t\theader: new sap.m.Label({\r\n\t\t\t\t\t\t\ttext: \"Currency\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t],\r\n\t\t\t\titems: {\r\n\t\t\t\t\tpath: \"/ZtgetvendorSet\",\r\n\t\t\t\t\ttemplate: new sap.m.ColumnListItem({\r\n\t\t\t\t\t\tcells: [\r\n\t\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\t\ttext: \"{Vendor}\"\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\t\ttext: \"{Vendorname}\"\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\t\ttext: \"{Name2}\"\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\t\ttext: \"{Sortl}\"\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\t\ttext: \"{Ort01}\"\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\t\ttext: \"{Stras}\"\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\t\ttext: \"{Land1}\"\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\t\ttext: \"{Currency}\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\ttableSelectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tvar oFilters;\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"PurchOrg\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header\r\n\t\t\t\t\t\t.getProperty(\"/PurchOrg\")));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Vendor\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Vendorname\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Name2\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Sortl\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Ort01\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Stras\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Land1\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\t//filters.push(new sap.ui.model.Filter(\"Currency\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"PurchOrg\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header\r\n\t\t\t\t\t\t.getProperty(\"/PurchOrg\")));\r\n\t\t\t\t}\r\n\t\t\t\toFilters = new sap.ui.model.Filter(filters, true);\r\n\r\n\t\t\t\tbinding.filter(oFilters, sap.ui.model.FilterType.Application);\r\n\t\t\t});\r\n\r\n\t\t\ttableSelectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetvendorSet\",\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"PurchOrg\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header\r\n\t\t\t\t\t.getProperty(\"/PurchOrg\"))],\r\n\t\t\t\ttemplate: new sap.m.ColumnListItem({\r\n\t\t\t\t\tcells: [\r\n\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\ttext: \"{Vendor}\"\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\ttext: \"{Vendorname}\"\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\ttext: \"{Name2}\"\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\ttext: \"{Sortl}\"\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\ttext: \"{Ort01}\"\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\ttext: \"{Stras}\"\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\ttext: \"{Land1}\"\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\ttext: \"{Currency}\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t]\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\ttableSelectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\ttableSelectDialog.open();\r\n\r\n\t\t\t/*selectDialog.attachSearch(function (_oEvent) {\r\n                          \t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\t\t\t\t\tfilters = [];\r\n\t\t\t\t\t\t\t\t\t// following block due to enhancement of columns in f4 help - feb 2018\r\n\t\t\t\t\t\t\t\t// if(value.length){\r\n\t\t\t\t\t\t\t\t// \tfilters.push(new sap.ui.model.Filter(\"Vendorname\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\t\t\t\t// \tfilters.push(new sap.ui.model.Filter(\"Vendor\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t// binding.filter(filters);\r\n\t\t\t\t\t\t\t\tvar oFilters;\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"PurchOrg\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/PurchOrg\")));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Vendor\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Vendorname\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Name2\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Sortl\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\t// filters.push(new sap.ui.model.Filter(\"Currency\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Ort01\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Stras\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Land1\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}else{\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"PurchOrg\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/PurchOrg\")));\r\n\t\t\t\t}\r\n\t\t\t\toFilters = new sap.ui.model.Filter(filters, true);\r\n\t\t\t\t// binding.filter(filters,false);\r\n\t\t\t\tbinding.filter(oFilters, sap.ui.model.FilterType.Application);\r\n                     }) ;*/\r\n\r\n\t\t\t/*selectDialog.bindAggregation(\"items\",{\r\n\t\t\t\t\t\t            path:\"/ZtgetvendorSet\",\r\n\t\t\t\t\t\t            filters : [new sap.ui.model.Filter(\"PurchOrg\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\"/PurchOrg\"))],\r\n\t\t\t\t\t\t            template: new sap.m.StandardListItem({\r\n\t\t\t\t\t\t              \ttitle: \"{Vendor}, {Vendorname}, {Name2}, {Sortl}, {Ort01}, {Stras},{Land1}\",\r\n\t\t\t\t\t\t\t\t\t\t// title: \"{Vendor} {Vendorname} {Name2} {Sortl} {Currency} {Ort01} {Stras} {Land1}\",\r\n\t\t\t\t\t\t              \tkey : \"{Vendor}\"\r\n\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t          });\r\n\t\t        \t\t\t\r\n\t\t        \t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\t\t\t\t\tselectDialog.open();*/\r\n\t\t},\r\n\r\n\t\t// HEADER Helper Function - Purchasing Group\r\n\t\tfn_val_hlp_req__PurchasingGroup: function(oEvent) {\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Purchasing Group\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/PurGroup\", oSelectedObject.PurGroup);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/PurGrouptxt\", oSelectedObject.Eknam);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Eknam\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"PurGroup\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetpurgroupSet\",\r\n\t\t\t\tfilters: [],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{PurGroup} {Eknam}\",\r\n\t\t\t\t\tkey: \"{PurGroup}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\t\t},\r\n\r\n\t\t// HEADER Helper Function - Payment Terms\r\n\t\tfn_val_hlp_req__PaymentTerms: function(oEvent) {\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Payment Terms\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Pmnttrms\", oSelectedObject.Pmnttrms);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Pmnttrmstxt\", oSelectedObject.Pmnttrmsname);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Pmnttrmsname\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetpaymentSet\",\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\")],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{Pmnttrmsname}\",\r\n\t\t\t\t\tkey: \"{Pmnttrms}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\t\t},\r\n\r\n\t\t// HEADER Helper Function - Currency\r\n\t\tfn_val_hlp_req__Currency: function(oEvent) {\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Currency\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/Currency\", oSelectedObject.Currency);\r\n\r\n\t\t\t\t\tvar itemsData = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData();\r\n\r\n\t\t\t\t\titemsData.results.forEach(function(element) {\r\n\t\t\t\t\t\telement.Currency = oSelectedObject.Currency;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setData(itemsData);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Currencytxt\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Currency\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetcurrencySet\",\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\")],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{Currency} {Currencytxt}\",\r\n\t\t\t\t\tkey: \"{Currency}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\t\t},\r\n\r\n\t\t// HEADER Helper Function - Requisitioner\r\n\t\tfn_val_hlp_req__Requisitioner: function(oEvent) {\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Requisitioner\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/PreqName\", oSelectedObject.PreqName);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.setProperty(\"/PreqNametxt\", oSelectedObject.NameTextc);\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Header.refresh(true);\r\n\r\n\t\t\t\t\t//_this.fn_After_RequisitionerSelected(oSelectedObject.PreqName);\r\n\r\n\t\t\t\t\tvar itemsData = _this.getOwnerComponent().AppInstance.CurrentMODEL_Items.getData();\r\n\t\t\t\t\titemsData.results.forEach(function(element) {\r\n\t\t\t\t\t\telement.PreqName = oSelectedObject.PreqName;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.setData(itemsData);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_Items.refresh(true);\r\n\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"NameTextc\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"PreqName\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetpreqnameSet\",\r\n\t\t\t\tfilters: [],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{PreqName} {NameTextc}\",\r\n\t\t\t\t\tkey: \"{PreqName}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\t\t},\r\n\r\n\t\t// HEADER Helper Function - EMail\r\n\t\tfn_val_hlp_req__EMail: function(oEvent) {\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\t\t\tAppInstance.CurrentMODEL_Header.setProperty(\"/EMail\", oEvent.getParameters().newValue);\r\n\t\t\tAppInstance.CurrentMODEL_Header.refresh(true);\r\n\t\t},\r\n\r\n\t\t// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\t\t// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\t\t// HELPERS FOR TABLE SUBITEMS INPUTS\r\n\t\t// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\t\t// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\r\n\t\t// SubItems Table Helper Function - Order\r\n\t\tfn_val_hlp_req__SubItems_Order: function(oEvent) {\r\n\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Order\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + rowIndex + \"/ORDERID\", oSelectedObject.Orderid);\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + rowIndex + \"/ORDERIDTXT\", oSelectedObject.Orderidtxt);\r\n\t\t\t\t\tthis.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.refresh(true);\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Orderid\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetorderSet\",\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"CompCode\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header\r\n\t\t\t\t\t\t.getProperty(\"/CompCode\")),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Kokrs\", sap.ui.model.FilterOperator.EQ, sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance\r\n\t\t\t\t\t\t.CurrentMODEL_Header.getProperty(\"/ContrArea\"))\r\n\t\t\t\t],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{Orderid} {Orderidtxt}\",\r\n\t\t\t\t\tkey: \"{Orderid}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\t\t},\r\n\r\n\t\t// SubItems Table Helper Function - Account\r\n\t\tfn_val_hlp_req__SubItems_Account: function(oEvent) {\r\n\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Account\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + rowIndex + \"/GL_ACCOUNT\", oSelectedObject.GlAccount);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + rowIndex + \"/GL_ACCOUNTTXT\", oSelectedObject.GlAccounttxt);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.refresh(true);\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"GlAccount\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"GlAccounttxt\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetglaccountSet\",\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\"),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Bukrs\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\r\n\t\t\t\t\t\t\"/CompCode\"))\r\n\t\t\t\t],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{GlAccount} {GlAccounttxt}\",\r\n\t\t\t\t\tkey: \"{GlAccount}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(_this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\t\t},\r\n\r\n\t\t// SubItems Table Helper Function - Cost Center\r\n\t\tfn_val_hlp_req__SubItems_CostCenter: function(oEvent) {\r\n\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar _this = this;\r\n\t\t\tvar selectDialog = new sap.m.SelectDialog({\r\n\t\t\t\ttitle: \"Cost Center\",\r\n\t\t\t\tconfirm: function(oevent) {\r\n\t\t\t\t\tvar oSelectedObject = oevent.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + rowIndex + \"/COSTCENTER\", oSelectedObject.Costcenter);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + rowIndex + \"/COSTCENTERTXT\", oSelectedObject.Costcentertxt);\r\n\t\t\t\t\t_this.getOwnerComponent().AppInstance.CurrentMODEL_SubItems.refresh(true);\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oevent) {}\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.attachSearch(function(_oEvent) {\r\n\t\t\t\tvar binding = _oEvent.getParameter(\"itemsBinding\"),\r\n\t\t\t\t\tvalue = _oEvent.getParameter(\"value\"),\r\n\t\t\t\t\tfilters = [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Costcenter\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Costcentertxt\", sap.ui.model.FilterOperator.Contains, value));\r\n\t\t\t\t}\r\n\t\t\t\tbinding.filter(filters);\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.bindAggregation(\"items\", {\r\n\t\t\t\tpath: \"/ZtgetcostcenterSet\",\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\"),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Bukrs\", sap.ui.model.FilterOperator.EQ, _this.getOwnerComponent().AppInstance.CurrentMODEL_Header.getProperty(\r\n\t\t\t\t\t\t\"/CompCode\"))\r\n\t\t\t\t],\r\n\t\t\t\ttemplate: new sap.m.StandardListItem({\r\n\t\t\t\t\ttitle: \"{Costcenter} {Costcentertxt}\",\r\n\t\t\t\t\tkey: \"{Costcenter}\"\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tselectDialog.setModel(this.getOwnerComponent().getModel(\"model__f4_functions\"));\r\n\t\t\tselectDialog.open();\r\n\t\t},\r\n\r\n\t\t//\r\n\t\tfn_focusout_Distribution__CostCenter: function(oEvent) {\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar newValue = oEvent.getParameters().newValue;\r\n\t\t\tvar sourceInput = oEvent.getSource();\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\r\n\t\t\tvar oldKey = AppInstance.CurrentMODEL_SubItems.getProperty(\"/\" + rowIndex + \"/COSTCENTER\");\r\n\t\t\tvar oldValue = AppInstance.CurrentMODEL_SubItems.getProperty(\"/\" + rowIndex + \"/COSTCENTERTXT\");\r\n\r\n\t\t\tsourceInput.setBusyIndicatorDelay(0);\r\n\t\t\tsourceInput.setBusy(true);\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetcostcenterSet\", {\r\n\t\t\t\tfilters: [new sap.ui.model.Filter(\"Spras\", sap.ui.model.FilterOperator.EQ, \"EN\"),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Bukrs\", sap.ui.model.FilterOperator.EQ, AppInstance.CurrentMODEL_Header.getProperty(\"/CompCode\")),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Costcenter\", sap.ui.model.FilterOperator.Contains, newValue),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Costcentertxt\", sap.ui.model.FilterOperator.Contains, newValue)\r\n\t\t\t\t],\r\n\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tif (oData.results.length > 0) {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + rowIndex + \"/COSTCENTER\", oData.results[0].Costcenter);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + rowIndex + \"/COSTCENTERTXT\", oData.results[0].Costcentertxt);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_SubItems.refresh(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + rowIndex + \"/COSTCENTER\", \"\");\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + rowIndex + \"/COSTCENTERTXT\", \"\");\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_SubItems.refresh(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsourceInput.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tfn_focusout_Distribution__Account: function(oEvent) {\r\n\t\t\tvar rowIndex = oEvent.getSource().getParent().getIndex();\r\n\t\t\tvar newValue = oEvent.getParameters().newValue;\r\n\t\t\tvar sourceInput = oEvent.getSource();\r\n\t\t\tvar AppInstance = this.getOwnerComponent().AppInstance;\r\n\r\n\t\t\tvar oldKey = AppInstance.CurrentMODEL_SubItems.getProperty(\"/\" + rowIndex + \"/GL_ACCOUNT\");\r\n\t\t\tvar oldValue = AppInstance.CurrentMODEL_SubItems.getProperty(\"/\" + rowIndex + \"/GL_ACCOUNTTXT\");\r\n\r\n\t\t\tsourceInput.setBusyIndicatorDelay(0);\r\n\t\t\tsourceInput.setBusy(true);\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"model__f4_functions\").read(\"/ZtgetglaccountSet\", {\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"GlAccount\", sap.ui.model.FilterOperator.Contains, newValue),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"GlAccounttxt\", sap.ui.model.FilterOperator.Contains, newValue)\r\n\t\t\t\t],\r\n\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tif (oData.results.length > 0) {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + rowIndex + \"/GL_ACCOUNT\", oData.results[0].GlAccount);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + rowIndex + \"/GL_ACCOUNTTXT\", oData.results[0].GlAccounttxt);\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_SubItems.refresh(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + rowIndex + \"/GL_ACCOUNT\", \"\");\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_SubItems.setProperty(\"/\" + rowIndex + \"/GL_ACCOUNTTXT\", \"\");\r\n\t\t\t\t\t\tAppInstance.CurrentMODEL_SubItems.refresh(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsourceInput.setBusy(false);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(error) {}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\thandleUploadPress: function(oEvent) {\r\n\t\t\t//var oFileUploader = this.byId(\"fileUploader\");\r\n\t\t\tvar oFileUploader = this.getView().byId(\"toggleItemData_Attachment\").getAggregation(\"content\")[0];\r\n\t\t\tif (!oFileUploader.getValue()) {\r\n\t\t\t\tMessageToast.show(\"Choose a file first\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Start\r\n\t\t\tvar oBusyDialog = new sap.m.BusyDialog();\r\n\t\t\toBusyDialog.open();\r\n\r\n\t\t\t//\tvar csrfToken = this.getView().getModel().oHeaders['x-csrf-token'];\r\n\t\t\t//\talert(\" - csrfToken -  \"+csrfToken);\r\n\t\t\tvar that = this;\r\n\t\t\tvar oView = this.getView();\r\n\t\t\tvar oFileUploader = this.getView().byId(\"toggleItemData_Attachment\").getAggregation(\"content\")[0];\r\n\r\n\t\t\t/*aasdasdasd*/\r\n\t\t\tvar token = this.getView().getModel(\"model__transfer_po\").getSecurityToken();\r\n\r\n\t\t\tif (!this.busyInd) {\r\n\t\t\t\tthis.busyInd = new sap.m.BusyDialog();\r\n\t\t\t}\r\n\t\t\t//this.busyInd.open();\r\n\t\t\tvar sPoNumber = this.getView().byId(\"inputPONumber\").getValue();\r\n\t\t\tvar sFileName = oFileUploader.getValue();\r\n\t\t\tvar file = jQuery.sap.domById(oFileUploader.getId() + \"-fu\").files[0];\r\n\t\t\tvar BASE64_MARKER = 'data:' + file.type + ';base64,';\r\n\t\t\tvar filename = file.name;\r\n\t\t\tvar fileSize = file.size;\r\n\t\t\tvar fileType = file.type;\r\n\t\t\tvar oSlugData = sPoNumber + \"/\" + filename;\r\n\t\t\tvar sAttachService = window.location.origin + \"/sap/opu/odata/sap/ZODATA_22256_PO_CR_CH_SERVICE_SRV/ZtgetattachmentSet\"\r\n\r\n\t\t\r\n\t\t//\tvar datas =oFileUploader.getFocusDomRef().files[0];\r\n\r\n\t\tvar reader = new FileReader();\r\n\t/*\toFileUploader.addHeaderParameter(new sap.ui.unified.FileUploaderParameter({\r\n\r\n  name: 'x-csrf-token',\r\n\r\n  value: token\r\n\r\n  }));\r\n\r\n  oFileUploader.insertHeaderParameter(new sap.ui.unified.FileUploaderParameter({\r\n\r\n  name: 'slug',\r\n\r\n  value: oSlugData\r\n\r\n  }));\r\n\r\n  oFileUploader.setUploadUrl(sAttachService);\r\n\r\n\r\n\r\n  \tif (!oFileUploader.getValue()) {\r\n\t\t\t\tMessageToast.show(\"Choose a file first\");\r\n  \t}\r\n  \telse\r\n{\r\n  oFileUploader.upload();\r\n\r\n  }*/\r\n  \r\n  \r\n\r\n\t\t\t// On load set file contents to text view\r\n\t\t\treader.onload = (function(theFile) {\r\n\t\t\t\treturn function(evt) {\r\n\t\t\t\t\t//var sObjService = window.location.origin + \"/sap/opu/odata/sap/ZODATA_22256_PO_CR_CH_SERVICE_SRV/ZtgetattachmentSet\";\r\n\t\t\t\t\tvar sAttachService = window.location.origin + \"/sap/opu/odata/sap/ZODATA_22256_PO_CR_CH_SERVICE_SRV/ZtgetattachmentSet\"\r\n\t\t\t\t\tvar base64Index = evt.target.result.indexOf(BASE64_MARKER) + BASE64_MARKER.length;\r\n\t\t\t\t\tvar base64 = evt.target.result.substring(base64Index);\r\n\t\r\n\t\t\t\t\t$.ajaxSetup({\r\n\t\t\t\t\t\tcache: false\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tjQuery.ajax({\r\n\t\t\t\t\t\turl: sAttachService,\r\n\t\t\t\t\t\ttype: \"POST\",\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\t\tdata: base64,\r\n\t\t\t\t\t\tcache: false,\r\n\t\t\t\t\t\tbeforeSend: function(xhr) {\r\n\t\t\t\t\t\t\txhr.setRequestHeader(\"X-CSRF-Token\", token);\r\n\t\t\t\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n\t\t\t\t\t\t\txhr.setRequestHeader(\"slug\", oSlugData);\r\n\t\t\t\t\t\t\t//xhr.setRequestHeader(\"Access-Control-Allow-Origin\", \"*\");\r\n\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: function(odata, textStatus, XMLHttpRequest) {\r\n\r\n\t\t\t\t\t\t\toBusyDialog.close();\r\n\r\n\t\t\t\t\t\t\tsap.m.MessageToast.show(\"File Uploded Successfully.\", {\r\n\t\t\t\t\t\t\t\tautoClose: true\r\n\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\toFileUploader.setValue(\"\");\r\n\t\t\t\t\t\t\tthat.readAttachment();\r\n\t\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\t\terror: function(odata) {\r\n\t\t\t\t\t\t\toBusyDialog.close();\r\n\t\t\t\t\t\t\tif (odata.responseJSON && odata.responseJSON.error && odata.responseJSON.error.message && odata.responseJSON.error.message\r\n\t\t\t\t\t\t\t\t.value) {\r\n\t\t\t\t\t\t\t\tif (odata.responseJSON.error.message.value == \"Service provider did not return any business data.\") {\r\n\t\t\t\t\t\t\t\t\tsap.m.MessageToast.show(\"File uploaded Successfully.\", {\r\n\t\t\t\t\t\t\t\t\t\tautoClose: true\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\toFileUploader.setValue(\"\");\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tvar msg = \"\";\r\n\t\t\t\t\t\t\t\t\tvar errArr = odata.responseJSON.error.innererror.errordetails;\r\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < errArr.length; i++) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (errArr[i].code != \"/IWBEP/CX_MGW_TECH_EXCEPTION\") {\r\n\t\t\t\t\t\t\t\t\t\t\tmsg = msg + errArr[i].message + \"\\n\";\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tmsg = odata.responseJSON.error.message.value;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\t\t\tmsg, {\r\n\t\t\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.ERROR,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\t\t\t\t\t\tonClose: function(oAction) {}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\toBusyDialog.close();\r\n\t\t\t\t\t\t\t\tsap.m.MessageToast.show(\"File upload failed\");\r\n\t\t\t\t\t\t\t\tconsole.log(odata);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t})(file);\r\n\t\t\treader.readAsDataURL(file);\r\n\r\n\t\t\t// End\r\n\r\n\t\t},\r\n\t/*handleUploadComplete: function(oEvent) {\r\n\t\t\tvar oBusyDialog = new sap.m.BusyDialog();\r\n\t\t\tvar sResponse = oEvent.getParameter('response');\r\n\t\t\tvar oFileUploader = this.getView().byId(\"toggleItemData_Attachment\").getAggregation(\"content\")[0];\r\n\t\t\tif (sResponse) {\r\n\t\t\t\r\n                   \r\n                    \toBusyDialog.close();\r\n\r\n\t\t\t\t\t\t\tsap.m.MessageToast.show(\"File Uploded Successfully.\", {\r\n\t\t\t\t\t\t\t\tautoClose: true\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\toFileUploader.setValue(\"\");\r\n\t\t\t}\r\n\t\t},\r\n\t\t*/\r\n\r\n\t\thandleDelete: function(oEvent) {\r\n\r\n\t\t\tvar ObjectId = this.getView().byId(\"inputPONumber\").getValue();\r\n\t\t\tvar ObjectType = \"BUS2012\";\r\n\t\t\tvar ObjectCat = \"BO\";\r\n\t\t\tvar oItem = oEvent.getParameter(\"listItem\");\r\n\t\t\tvar oModel = this.getView().getModel(\"model__transfer_po\");\r\n\r\n\t\t\tvar DocumentId = oItem.getBindingContext().getProperty().DocumentId;\r\n\t\t\tvar Surl = \"/ZtgetattachmentSet(ObjectId='\" + ObjectId + \"',ObjectType='\" + ObjectType + \"',ObjectCat='\" + ObjectCat +\r\n\t\t\t\t\"',DocumentId='\" + DocumentId + \"')/$value\";\r\n\t\t\t//alert(\" Surl - \"+Surl);\r\n\t\t\t//sconsole.log(Surl);\r\n\r\n\t\t\toModel.remove(Surl, {\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t// Success \r\n\t\t\t\t\tthis.readAttachment();\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t// Error \r\n\t\t\t\t\tconsole.log(\" Delete failed\");\r\n\t\t\t\t\talert(\" Delete Failed\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\tonListItemPress: function(oEvent) {\r\n\t\t\t//debugger;\r\n\t\t\t//this.odataModel = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZODATA_22256_PO_CR_CH_SERVICE_SRV\");\r\n\t\t\t// insert url parameters    \r\n\t\t\tvar ObjectId = this.getView().byId(\"inputPONumber\").getValue();\r\n\t\t\tvar ObjectType = \"BUS2012\";\r\n\t\t\tvar ObjectCat = \"BO\";\r\n\t\t\tvar DocumentId = oEvent.getSource().getBindingContext().getObject().DocumentId;\r\n\r\n\t\t\tvar Surl = window.location.origin + \"/sap/opu/odata/sap/ZODATA_22256_PO_CR_CH_SERVICE_SRV/\" +\r\n\t\t\t\t\"ZtgetattachmentSet(ObjectId='\" + ObjectId + \"',ObjectType='\" + ObjectType + \"',ObjectCat='\" + ObjectCat + \"',DocumentId='\" +\r\n\t\t\t\tDocumentId + \"')/$value\";\r\n\t\t/*var context = oEvent.getSource().getBindingContext();\r\n\t\tvar saveData = (function(){\r\n\t\t\tvar a = document.createElement('a');\r\n\t\t\tdocument.body.appendChild(a);\r\n\t\t\treturn function(data, filename)\r\n\t\t\t{\r\n\t\t\t\tvar blob= new Blob([data], {\r\n\t\t\t\t\ttype:filetype\r\n\t\t\t\t}),\r\n\t\t\t\turl = window.URL.createObjectURL(blob);\r\n\t\t\t\ta.href= url;\r\n\t\t\t\ta.download = filename;\r\n\t\t\t\ta.click();\r\n\t\t\t\twindow.URL.revokeObjectURL(url);\r\n\t\t\t\ta.remove();\r\n\t\t\t\t\r\n\t\t\t};\r\n\t\t}());\r\n\t\tvar oModel = this.getView().getModel(\"model__transfer_po\");\r\n\t\tvar DocumentId = oEvent.getSource().getBindingContext().getProperty().DocumentId;\r\n\t\tvar filename= oEvent.getSource().getBindingContext().getProperty().FileName;\r\n\t\tvar filetype = oEvent.getSource().getBindingContext().getProperty().MimeType;\r\n\t    var Surl = window.location.origin +\"/sap/opu/odata/sap/ZODATA_22256_PO_CR_CH_SERVICE_SRV/\" +\r\n\t\t\t\t\"ZtgetattachmentSet(ObjectId='\" + ObjectId + \"',ObjectType='\" + ObjectType + \"',ObjectCat='\" + ObjectCat + \"',DocumentId='\" +\r\n\t\t\t\tDocumentId + \"')/$value\";\r\n\t\t\t\tvar data = jQuery.ajax({\r\n\t\t\t\t\t\turl: Surl,\r\n\t\t\t\t\t\ttype: \"GET\",\r\n\t\t\t\t\t\tasync: false,\r\n\t\t\t\t\t    ContentType: \"image/jpg; Charset=UTF-8\",\r\n\t\t\t\t\t\tcache: false,\r\n\t\t\t\t\t\tsuccess: function(odata){\r\n\t\t\t\t\t\t\tsap.m.MessageToast.show(\"Success\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tfiletype =filetype+\";charset=UTF-8\";\r\n\t\t\t\tsaveData(data.responseText, filename, filetype);*/\r\n\t\r\n\t\t\t       \t\r\n\t\t\t    \r\n\t\t\twindow.open(Surl, '_blank');\r\n\t\t\t// }});\r\n\t\t\t/*\t// CAll oData start                                   \r\n\t\t\tthis.odataModel.read(\"/ZtgetattachmentSet(ObjectId='\" + ObjectId + \"',ObjectType='\" + ObjectType +\"',ObjectCat='\" +ObjectCat + \"',DocumentId='\" + DocumentId + \"')/$value\",                                                \r\n\t\tnull,                                                \r\n       null,                                               \r\n\t\tfalse,                                               \r\n\t\t\tfunction(oData, oResponse) {                                                          \r\n\t\t\t\talert(\"File fetched successfully\");                                                         \r\n\t\t\t\tvar response = oResponse.requestUri;                                                            \r\n\t\t\t\tsap.m.URLHelper.redirect(response, true);               \r\n\t\t\t\t}                                   \r\n\t\t\t\t);*/\r\n\t\t\t//alert(\"hi\");  \r\n\t\t}\r\n\r\n\t});\r\n});"
	}
});